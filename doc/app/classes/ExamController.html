<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Class: ExamController</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href=".././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Class</strong></td>
          <td class="class-name-in-header">ExamController</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>
                <a href="../files/app/controllers/exam_controller_rb.html">
                app/controllers/exam_controller.rb
                </a>
        <br />
            </td>
        </tr>

        <tr class="top-aligned-row">
            <td><strong>Parent:</strong></td>
            <td>
                <a href="ApplicationController.html">
                ApplicationController
               </a>
            </td>
        </tr>
        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">



   </div>

    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">
      <a href="#M000370">academic_report</a>&nbsp;&nbsp;
      <a href="#M000359">consolidated_exam_report</a>&nbsp;&nbsp;
      <a href="#M000360">consolidated_exam_report_pdf</a>&nbsp;&nbsp;
      <a href="#M000371">create_exam</a>&nbsp;&nbsp;
      <a href="#M000355">exam_wise_report</a>&nbsp;&nbsp;
      <a href="#M000366">final_report_type</a>&nbsp;&nbsp;
      <a href="#M000357">generated_report</a>&nbsp;&nbsp;
      <a href="#M000363">generated_report2</a>&nbsp;&nbsp;
      <a href="#M000364">generated_report2_pdf</a>&nbsp;&nbsp;
      <a href="#M000365">generated_report3</a>&nbsp;&nbsp;
      <a href="#M000367">generated_report4</a>&nbsp;&nbsp;
      <a href="#M000368">generated_report4_pdf</a>&nbsp;&nbsp;
      <a href="#M000358">generated_report_pdf</a>&nbsp;&nbsp;
      <a href="#M000374">graph_for_generated_report</a>&nbsp;&nbsp;
      <a href="#M000375">graph_for_generated_report3</a>&nbsp;&nbsp;
      <a href="#M000376">graph_for_previous_years_marks_overview</a>&nbsp;&nbsp;
      <a href="#M000354">grouping</a>&nbsp;&nbsp;
      <a href="#M000351">index</a>&nbsp;&nbsp;
      <a href="#M000356">list_exam_types</a>&nbsp;&nbsp;
      <a href="#M000362">list_subjects</a>&nbsp;&nbsp;
      <a href="#M000369">previous_years_marks_overview</a>&nbsp;&nbsp;
      <a href="#M000353">publish</a>&nbsp;&nbsp;
      <a href="#M000361">subject_wise_report</a>&nbsp;&nbsp;
      <a href="#M000373">update_batch</a>&nbsp;&nbsp;
      <a href="#M000372">update_batch_ex_result</a>&nbsp;&nbsp;
      <a href="#M000352">update_exam_form</a>&nbsp;&nbsp;
      </div>
    </div>

  </div>


    <!-- if includes -->

    <div id="section">





      


    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Public Instance methods</h3>

      <div id="method-M000370" class="method-detail">
        <a name="M000370"></a>

        <div class="method-heading">
          <a href="#M000370" class="method-signature">
          <span class="method-name">academic_report</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000370-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000370-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/exam_controller.rb, line 389</span>
389:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">academic_report</span>
390:     <span class="ruby-comment cmt">#academic-archived-report</span>
391:     <span class="ruby-ivar">@student</span> = <span class="ruby-constant">Student</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:student</span>])
392:     <span class="ruby-ivar">@batch</span> = <span class="ruby-constant">Batch</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:year</span>])
393:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:type</span>] <span class="ruby-operator">==</span> <span class="ruby-value str">'grouped'</span>
394:       <span class="ruby-ivar">@grouped_exams</span> = <span class="ruby-constant">GroupedExam</span>.<span class="ruby-identifier">find_all_by_batch_id</span>(<span class="ruby-ivar">@batch</span>.<span class="ruby-identifier">id</span>)
395:       <span class="ruby-ivar">@exam_groups</span> = []
396:       <span class="ruby-ivar">@grouped_exams</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span>
397:         <span class="ruby-ivar">@exam_groups</span>.<span class="ruby-identifier">push</span> <span class="ruby-constant">ExamGroup</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">x</span>.<span class="ruby-identifier">exam_group_id</span>)
398:       <span class="ruby-keyword kw">end</span>
399:     <span class="ruby-keyword kw">else</span>
400:       <span class="ruby-ivar">@exam_groups</span> = <span class="ruby-constant">ExamGroup</span>.<span class="ruby-identifier">find_all_by_batch_id</span>(<span class="ruby-ivar">@batch</span>.<span class="ruby-identifier">id</span>)
401:     <span class="ruby-keyword kw">end</span>
402:     <span class="ruby-identifier">general_subjects</span> = <span class="ruby-constant">Subject</span>.<span class="ruby-identifier">find_all_by_batch_id</span>(<span class="ruby-ivar">@batch</span>.<span class="ruby-identifier">id</span>, <span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;elective_group_id IS NULL and is_deleted=false&quot;</span>)
403:     <span class="ruby-identifier">student_electives</span> = <span class="ruby-constant">StudentsSubject</span>.<span class="ruby-identifier">find_all_by_student_id</span>(<span class="ruby-ivar">@student</span>.<span class="ruby-identifier">id</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-node">&quot;batch_id = #{@batch.id}&quot;</span>)
404:     <span class="ruby-identifier">elective_subjects</span> = []
405:     <span class="ruby-identifier">student_electives</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">elect</span><span class="ruby-operator">|</span>
406:       <span class="ruby-identifier">elective_subjects</span>.<span class="ruby-identifier">push</span> <span class="ruby-constant">Subject</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">elect</span>.<span class="ruby-identifier">subject_id</span>)
407:     <span class="ruby-keyword kw">end</span>
408:     <span class="ruby-ivar">@subjects</span> = <span class="ruby-identifier">general_subjects</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">elective_subjects</span>
409:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000359" class="method-detail">
        <a name="M000359"></a>

        <div class="method-heading">
          <a href="#M000359" class="method-signature">
          <span class="method-name">consolidated_exam_report</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000359-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000359-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/exam_controller.rb, line 207</span>
207:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">consolidated_exam_report</span>
208:     <span class="ruby-ivar">@exam_group</span> = <span class="ruby-constant">ExamGroup</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:exam_group</span>])
209:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000360" class="method-detail">
        <a name="M000360"></a>

        <div class="method-heading">
          <a href="#M000360" class="method-signature">
          <span class="method-name">consolidated_exam_report_pdf</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000360-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000360-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/exam_controller.rb, line 211</span>
211:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">consolidated_exam_report_pdf</span>
212:     <span class="ruby-ivar">@exam_group</span> = <span class="ruby-constant">ExamGroup</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:exam_group</span>])
213:     <span class="ruby-identifier">respond_to</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">format</span><span class="ruby-operator">|</span>
214:       <span class="ruby-identifier">format</span>.<span class="ruby-identifier">pdf</span> { <span class="ruby-identifier">render</span> <span class="ruby-identifier">:layout</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span> }
215:     <span class="ruby-keyword kw">end</span>
216:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000371" class="method-detail">
        <a name="M000371"></a>

        <div class="method-heading">
          <a href="#M000371" class="method-signature">
          <span class="method-name">create_exam</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000371-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000371-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/exam_controller.rb, line 411</span>
411:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">create_exam</span>
412:     <span class="ruby-ivar">@course</span>= <span class="ruby-constant">Course</span>.<span class="ruby-identifier">active</span>
413:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000355" class="method-detail">
        <a name="M000355"></a>

        <div class="method-heading">
          <a href="#M000355" class="method-signature">
          <span class="method-name">exam_wise_report</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
REPORTS
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000355-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000355-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/exam_controller.rb, line 133</span>
133:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">exam_wise_report</span>
134:     <span class="ruby-ivar">@batches</span> = <span class="ruby-constant">Batch</span>.<span class="ruby-identifier">active</span>
135:     <span class="ruby-ivar">@exam_groups</span> = []
136:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000366" class="method-detail">
        <a name="M000366"></a>

        <div class="method-heading">
          <a href="#M000366" class="method-signature">
          <span class="method-name">final_report_type</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000366-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000366-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/exam_controller.rb, line 263</span>
263:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">final_report_type</span>
264:     <span class="ruby-identifier">batch</span> = <span class="ruby-constant">Batch</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:batch_id</span>])
265:     <span class="ruby-ivar">@grouped_exams</span> = <span class="ruby-constant">GroupedExam</span>.<span class="ruby-identifier">find_all_by_batch_id</span>(<span class="ruby-identifier">batch</span>.<span class="ruby-identifier">id</span>)
266:     <span class="ruby-identifier">render</span>(<span class="ruby-identifier">:update</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">page</span><span class="ruby-operator">|</span>
267:       <span class="ruby-identifier">page</span>.<span class="ruby-identifier">replace_html</span> <span class="ruby-value str">'report_type'</span>,<span class="ruby-identifier">:partial=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">'report_type'</span>
268:     <span class="ruby-keyword kw">end</span>
269:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000357" class="method-detail">
        <a name="M000357"></a>

        <div class="method-heading">
          <a href="#M000357" class="method-signature">
          <span class="method-name">generated_report</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000357-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000357-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/exam_controller.rb, line 146</span>
146:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">generated_report</span>
147:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:student</span>].<span class="ruby-identifier">nil?</span>
148:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:exam_report</span>].<span class="ruby-identifier">nil?</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:exam_report</span>][<span class="ruby-identifier">:exam_group_id</span>].<span class="ruby-identifier">empty?</span>
149:         <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>] = <span class="ruby-value str">&quot;Select a batch and exam to continue.&quot;</span>
150:         <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">:action=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">'exam_wise_report'</span> <span class="ruby-keyword kw">and</span> <span class="ruby-keyword kw">return</span>
151:       <span class="ruby-keyword kw">end</span>
152:     <span class="ruby-keyword kw">else</span>
153:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:exam_group</span>].<span class="ruby-identifier">nil?</span>
154:         <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>] = <span class="ruby-value str">&quot;Invalid parameters.&quot;</span>
155:         <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">:action=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">'exam_wise_report'</span> <span class="ruby-keyword kw">and</span> <span class="ruby-keyword kw">return</span>
156:       <span class="ruby-keyword kw">end</span>
157:     <span class="ruby-keyword kw">end</span>
158:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:student</span>].<span class="ruby-identifier">nil?</span>
159:       <span class="ruby-ivar">@exam_group</span> = <span class="ruby-constant">ExamGroup</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:exam_report</span>][<span class="ruby-identifier">:exam_group_id</span>])
160:       <span class="ruby-ivar">@batch</span> = <span class="ruby-ivar">@exam_group</span>.<span class="ruby-identifier">batch</span>
161:       <span class="ruby-ivar">@student</span> = <span class="ruby-ivar">@batch</span>.<span class="ruby-identifier">students</span>.<span class="ruby-identifier">first</span>
162:       <span class="ruby-identifier">general_subjects</span> = <span class="ruby-constant">Subject</span>.<span class="ruby-identifier">find_all_by_batch_id</span>(<span class="ruby-ivar">@batch</span>.<span class="ruby-identifier">id</span>, <span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;elective_group_id IS NULL&quot;</span>)
163:       <span class="ruby-identifier">student_electives</span> = <span class="ruby-constant">StudentsSubject</span>.<span class="ruby-identifier">find_all_by_student_id</span>(<span class="ruby-ivar">@student</span>.<span class="ruby-identifier">id</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-node">&quot;batch_id = #{@batch.id}&quot;</span>)
164:       <span class="ruby-identifier">elective_subjects</span> = []
165:       <span class="ruby-identifier">student_electives</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">elect</span><span class="ruby-operator">|</span>
166:         <span class="ruby-identifier">elective_subjects</span>.<span class="ruby-identifier">push</span> <span class="ruby-constant">Subject</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">elect</span>.<span class="ruby-identifier">subject_id</span>)
167:       <span class="ruby-keyword kw">end</span>
168:       <span class="ruby-ivar">@subjects</span> = <span class="ruby-identifier">general_subjects</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">elective_subjects</span>
169:       <span class="ruby-ivar">@exams</span> = []
170:       <span class="ruby-ivar">@subjects</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">sub</span><span class="ruby-operator">|</span>
171:         <span class="ruby-identifier">exam</span> = <span class="ruby-constant">Exam</span>.<span class="ruby-identifier">find_by_exam_group_id_and_subject_id</span>(<span class="ruby-ivar">@exam_group</span>.<span class="ruby-identifier">id</span>,<span class="ruby-identifier">sub</span>.<span class="ruby-identifier">id</span>)
172:         <span class="ruby-ivar">@exams</span>.<span class="ruby-identifier">push</span> <span class="ruby-identifier">exam</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">exam</span>.<span class="ruby-identifier">nil?</span>
173:       <span class="ruby-keyword kw">end</span>
174:       <span class="ruby-ivar">@graph</span> = <span class="ruby-identifier">open_flash_chart_object</span>(<span class="ruby-value">770</span>, <span class="ruby-value">350</span>,
175:         <span class="ruby-node">&quot;/exam/graph_for_generated_report?batch=#{@student.batch.id}&amp;examgroup=#{@exam_group.id}&amp;student=#{@student.id}&quot;</span>)
176:     <span class="ruby-keyword kw">else</span>
177:       <span class="ruby-ivar">@exam_group</span> = <span class="ruby-constant">ExamGroup</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:exam_group</span>])
178:       <span class="ruby-ivar">@student</span> = <span class="ruby-constant">Student</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:student</span>])
179:       <span class="ruby-ivar">@batch</span> = <span class="ruby-ivar">@student</span>.<span class="ruby-identifier">batch</span>
180:       <span class="ruby-identifier">general_subjects</span> = <span class="ruby-constant">Subject</span>.<span class="ruby-identifier">find_all_by_batch_id</span>(<span class="ruby-ivar">@student</span>.<span class="ruby-identifier">batch</span>.<span class="ruby-identifier">id</span>, <span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;elective_group_id IS NULL&quot;</span>)
181:       <span class="ruby-identifier">student_electives</span> = <span class="ruby-constant">StudentsSubject</span>.<span class="ruby-identifier">find_all_by_student_id</span>(<span class="ruby-ivar">@student</span>.<span class="ruby-identifier">id</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-node">&quot;batch_id = #{@student.batch.id}&quot;</span>)
182:       <span class="ruby-identifier">elective_subjects</span> = []
183:       <span class="ruby-identifier">student_electives</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">elect</span><span class="ruby-operator">|</span>
184:         <span class="ruby-identifier">elective_subjects</span>.<span class="ruby-identifier">push</span> <span class="ruby-constant">Subject</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">elect</span>.<span class="ruby-identifier">subject_id</span>)
185:       <span class="ruby-keyword kw">end</span>
186:       <span class="ruby-ivar">@subjects</span> = <span class="ruby-identifier">general_subjects</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">elective_subjects</span>
187:       <span class="ruby-ivar">@exams</span> = []
188:       <span class="ruby-ivar">@subjects</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">sub</span><span class="ruby-operator">|</span>
189:         <span class="ruby-identifier">exam</span> = <span class="ruby-constant">Exam</span>.<span class="ruby-identifier">find_by_exam_group_id_and_subject_id</span>(<span class="ruby-ivar">@exam_group</span>.<span class="ruby-identifier">id</span>,<span class="ruby-identifier">sub</span>.<span class="ruby-identifier">id</span>)
190:         <span class="ruby-ivar">@exams</span>.<span class="ruby-identifier">push</span> <span class="ruby-identifier">exam</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">exam</span>.<span class="ruby-identifier">nil?</span>
191:       <span class="ruby-keyword kw">end</span>
192:       <span class="ruby-ivar">@graph</span> = <span class="ruby-identifier">open_flash_chart_object</span>(<span class="ruby-value">770</span>, <span class="ruby-value">350</span>,
193:         <span class="ruby-node">&quot;/exam/graph_for_generated_report?batch=#{@student.batch.id}&amp;examgroup=#{@exam_group.id}&amp;student=#{@student.id}&quot;</span>)
194:     <span class="ruby-keyword kw">end</span>
195:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000363" class="method-detail">
        <a name="M000363"></a>

        <div class="method-heading">
          <a href="#M000363" class="method-signature">
          <span class="method-name">generated_report2</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000363-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000363-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/exam_controller.rb, line 230</span>
230:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">generated_report2</span>
231:     <span class="ruby-comment cmt">#subject-wise-report-for-batch</span>
232:     <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:exam_report</span>][<span class="ruby-identifier">:subject_id</span>] <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;&quot;</span>
233:       <span class="ruby-ivar">@subject</span> = <span class="ruby-constant">Subject</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:exam_report</span>][<span class="ruby-identifier">:subject_id</span>])
234:       <span class="ruby-ivar">@batch</span> = <span class="ruby-ivar">@subject</span>.<span class="ruby-identifier">batch</span>
235:       <span class="ruby-ivar">@students</span> = <span class="ruby-ivar">@batch</span>.<span class="ruby-identifier">students</span>
236:       <span class="ruby-ivar">@exam_groups</span> = <span class="ruby-constant">ExamGroup</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>{<span class="ruby-identifier">:batch_id=</span><span class="ruby-operator">&gt;</span><span class="ruby-ivar">@batch</span>.<span class="ruby-identifier">id</span>})
237:     <span class="ruby-keyword kw">else</span>
238:       <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>] = <span class="ruby-value str">&quot;select a subject to continue&quot;</span>
239:       <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">:action=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">'subject_wise_report'</span>
240:     <span class="ruby-keyword kw">end</span>
241:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000364" class="method-detail">
        <a name="M000364"></a>

        <div class="method-heading">
          <a href="#M000364" class="method-signature">
          <span class="method-name">generated_report2_pdf</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000364-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000364-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/exam_controller.rb, line 242</span>
242:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">generated_report2_pdf</span>
243:     <span class="ruby-comment cmt">#subject-wise-report-for-batch</span>
244:     <span class="ruby-ivar">@subject</span> = <span class="ruby-constant">Subject</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:subject_id</span>])
245:     <span class="ruby-ivar">@batch</span> = <span class="ruby-ivar">@subject</span>.<span class="ruby-identifier">batch</span>
246:     <span class="ruby-ivar">@students</span> = <span class="ruby-ivar">@batch</span>.<span class="ruby-identifier">students</span>
247:     <span class="ruby-ivar">@exam_groups</span> = <span class="ruby-constant">ExamGroup</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>{<span class="ruby-identifier">:batch_id=</span><span class="ruby-operator">&gt;</span><span class="ruby-ivar">@batch</span>.<span class="ruby-identifier">id</span>})
248:     <span class="ruby-identifier">respond_to</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">format</span><span class="ruby-operator">|</span>
249:       <span class="ruby-identifier">format</span>.<span class="ruby-identifier">pdf</span> { <span class="ruby-identifier">render</span> <span class="ruby-identifier">:layout</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span> }
250:     <span class="ruby-keyword kw">end</span>
251:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000365" class="method-detail">
        <a name="M000365"></a>

        <div class="method-heading">
          <a href="#M000365" class="method-signature">
          <span class="method-name">generated_report3</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000365-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000365-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/exam_controller.rb, line 253</span>
253:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">generated_report3</span>
254:     <span class="ruby-comment cmt">#student-subject-wise-report</span>
255:     <span class="ruby-ivar">@student</span> = <span class="ruby-constant">Student</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:student</span>])
256:     <span class="ruby-ivar">@batch</span> = <span class="ruby-ivar">@student</span>.<span class="ruby-identifier">batch</span>
257:     <span class="ruby-ivar">@subject</span> = <span class="ruby-constant">Subject</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:subject</span>])
258:     <span class="ruby-ivar">@exam_groups</span> = <span class="ruby-constant">ExamGroup</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>{<span class="ruby-identifier">:batch_id=</span><span class="ruby-operator">&gt;</span><span class="ruby-ivar">@batch</span>.<span class="ruby-identifier">id</span>})
259:     <span class="ruby-ivar">@graph</span> = <span class="ruby-identifier">open_flash_chart_object</span>(<span class="ruby-value">770</span>, <span class="ruby-value">350</span>,
260:       <span class="ruby-node">&quot;/exam/graph_for_generated_report3?subject=#{@subject.id}&amp;student=#{@student.id}&quot;</span>)
261:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000367" class="method-detail">
        <a name="M000367"></a>

        <div class="method-heading">
          <a href="#M000367" class="method-signature">
          <span class="method-name">generated_report4</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000367-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000367-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/exam_controller.rb, line 271</span>
271:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">generated_report4</span>
272:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:student</span>].<span class="ruby-identifier">nil?</span>
273:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:exam_report</span>].<span class="ruby-identifier">nil?</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:exam_report</span>][<span class="ruby-identifier">:batch_id</span>].<span class="ruby-identifier">empty?</span>
274:         <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>] = <span class="ruby-value str">&quot;Select a batch to continue&quot;</span>
275:         <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">:action=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">'grouped_exam_report'</span> <span class="ruby-keyword kw">and</span> <span class="ruby-keyword kw">return</span>
276:       <span class="ruby-keyword kw">end</span>
277:     <span class="ruby-keyword kw">else</span>
278:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:type</span>].<span class="ruby-identifier">nil?</span>
279:         <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>] = <span class="ruby-value str">&quot;Invalid parameters.&quot;</span>
280:         <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">:action=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">'grouped_exam_report'</span> <span class="ruby-keyword kw">and</span> <span class="ruby-keyword kw">return</span>
281:       <span class="ruby-keyword kw">end</span>
282:     <span class="ruby-keyword kw">end</span>
283:     <span class="ruby-comment cmt">#grouped-exam-report-for-batch</span>
284:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:student</span>].<span class="ruby-identifier">nil?</span>
285:       <span class="ruby-ivar">@type</span> = <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:type</span>]
286:       <span class="ruby-ivar">@batch</span> = <span class="ruby-constant">Batch</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:exam_report</span>][<span class="ruby-identifier">:batch_id</span>])
287:       <span class="ruby-ivar">@student</span> = <span class="ruby-ivar">@batch</span>.<span class="ruby-identifier">students</span>.<span class="ruby-identifier">first</span>
288:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@type</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'grouped'</span>
289:         <span class="ruby-ivar">@grouped_exams</span> = <span class="ruby-constant">GroupedExam</span>.<span class="ruby-identifier">find_all_by_batch_id</span>(<span class="ruby-ivar">@batch</span>.<span class="ruby-identifier">id</span>)
290:         <span class="ruby-ivar">@exam_groups</span> = []
291:         <span class="ruby-ivar">@grouped_exams</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span>
292:           <span class="ruby-ivar">@exam_groups</span>.<span class="ruby-identifier">push</span> <span class="ruby-constant">ExamGroup</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">x</span>.<span class="ruby-identifier">exam_group_id</span>)
293:         <span class="ruby-keyword kw">end</span>
294:       <span class="ruby-keyword kw">else</span>
295:         <span class="ruby-ivar">@exam_groups</span> = <span class="ruby-constant">ExamGroup</span>.<span class="ruby-identifier">find_all_by_batch_id</span>(<span class="ruby-ivar">@batch</span>.<span class="ruby-identifier">id</span>)
296:       <span class="ruby-keyword kw">end</span>
297:       <span class="ruby-identifier">general_subjects</span> = <span class="ruby-constant">Subject</span>.<span class="ruby-identifier">find_all_by_batch_id</span>(<span class="ruby-ivar">@batch</span>.<span class="ruby-identifier">id</span>, <span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;elective_group_id IS NULL AND is_deleted=false&quot;</span>)
298:       <span class="ruby-identifier">student_electives</span> = <span class="ruby-constant">StudentsSubject</span>.<span class="ruby-identifier">find_all_by_student_id</span>(<span class="ruby-ivar">@student</span>.<span class="ruby-identifier">id</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-node">&quot;batch_id = #{@batch.id}&quot;</span>)
299:       <span class="ruby-identifier">elective_subjects</span> = []
300:       <span class="ruby-identifier">student_electives</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">elect</span><span class="ruby-operator">|</span>
301:         <span class="ruby-identifier">elective_subjects</span>.<span class="ruby-identifier">push</span> <span class="ruby-constant">Subject</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">elect</span>.<span class="ruby-identifier">subject_id</span>)
302:       <span class="ruby-keyword kw">end</span>
303:       <span class="ruby-ivar">@subjects</span> = <span class="ruby-identifier">general_subjects</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">elective_subjects</span>
304:     <span class="ruby-keyword kw">else</span>
305:       <span class="ruby-ivar">@student</span> = <span class="ruby-constant">Student</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:student</span>])
306:       <span class="ruby-ivar">@batch</span> = <span class="ruby-ivar">@student</span>.<span class="ruby-identifier">batch</span>
307:       <span class="ruby-ivar">@type</span>  = <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:type</span>]
308:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:type</span>] <span class="ruby-operator">==</span> <span class="ruby-value str">'grouped'</span>
309:         <span class="ruby-ivar">@grouped_exams</span> = <span class="ruby-constant">GroupedExam</span>.<span class="ruby-identifier">find_all_by_batch_id</span>(<span class="ruby-ivar">@batch</span>.<span class="ruby-identifier">id</span>)
310:         <span class="ruby-ivar">@exam_groups</span> = []
311:         <span class="ruby-ivar">@grouped_exams</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span>
312:           <span class="ruby-ivar">@exam_groups</span>.<span class="ruby-identifier">push</span> <span class="ruby-constant">ExamGroup</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">x</span>.<span class="ruby-identifier">exam_group_id</span>)
313:         <span class="ruby-keyword kw">end</span>
314:       <span class="ruby-keyword kw">else</span>
315:         <span class="ruby-ivar">@exam_groups</span> = <span class="ruby-constant">ExamGroup</span>.<span class="ruby-identifier">find_all_by_batch_id</span>(<span class="ruby-ivar">@batch</span>.<span class="ruby-identifier">id</span>)
316:       <span class="ruby-keyword kw">end</span>
317:       <span class="ruby-identifier">general_subjects</span> = <span class="ruby-constant">Subject</span>.<span class="ruby-identifier">find_all_by_batch_id</span>(<span class="ruby-ivar">@student</span>.<span class="ruby-identifier">batch</span>.<span class="ruby-identifier">id</span>, <span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;elective_group_id IS NULL AND is_deleted=false&quot;</span>)
318:       <span class="ruby-identifier">student_electives</span> = <span class="ruby-constant">StudentsSubject</span>.<span class="ruby-identifier">find_all_by_student_id</span>(<span class="ruby-ivar">@student</span>.<span class="ruby-identifier">id</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-node">&quot;batch_id = #{@student.batch.id}&quot;</span>)
319:       <span class="ruby-identifier">elective_subjects</span> = []
320:       <span class="ruby-identifier">student_electives</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">elect</span><span class="ruby-operator">|</span>
321:         <span class="ruby-identifier">elective_subjects</span>.<span class="ruby-identifier">push</span> <span class="ruby-constant">Subject</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">elect</span>.<span class="ruby-identifier">subject_id</span>)
322:       <span class="ruby-keyword kw">end</span>
323:       <span class="ruby-ivar">@subjects</span> = <span class="ruby-identifier">general_subjects</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">elective_subjects</span>
324:     <span class="ruby-keyword kw">end</span>
325: 
326: 
327:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000368" class="method-detail">
        <a name="M000368"></a>

        <div class="method-heading">
          <a href="#M000368" class="method-signature">
          <span class="method-name">generated_report4_pdf</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000368-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000368-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/exam_controller.rb, line 328</span>
328:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">generated_report4_pdf</span>
329: 
330:     <span class="ruby-comment cmt">#grouped-exam-report-for-batch</span>
331:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:student</span>].<span class="ruby-identifier">nil?</span>
332:       <span class="ruby-ivar">@type</span> = <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:type</span>]
333:       <span class="ruby-ivar">@batch</span> = <span class="ruby-constant">Batch</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:exam_report</span>][<span class="ruby-identifier">:batch_id</span>])
334:       <span class="ruby-ivar">@student</span> = <span class="ruby-ivar">@batch</span>.<span class="ruby-identifier">students</span>.<span class="ruby-identifier">first</span>
335:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@type</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'grouped'</span>
336:         <span class="ruby-ivar">@grouped_exams</span> = <span class="ruby-constant">GroupedExam</span>.<span class="ruby-identifier">find_all_by_batch_id</span>(<span class="ruby-ivar">@batch</span>.<span class="ruby-identifier">id</span>)
337:         <span class="ruby-ivar">@exam_groups</span> = []
338:         <span class="ruby-ivar">@grouped_exams</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span>
339:           <span class="ruby-ivar">@exam_groups</span>.<span class="ruby-identifier">push</span> <span class="ruby-constant">ExamGroup</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">x</span>.<span class="ruby-identifier">exam_group_id</span>)
340:         <span class="ruby-keyword kw">end</span>
341:       <span class="ruby-keyword kw">else</span>
342:         <span class="ruby-ivar">@exam_groups</span> = <span class="ruby-constant">ExamGroup</span>.<span class="ruby-identifier">find_all_by_batch_id</span>(<span class="ruby-ivar">@batch</span>.<span class="ruby-identifier">id</span>)
343:       <span class="ruby-keyword kw">end</span>
344:       <span class="ruby-identifier">general_subjects</span> = <span class="ruby-constant">Subject</span>.<span class="ruby-identifier">find_all_by_batch_id</span>(<span class="ruby-ivar">@batch</span>.<span class="ruby-identifier">id</span>, <span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;elective_group_id IS NULL&quot;</span>)
345:       <span class="ruby-identifier">student_electives</span> = <span class="ruby-constant">StudentsSubject</span>.<span class="ruby-identifier">find_all_by_student_id</span>(<span class="ruby-ivar">@student</span>.<span class="ruby-identifier">id</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-node">&quot;batch_id = #{@batch.id}&quot;</span>)
346:       <span class="ruby-identifier">elective_subjects</span> = []
347:       <span class="ruby-identifier">student_electives</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">elect</span><span class="ruby-operator">|</span>
348:         <span class="ruby-identifier">elective_subjects</span>.<span class="ruby-identifier">push</span> <span class="ruby-constant">Subject</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">elect</span>.<span class="ruby-identifier">subject_id</span>)
349:       <span class="ruby-keyword kw">end</span>
350:       <span class="ruby-ivar">@subjects</span> = <span class="ruby-identifier">general_subjects</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">elective_subjects</span>
351:     <span class="ruby-keyword kw">else</span>
352:       <span class="ruby-ivar">@student</span> = <span class="ruby-constant">Student</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:student</span>])
353:       <span class="ruby-ivar">@batch</span> = <span class="ruby-ivar">@student</span>.<span class="ruby-identifier">batch</span>
354:       <span class="ruby-ivar">@type</span>  = <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:type</span>]
355:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:type</span>] <span class="ruby-operator">==</span> <span class="ruby-value str">'grouped'</span>
356:         <span class="ruby-ivar">@grouped_exams</span> = <span class="ruby-constant">GroupedExam</span>.<span class="ruby-identifier">find_all_by_batch_id</span>(<span class="ruby-ivar">@batch</span>.<span class="ruby-identifier">id</span>)
357:         <span class="ruby-ivar">@exam_groups</span> = []
358:         <span class="ruby-ivar">@grouped_exams</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span>
359:           <span class="ruby-ivar">@exam_groups</span>.<span class="ruby-identifier">push</span> <span class="ruby-constant">ExamGroup</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">x</span>.<span class="ruby-identifier">exam_group_id</span>)
360:         <span class="ruby-keyword kw">end</span>
361:       <span class="ruby-keyword kw">else</span>
362:         <span class="ruby-ivar">@exam_groups</span> = <span class="ruby-constant">ExamGroup</span>.<span class="ruby-identifier">find_all_by_batch_id</span>(<span class="ruby-ivar">@batch</span>.<span class="ruby-identifier">id</span>)
363:       <span class="ruby-keyword kw">end</span>
364:       <span class="ruby-identifier">general_subjects</span> = <span class="ruby-constant">Subject</span>.<span class="ruby-identifier">find_all_by_batch_id</span>(<span class="ruby-ivar">@student</span>.<span class="ruby-identifier">batch</span>.<span class="ruby-identifier">id</span>, <span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;elective_group_id IS NULL&quot;</span>)
365:       <span class="ruby-identifier">student_electives</span> = <span class="ruby-constant">StudentsSubject</span>.<span class="ruby-identifier">find_all_by_student_id</span>(<span class="ruby-ivar">@student</span>.<span class="ruby-identifier">id</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-node">&quot;batch_id = #{@student.batch.id}&quot;</span>)
366:       <span class="ruby-identifier">elective_subjects</span> = []
367:       <span class="ruby-identifier">student_electives</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">elect</span><span class="ruby-operator">|</span>
368:         <span class="ruby-identifier">elective_subjects</span>.<span class="ruby-identifier">push</span> <span class="ruby-constant">Subject</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">elect</span>.<span class="ruby-identifier">subject_id</span>)
369:       <span class="ruby-keyword kw">end</span>
370:       <span class="ruby-ivar">@subjects</span> = <span class="ruby-identifier">general_subjects</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">elective_subjects</span>
371:     <span class="ruby-keyword kw">end</span>
372:     <span class="ruby-identifier">respond_to</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">format</span><span class="ruby-operator">|</span>
373:       <span class="ruby-identifier">format</span>.<span class="ruby-identifier">pdf</span> { <span class="ruby-identifier">render</span> <span class="ruby-identifier">:layout</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span> }
374:     <span class="ruby-keyword kw">end</span>
375: 
376:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000358" class="method-detail">
        <a name="M000358"></a>

        <div class="method-heading">
          <a href="#M000358" class="method-signature">
          <span class="method-name">generated_report_pdf</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000358-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000358-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/exam_controller.rb, line 196</span>
196:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">generated_report_pdf</span>
197:     <span class="ruby-ivar">@config</span> = <span class="ruby-constant">Configuration</span>.<span class="ruby-identifier">get_config_value</span>(<span class="ruby-value str">'InstitutionName'</span>)
198:     <span class="ruby-ivar">@exam_group</span> = <span class="ruby-constant">ExamGroup</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:exam_group</span>])
199:     <span class="ruby-ivar">@batch</span> = <span class="ruby-constant">Batch</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:batch</span>])
200:     <span class="ruby-ivar">@students</span> = <span class="ruby-ivar">@batch</span>.<span class="ruby-identifier">students</span>
201:     <span class="ruby-identifier">respond_to</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">format</span><span class="ruby-operator">|</span>
202:       <span class="ruby-identifier">format</span>.<span class="ruby-identifier">pdf</span> { <span class="ruby-identifier">render</span> <span class="ruby-identifier">:layout</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span> }
203:     <span class="ruby-keyword kw">end</span>
204:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000374" class="method-detail">
        <a name="M000374"></a>

        <div class="method-heading">
          <a href="#M000374" class="method-signature">
          <span class="method-name">graph_for_generated_report</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
GRAPHS
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000374-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000374-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/exam_controller.rb, line 435</span>
435:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">graph_for_generated_report</span>
436:     <span class="ruby-identifier">student</span> = <span class="ruby-constant">Student</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:student</span>])
437:     <span class="ruby-identifier">examgroup</span> = <span class="ruby-constant">ExamGroup</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:examgroup</span>])
438:     <span class="ruby-identifier">batch</span> = <span class="ruby-identifier">student</span>.<span class="ruby-identifier">batch</span>
439:     <span class="ruby-identifier">general_subjects</span> = <span class="ruby-constant">Subject</span>.<span class="ruby-identifier">find_all_by_batch_id</span>(<span class="ruby-identifier">batch</span>.<span class="ruby-identifier">id</span>, <span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;elective_group_id IS NULL&quot;</span>)
440:     <span class="ruby-identifier">student_electives</span> = <span class="ruby-constant">StudentsSubject</span>.<span class="ruby-identifier">find_all_by_student_id</span>(<span class="ruby-identifier">student</span>.<span class="ruby-identifier">id</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-node">&quot;batch_id = #{batch.id}&quot;</span>)
441:     <span class="ruby-identifier">elective_subjects</span> = []
442:     <span class="ruby-identifier">student_electives</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">elect</span><span class="ruby-operator">|</span>
443:       <span class="ruby-identifier">elective_subjects</span>.<span class="ruby-identifier">push</span> <span class="ruby-constant">Subject</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">elect</span>.<span class="ruby-identifier">subject_id</span>)
444:     <span class="ruby-keyword kw">end</span>
445:     <span class="ruby-identifier">subjects</span> = <span class="ruby-identifier">general_subjects</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">elective_subjects</span>
446: 
447:     <span class="ruby-identifier">x_labels</span> = []
448:     <span class="ruby-identifier">data</span> = []
449:     <span class="ruby-identifier">data2</span> = []
450: 
451:     <span class="ruby-identifier">subjects</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">s</span><span class="ruby-operator">|</span>
452:       <span class="ruby-identifier">exam</span> = <span class="ruby-constant">Exam</span>.<span class="ruby-identifier">find_by_exam_group_id_and_subject_id</span>(<span class="ruby-identifier">examgroup</span>.<span class="ruby-identifier">id</span>,<span class="ruby-identifier">s</span>.<span class="ruby-identifier">id</span>)
453:       <span class="ruby-identifier">res</span> = <span class="ruby-constant">ExamScore</span>.<span class="ruby-identifier">find_by_exam_id_and_student_id</span>(<span class="ruby-identifier">exam</span>, <span class="ruby-identifier">student</span>)
454:       <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">res</span>.<span class="ruby-identifier">nil?</span>
455:         <span class="ruby-identifier">x_labels</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">s</span>.<span class="ruby-identifier">code</span>
456:         <span class="ruby-identifier">data</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">res</span>.<span class="ruby-identifier">marks</span>
457:         <span class="ruby-identifier">data2</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">exam</span>.<span class="ruby-identifier">class_average_marks</span>
458:       <span class="ruby-keyword kw">end</span>
459:     <span class="ruby-keyword kw">end</span>
460: 
461:     <span class="ruby-identifier">bargraph</span> = <span class="ruby-constant">BarFilled</span>.<span class="ruby-identifier">new</span>()
462:     <span class="ruby-identifier">bargraph</span>.<span class="ruby-identifier">width</span> = <span class="ruby-value">1</span>;
463:     <span class="ruby-identifier">bargraph</span>.<span class="ruby-identifier">colour</span> = <span class="ruby-value str">'#bb0000'</span>;
464:     <span class="ruby-identifier">bargraph</span>.<span class="ruby-identifier">dot_size</span> = <span class="ruby-value">5</span>;
465:     <span class="ruby-identifier">bargraph</span>.<span class="ruby-identifier">text</span> = <span class="ruby-value str">&quot;Student's marks&quot;</span>
466:     <span class="ruby-identifier">bargraph</span>.<span class="ruby-identifier">values</span> = <span class="ruby-identifier">data</span>
467: 
468:     <span class="ruby-identifier">bargraph2</span> = <span class="ruby-constant">BarFilled</span>.<span class="ruby-identifier">new</span>
469:     <span class="ruby-identifier">bargraph2</span>.<span class="ruby-identifier">width</span> = <span class="ruby-value">1</span>;
470:     <span class="ruby-identifier">bargraph2</span>.<span class="ruby-identifier">colour</span> = <span class="ruby-value str">'#5E4725'</span>;
471:     <span class="ruby-identifier">bargraph2</span>.<span class="ruby-identifier">dot_size</span> = <span class="ruby-value">5</span>;
472:     <span class="ruby-identifier">bargraph2</span>.<span class="ruby-identifier">text</span> = <span class="ruby-value str">&quot;Class average&quot;</span>
473:     <span class="ruby-identifier">bargraph2</span>.<span class="ruby-identifier">values</span> = <span class="ruby-identifier">data2</span>
474: 
475:     <span class="ruby-identifier">x_axis</span> = <span class="ruby-constant">XAxis</span>.<span class="ruby-identifier">new</span>
476:     <span class="ruby-identifier">x_axis</span>.<span class="ruby-identifier">labels</span> = <span class="ruby-identifier">x_labels</span>
477: 
478:     <span class="ruby-identifier">y_axis</span> = <span class="ruby-constant">YAxis</span>.<span class="ruby-identifier">new</span>
479:     <span class="ruby-identifier">y_axis</span>.<span class="ruby-identifier">set_range</span>(<span class="ruby-value">0</span>,<span class="ruby-value">100</span>,<span class="ruby-value">20</span>)
480: 
481:     <span class="ruby-identifier">title</span> = <span class="ruby-constant">Title</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">student</span>.<span class="ruby-identifier">full_name</span>)
482: 
483:     <span class="ruby-identifier">x_legend</span> = <span class="ruby-constant">XLegend</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">&quot;Subjects&quot;</span>)
484:     <span class="ruby-identifier">x_legend</span>.<span class="ruby-identifier">set_style</span>(<span class="ruby-value str">'{font-size: 14px; color: #778877}'</span>)
485: 
486:     <span class="ruby-identifier">y_legend</span> = <span class="ruby-constant">YLegend</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">&quot;Marks&quot;</span>)
487:     <span class="ruby-identifier">y_legend</span>.<span class="ruby-identifier">set_style</span>(<span class="ruby-value str">'{font-size: 14px; color: #770077}'</span>)
488: 
489:     <span class="ruby-identifier">chart</span> = <span class="ruby-constant">OpenFlashChart</span>.<span class="ruby-identifier">new</span>
490:     <span class="ruby-identifier">chart</span>.<span class="ruby-identifier">set_title</span>(<span class="ruby-identifier">title</span>)
491:     <span class="ruby-identifier">chart</span>.<span class="ruby-identifier">y_axis</span> = <span class="ruby-identifier">y_axis</span>
492:     <span class="ruby-identifier">chart</span>.<span class="ruby-identifier">x_axis</span> = <span class="ruby-identifier">x_axis</span>
493:     <span class="ruby-identifier">chart</span>.<span class="ruby-identifier">y_legend</span> = <span class="ruby-identifier">y_legend</span>
494:     <span class="ruby-identifier">chart</span>.<span class="ruby-identifier">x_legend</span> = <span class="ruby-identifier">x_legend</span>
495: 
496:     <span class="ruby-identifier">chart</span>.<span class="ruby-identifier">add_element</span>(<span class="ruby-identifier">bargraph</span>)
497:     <span class="ruby-identifier">chart</span>.<span class="ruby-identifier">add_element</span>(<span class="ruby-identifier">bargraph2</span>)
498: 
499:     <span class="ruby-identifier">render</span> <span class="ruby-identifier">:text</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">chart</span>.<span class="ruby-identifier">render</span>
500:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000375" class="method-detail">
        <a name="M000375"></a>

        <div class="method-heading">
          <a href="#M000375" class="method-signature">
          <span class="method-name">graph_for_generated_report3</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000375-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000375-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/exam_controller.rb, line 502</span>
502:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">graph_for_generated_report3</span>
503:     <span class="ruby-identifier">student</span> = <span class="ruby-constant">Student</span>.<span class="ruby-identifier">find</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:student</span>]
504:     <span class="ruby-identifier">subject</span> = <span class="ruby-constant">Subject</span>.<span class="ruby-identifier">find</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:subject</span>]
505:     <span class="ruby-identifier">exams</span> = <span class="ruby-constant">Exam</span>.<span class="ruby-identifier">find_all_by_subject_id</span>(<span class="ruby-identifier">subject</span>.<span class="ruby-identifier">id</span>, <span class="ruby-identifier">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'start_time asc'</span>)
506: 
507:     <span class="ruby-identifier">data</span> = []
508:     <span class="ruby-identifier">x_labels</span> = []
509: 
510:     <span class="ruby-identifier">exams</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span>
511:       <span class="ruby-identifier">exam_result</span> = <span class="ruby-constant">ExamScore</span>.<span class="ruby-identifier">find_by_exam_id_and_student_id</span>(<span class="ruby-identifier">e</span>, <span class="ruby-identifier">student</span>.<span class="ruby-identifier">id</span>)
512:       <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">exam_result</span>.<span class="ruby-identifier">nil?</span>
513:         <span class="ruby-identifier">data</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">exam_result</span>.<span class="ruby-identifier">marks</span>
514:         <span class="ruby-identifier">x_labels</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">XAxisLabel</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">exam_result</span>.<span class="ruby-identifier">exam</span>.<span class="ruby-identifier">exam_group</span>.<span class="ruby-identifier">name</span>, <span class="ruby-value str">'#000000'</span>, <span class="ruby-value">10</span>, <span class="ruby-value">0</span>)
515:       <span class="ruby-keyword kw">end</span>
516:     <span class="ruby-keyword kw">end</span>
517: 
518:     <span class="ruby-identifier">x_axis</span> = <span class="ruby-constant">XAxis</span>.<span class="ruby-identifier">new</span>
519:     <span class="ruby-identifier">x_axis</span>.<span class="ruby-identifier">labels</span> = <span class="ruby-identifier">x_labels</span>
520: 
521:     <span class="ruby-identifier">line</span> = <span class="ruby-constant">BarFilled</span>.<span class="ruby-identifier">new</span>
522: 
523:     <span class="ruby-identifier">line</span>.<span class="ruby-identifier">width</span> = <span class="ruby-value">1</span>
524:     <span class="ruby-identifier">line</span>.<span class="ruby-identifier">colour</span> = <span class="ruby-value str">'#5E4725'</span>
525:     <span class="ruby-identifier">line</span>.<span class="ruby-identifier">dot_size</span> = <span class="ruby-value">5</span>
526:     <span class="ruby-identifier">line</span>.<span class="ruby-identifier">values</span> = <span class="ruby-identifier">data</span>
527: 
528:     <span class="ruby-identifier">y</span> = <span class="ruby-constant">YAxis</span>.<span class="ruby-identifier">new</span>
529:     <span class="ruby-identifier">y</span>.<span class="ruby-identifier">set_range</span>(<span class="ruby-value">0</span>,<span class="ruby-value">100</span>,<span class="ruby-value">20</span>)
530: 
531:     <span class="ruby-identifier">title</span> = <span class="ruby-constant">Title</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">subject</span>.<span class="ruby-identifier">name</span>)
532: 
533:     <span class="ruby-identifier">x_legend</span> = <span class="ruby-constant">XLegend</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">&quot;Examination name&quot;</span>)
534:     <span class="ruby-identifier">x_legend</span>.<span class="ruby-identifier">set_style</span>(<span class="ruby-value str">'{font-size: 14px; color: #778877}'</span>)
535: 
536:     <span class="ruby-identifier">y_legend</span> = <span class="ruby-constant">YLegend</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">&quot;Marks&quot;</span>)
537:     <span class="ruby-identifier">y_legend</span>.<span class="ruby-identifier">set_style</span>(<span class="ruby-value str">'{font-size: 14px; color: #770077}'</span>)
538: 
539:     <span class="ruby-identifier">chart</span> = <span class="ruby-constant">OpenFlashChart</span>.<span class="ruby-identifier">new</span>
540:     <span class="ruby-identifier">chart</span>.<span class="ruby-identifier">set_title</span>(<span class="ruby-identifier">title</span>)
541:     <span class="ruby-identifier">chart</span>.<span class="ruby-identifier">set_x_legend</span>(<span class="ruby-identifier">x_legend</span>)
542:     <span class="ruby-identifier">chart</span>.<span class="ruby-identifier">set_y_legend</span>(<span class="ruby-identifier">y_legend</span>)
543:     <span class="ruby-identifier">chart</span>.<span class="ruby-identifier">y_axis</span> = <span class="ruby-identifier">y</span>
544:     <span class="ruby-identifier">chart</span>.<span class="ruby-identifier">x_axis</span> = <span class="ruby-identifier">x_axis</span>
545: 
546:     <span class="ruby-identifier">chart</span>.<span class="ruby-identifier">add_element</span>(<span class="ruby-identifier">line</span>)
547: 
548:     <span class="ruby-identifier">render</span> <span class="ruby-identifier">:text</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">chart</span>.<span class="ruby-identifier">to_s</span>
549:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000376" class="method-detail">
        <a name="M000376"></a>

        <div class="method-heading">
          <a href="#M000376" class="method-signature">
          <span class="method-name">graph_for_previous_years_marks_overview</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000376-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000376-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/exam_controller.rb, line 551</span>
551:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">graph_for_previous_years_marks_overview</span>
552:     <span class="ruby-identifier">student</span> = <span class="ruby-constant">Student</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:student</span>])
553: 
554:     <span class="ruby-identifier">x_labels</span> = []
555:     <span class="ruby-identifier">data</span> = []
556: 
557:     <span class="ruby-identifier">student</span>.<span class="ruby-identifier">all_batches</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">b</span><span class="ruby-operator">|</span>
558:       <span class="ruby-identifier">x_labels</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">b</span>.<span class="ruby-identifier">name</span>
559:       <span class="ruby-identifier">exam</span> = <span class="ruby-constant">ExamScore</span>.<span class="ruby-identifier">new</span>()
560:       <span class="ruby-identifier">data</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">exam</span>.<span class="ruby-identifier">batch_wise_aggregate</span>(<span class="ruby-identifier">student</span>,<span class="ruby-identifier">b</span>)
561:     <span class="ruby-keyword kw">end</span>
562: 
563:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:graphtype</span>] <span class="ruby-operator">==</span> <span class="ruby-value str">'Line'</span>
564:       <span class="ruby-identifier">line</span> = <span class="ruby-constant">Line</span>.<span class="ruby-identifier">new</span>
565:     <span class="ruby-keyword kw">else</span>
566:       <span class="ruby-identifier">line</span> = <span class="ruby-constant">BarFilled</span>.<span class="ruby-identifier">new</span>
567:     <span class="ruby-keyword kw">end</span>
568: 
569:     <span class="ruby-identifier">line</span>.<span class="ruby-identifier">width</span> = <span class="ruby-value">1</span>; <span class="ruby-identifier">line</span>.<span class="ruby-identifier">colour</span> = <span class="ruby-value str">'#5E4725'</span>; <span class="ruby-identifier">line</span>.<span class="ruby-identifier">dot_size</span> = <span class="ruby-value">5</span>; <span class="ruby-identifier">line</span>.<span class="ruby-identifier">values</span> = <span class="ruby-identifier">data</span>
570: 
571:     <span class="ruby-identifier">x_axis</span> = <span class="ruby-constant">XAxis</span>.<span class="ruby-identifier">new</span>
572:     <span class="ruby-identifier">x_axis</span>.<span class="ruby-identifier">labels</span> = <span class="ruby-identifier">x_labels</span>
573: 
574:     <span class="ruby-identifier">y_axis</span> = <span class="ruby-constant">YAxis</span>.<span class="ruby-identifier">new</span>
575:     <span class="ruby-identifier">y_axis</span>.<span class="ruby-identifier">set_range</span>(<span class="ruby-value">0</span>,<span class="ruby-value">100</span>,<span class="ruby-value">20</span>)
576: 
577:     <span class="ruby-identifier">title</span> = <span class="ruby-constant">Title</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">student</span>.<span class="ruby-identifier">full_name</span>)
578: 
579:     <span class="ruby-identifier">x_legend</span> = <span class="ruby-constant">XLegend</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">&quot;Academic year&quot;</span>)
580:     <span class="ruby-identifier">x_legend</span>.<span class="ruby-identifier">set_style</span>(<span class="ruby-value str">'{font-size: 14px; color: #778877}'</span>)
581: 
582:     <span class="ruby-identifier">y_legend</span> = <span class="ruby-constant">YLegend</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value str">&quot;Total marks&quot;</span>)
583:     <span class="ruby-identifier">y_legend</span>.<span class="ruby-identifier">set_style</span>(<span class="ruby-value str">'{font-size: 14px; color: #770077}'</span>)
584: 
585:     <span class="ruby-identifier">chart</span> = <span class="ruby-constant">OpenFlashChart</span>.<span class="ruby-identifier">new</span>
586:     <span class="ruby-identifier">chart</span>.<span class="ruby-identifier">set_title</span>(<span class="ruby-identifier">title</span>)
587:     <span class="ruby-identifier">chart</span>.<span class="ruby-identifier">y_axis</span> = <span class="ruby-identifier">y_axis</span>
588:     <span class="ruby-identifier">chart</span>.<span class="ruby-identifier">x_axis</span> = <span class="ruby-identifier">x_axis</span>
589: 
590:     <span class="ruby-identifier">chart</span>.<span class="ruby-identifier">add_element</span>(<span class="ruby-identifier">line</span>)
591: 
592:     <span class="ruby-identifier">render</span> <span class="ruby-identifier">:text</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">chart</span>.<span class="ruby-identifier">to_s</span>
593:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000354" class="method-detail">
        <a name="M000354"></a>

        <div class="method-heading">
          <a href="#M000354" class="method-signature">
          <span class="method-name">grouping</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000354-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000354-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/exam_controller.rb, line 112</span>
112:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">grouping</span>
113:     <span class="ruby-ivar">@batch</span> = <span class="ruby-constant">Batch</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
114:     <span class="ruby-ivar">@exam_groups</span> = <span class="ruby-constant">ExamGroup</span>.<span class="ruby-identifier">find_all_by_batch_id</span>(<span class="ruby-ivar">@batch</span>.<span class="ruby-identifier">id</span>)
115:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">request</span>.<span class="ruby-identifier">post?</span>
116:       <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:exam_grouping</span>].<span class="ruby-identifier">nil?</span>
117:         <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:exam_grouping</span>][<span class="ruby-identifier">:exam_group_ids</span>].<span class="ruby-identifier">nil?</span>
118:           <span class="ruby-constant">GroupedExam</span>.<span class="ruby-identifier">delete_all</span>(<span class="ruby-identifier">:batch_id=</span><span class="ruby-operator">&gt;</span><span class="ruby-ivar">@batch</span>.<span class="ruby-identifier">id</span>)
119:           <span class="ruby-identifier">exam_group_ids</span> = <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:exam_grouping</span>][<span class="ruby-identifier">:exam_group_ids</span>]
120:           <span class="ruby-identifier">exam_group_ids</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span>
121:             <span class="ruby-constant">GroupedExam</span>.<span class="ruby-identifier">create</span>(<span class="ruby-identifier">:exam_group_id=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">e</span>,<span class="ruby-identifier">:batch_id=</span><span class="ruby-operator">&gt;</span><span class="ruby-ivar">@batch</span>.<span class="ruby-identifier">id</span>)
122:           <span class="ruby-keyword kw">end</span>
123:         <span class="ruby-keyword kw">end</span>
124:       <span class="ruby-keyword kw">else</span>
125:         <span class="ruby-constant">GroupedExam</span>.<span class="ruby-identifier">delete_all</span>(<span class="ruby-identifier">:batch_id=</span><span class="ruby-operator">&gt;</span><span class="ruby-ivar">@batch</span>.<span class="ruby-identifier">id</span>)
126:       <span class="ruby-keyword kw">end</span>
127:         <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>]=<span class="ruby-value str">&quot;Selected exams grouped successfully.&quot;</span>
128:     <span class="ruby-keyword kw">end</span>
129:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000351" class="method-detail">
        <a name="M000351"></a>

        <div class="method-heading">
          <a href="#M000351" class="method-signature">
          <span class="method-name">index</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000351-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000351-source">
<pre>
   <span class="ruby-comment cmt"># File app/controllers/exam_controller.rb, line 5</span>
5:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">index</span>
6:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000356" class="method-detail">
        <a name="M000356"></a>

        <div class="method-heading">
          <a href="#M000356" class="method-signature">
          <span class="method-name">list_exam_types</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000356-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000356-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/exam_controller.rb, line 138</span>
138:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">list_exam_types</span>
139:     <span class="ruby-identifier">batch</span> = <span class="ruby-constant">Batch</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:batch_id</span>])
140:     <span class="ruby-ivar">@exam_groups</span> = <span class="ruby-constant">ExamGroup</span>.<span class="ruby-identifier">find_all_by_batch_id</span>(<span class="ruby-identifier">batch</span>.<span class="ruby-identifier">id</span>)
141:     <span class="ruby-identifier">render</span>(<span class="ruby-identifier">:update</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">page</span><span class="ruby-operator">|</span>
142:       <span class="ruby-identifier">page</span>.<span class="ruby-identifier">replace_html</span> <span class="ruby-value str">'exam-group-select'</span>, <span class="ruby-identifier">:partial=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">'exam_group_select'</span>
143:     <span class="ruby-keyword kw">end</span>
144:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000362" class="method-detail">
        <a name="M000362"></a>

        <div class="method-heading">
          <a href="#M000362" class="method-signature">
          <span class="method-name">list_subjects</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000362-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000362-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/exam_controller.rb, line 223</span>
223:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">list_subjects</span>
224:     <span class="ruby-ivar">@subjects</span> = <span class="ruby-constant">Subject</span>.<span class="ruby-identifier">find_all_by_batch_id</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:batch_id</span>],<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;is_deleted=false&quot;</span>)
225:     <span class="ruby-identifier">render</span>(<span class="ruby-identifier">:update</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">page</span><span class="ruby-operator">|</span>
226:       <span class="ruby-identifier">page</span>.<span class="ruby-identifier">replace_html</span> <span class="ruby-value str">'subject-select'</span>, <span class="ruby-identifier">:partial=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">'subject_select'</span>
227:     <span class="ruby-keyword kw">end</span>
228:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000369" class="method-detail">
        <a name="M000369"></a>

        <div class="method-heading">
          <a href="#M000369" class="method-signature">
          <span class="method-name">previous_years_marks_overview</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000369-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000369-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/exam_controller.rb, line 378</span>
378:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">previous_years_marks_overview</span>
379:     <span class="ruby-ivar">@student</span> = <span class="ruby-constant">Student</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:student</span>])
380:     <span class="ruby-ivar">@all_batches</span> = <span class="ruby-ivar">@student</span>.<span class="ruby-identifier">all_batches</span>
381:     <span class="ruby-ivar">@graph</span> = <span class="ruby-identifier">open_flash_chart_object</span>(<span class="ruby-value">770</span>, <span class="ruby-value">350</span>,
382:       <span class="ruby-node">&quot;/exam/graph_for_previous_years_marks_overview?student=#{params[:student]}&amp;graphtype=#{params[:graphtype]}&quot;</span>)
383:     <span class="ruby-identifier">respond_to</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">format</span><span class="ruby-operator">|</span>
384:       <span class="ruby-identifier">format</span>.<span class="ruby-identifier">pdf</span> { <span class="ruby-identifier">render</span> <span class="ruby-identifier">:layout</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span> }
385:       <span class="ruby-identifier">format</span>.<span class="ruby-identifier">html</span>
386:     <span class="ruby-keyword kw">end</span>
387:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000353" class="method-detail">
        <a name="M000353"></a>

        <div class="method-heading">
          <a href="#M000353" class="method-signature">
          <span class="method-name">publish</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000353-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000353-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/exam_controller.rb, line 45</span>
 45:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">publish</span>
 46:     <span class="ruby-ivar">@exam_group</span> = <span class="ruby-constant">ExamGroup</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
 47:     <span class="ruby-ivar">@exams</span> = <span class="ruby-ivar">@exam_group</span>.<span class="ruby-identifier">exams</span>
 48:     <span class="ruby-ivar">@batch</span> = <span class="ruby-ivar">@exam_group</span>.<span class="ruby-identifier">batch</span>
 49:     <span class="ruby-ivar">@sms_setting_notice</span> = <span class="ruby-value str">&quot;&quot;</span>
 50:     <span class="ruby-ivar">@no_exam_notice</span> = <span class="ruby-value str">&quot;&quot;</span>
 51:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:status</span>] <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;schedule&quot;</span>
 52:       <span class="ruby-identifier">students</span> = <span class="ruby-ivar">@batch</span>.<span class="ruby-identifier">students</span>
 53:       
 54:         <span class="ruby-identifier">students</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">s</span><span class="ruby-operator">|</span>
 55:           <span class="ruby-identifier">student_user</span> = <span class="ruby-identifier">s</span>.<span class="ruby-identifier">user</span>
 56:           <span class="ruby-constant">Reminder</span>.<span class="ruby-identifier">create</span>(<span class="ruby-identifier">:sender=</span><span class="ruby-operator">&gt;</span> <span class="ruby-identifier">current_user</span>.<span class="ruby-identifier">id</span>,<span class="ruby-identifier">:recipient=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">student_user</span>.<span class="ruby-identifier">id</span>,
 57:             <span class="ruby-identifier">:subject=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;Exam Scheduled&quot;</span>,
 58:             <span class="ruby-identifier">:body=</span><span class="ruby-operator">&gt;</span><span class="ruby-node">&quot;#{@exam_group.name} has been scheduled  &lt;br/&gt; Please view calendar for more details&quot;</span>)
 59:         <span class="ruby-keyword kw">end</span>
 60:       
 61:     <span class="ruby-keyword kw">end</span>
 62:     <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@exams</span>.<span class="ruby-identifier">empty?</span>
 63:       <span class="ruby-constant">ExamGroup</span>.<span class="ruby-identifier">update</span>(<span class="ruby-ivar">@exam_group</span>.<span class="ruby-identifier">id</span>,<span class="ruby-identifier">:is_published=</span><span class="ruby-operator">&gt;</span><span class="ruby-keyword kw">true</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:status</span>] <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;schedule&quot;</span>
 64:       <span class="ruby-constant">ExamGroup</span>.<span class="ruby-identifier">update</span>(<span class="ruby-ivar">@exam_group</span>.<span class="ruby-identifier">id</span>,<span class="ruby-identifier">:result_published=</span><span class="ruby-operator">&gt;</span><span class="ruby-keyword kw">true</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:status</span>] <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;result&quot;</span>
 65:       <span class="ruby-identifier">sms_setting</span> = <span class="ruby-constant">SmsSetting</span>.<span class="ruby-identifier">new</span>()
 66:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">sms_setting</span>.<span class="ruby-identifier">application_sms_active</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">sms_setting</span>.<span class="ruby-identifier">exam_result_schedule_sms_active</span>
 67:         <span class="ruby-identifier">students</span> = <span class="ruby-ivar">@batch</span>.<span class="ruby-identifier">students</span>
 68:         <span class="ruby-identifier">students</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">s</span><span class="ruby-operator">|</span>
 69:           <span class="ruby-identifier">guardian</span> = <span class="ruby-identifier">s</span>.<span class="ruby-identifier">immediate_contact</span>
 70:           <span class="ruby-identifier">recipients</span> = []
 71:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">s</span>.<span class="ruby-identifier">is_sms_enabled</span>
 72:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">sms_setting</span>.<span class="ruby-identifier">student_sms_active</span>
 73:               <span class="ruby-identifier">recipients</span>.<span class="ruby-identifier">push</span> <span class="ruby-identifier">s</span>.<span class="ruby-identifier">phone2</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">s</span>.<span class="ruby-identifier">phone2</span>.<span class="ruby-identifier">nil?</span>
 74:             <span class="ruby-keyword kw">end</span>
 75:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">sms_setting</span>.<span class="ruby-identifier">parent_sms_active</span>
 76:               <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">guardian</span>.<span class="ruby-identifier">nil?</span>
 77:               <span class="ruby-identifier">recipients</span>.<span class="ruby-identifier">push</span> <span class="ruby-identifier">guardian</span>.<span class="ruby-identifier">mobile_phone</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">guardian</span>.<span class="ruby-identifier">mobile_phone</span>.<span class="ruby-identifier">nil?</span>
 78:               <span class="ruby-keyword kw">end</span>
 79:             <span class="ruby-keyword kw">end</span>
 80:             <span class="ruby-ivar">@message</span> = <span class="ruby-node">&quot;#{@exam_group.name} exam Timetable has been published.&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:status</span>] <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;schedule&quot;</span>
 81:             <span class="ruby-ivar">@message</span> = <span class="ruby-node">&quot;#{@exam_group.name} exam result has been published.&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:status</span>] <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;result&quot;</span>
 82:             <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">recipients</span>.<span class="ruby-identifier">empty?</span>
 83:               <span class="ruby-identifier">sms</span> = <span class="ruby-constant">SmsManager</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@message</span>,<span class="ruby-identifier">recipients</span>)
 84:               <span class="ruby-identifier">sms</span>.<span class="ruby-identifier">send_sms</span>
 85:             <span class="ruby-keyword kw">end</span>
 86:           <span class="ruby-keyword kw">end</span>
 87:         <span class="ruby-keyword kw">end</span>
 88:       <span class="ruby-keyword kw">else</span>
 89:         <span class="ruby-ivar">@conf</span> = <span class="ruby-constant">Configuration</span>.<span class="ruby-identifier">available_modules</span>
 90:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@conf</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value str">'SMS'</span>)
 91:           <span class="ruby-ivar">@sms_setting_notice</span> = <span class="ruby-value str">&quot;Exam schedule published, No sms was sent as Sms setting was not activated&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:status</span>] <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;schedule&quot;</span>
 92:           <span class="ruby-ivar">@sms_setting_notice</span> = <span class="ruby-value str">&quot;Exam result published, No sms was sent as Sms setting was not activated&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:status</span>] <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;result&quot;</span>
 93:         <span class="ruby-keyword kw">else</span>
 94:           <span class="ruby-ivar">@sms_setting_notice</span> = <span class="ruby-value str">&quot;Exam schedule published&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:status</span>] <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;schedule&quot;</span>
 95:           <span class="ruby-ivar">@sms_setting_notice</span> = <span class="ruby-value str">&quot;Exam result published&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:status</span>] <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;result&quot;</span>
 96:         <span class="ruby-keyword kw">end</span>
 97:       <span class="ruby-keyword kw">end</span>
 98:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:status</span>] <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;result&quot;</span>
 99:         <span class="ruby-identifier">students</span> = <span class="ruby-ivar">@batch</span>.<span class="ruby-identifier">students</span>
100:         <span class="ruby-identifier">students</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">s</span><span class="ruby-operator">|</span>
101:           <span class="ruby-identifier">student_user</span> = <span class="ruby-identifier">s</span>.<span class="ruby-identifier">user</span>
102:           <span class="ruby-constant">Reminder</span>.<span class="ruby-identifier">create</span>(<span class="ruby-identifier">:sender=</span><span class="ruby-operator">&gt;</span> <span class="ruby-identifier">current_user</span>.<span class="ruby-identifier">id</span>,<span class="ruby-identifier">:recipient=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">student_user</span>.<span class="ruby-identifier">id</span>,
103:             <span class="ruby-identifier">:subject=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;Result Published&quot;</span>,
104:             <span class="ruby-identifier">:body=</span><span class="ruby-operator">&gt;</span><span class="ruby-node">&quot;#{@exam_group.name} result has been published  &lt;br/&gt; Please view reports for your result&quot;</span>)
105:         <span class="ruby-keyword kw">end</span>
106:       <span class="ruby-keyword kw">end</span>
107:     <span class="ruby-keyword kw">else</span>
108:       <span class="ruby-ivar">@no_exam_notice</span> = <span class="ruby-value str">&quot;Exam scheduling not done yet.&quot;</span>
109:     <span class="ruby-keyword kw">end</span>
110:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000361" class="method-detail">
        <a name="M000361"></a>

        <div class="method-heading">
          <a href="#M000361" class="method-signature">
          <span class="method-name">subject_wise_report</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000361-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000361-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/exam_controller.rb, line 218</span>
218:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">subject_wise_report</span>
219:     <span class="ruby-ivar">@batches</span> = <span class="ruby-constant">Batch</span>.<span class="ruby-identifier">active</span>
220:     <span class="ruby-ivar">@subjects</span> = []
221:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000373" class="method-detail">
        <a name="M000373"></a>

        <div class="method-heading">
          <a href="#M000373" class="method-signature">
          <span class="method-name">update_batch</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000373-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000373-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/exam_controller.rb, line 423</span>
423:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">update_batch</span>
424:     <span class="ruby-ivar">@batch</span> = <span class="ruby-constant">Batch</span>.<span class="ruby-identifier">find_all_by_course_id</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:course_name</span>], <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:is_deleted</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>, <span class="ruby-identifier">:is_active</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span> })
425: 
426:     <span class="ruby-identifier">render</span>(<span class="ruby-identifier">:update</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">page</span><span class="ruby-operator">|</span>
427:       <span class="ruby-identifier">page</span>.<span class="ruby-identifier">replace_html</span> <span class="ruby-value str">'update_batch'</span>, <span class="ruby-identifier">:partial=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">'update_batch'</span>
428:     <span class="ruby-keyword kw">end</span>
429: 
430:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000372" class="method-detail">
        <a name="M000372"></a>

        <div class="method-heading">
          <a href="#M000372" class="method-signature">
          <span class="method-name">update_batch_ex_result</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000372-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000372-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/exam_controller.rb, line 415</span>
415:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">update_batch_ex_result</span>
416:     <span class="ruby-ivar">@batch</span> = <span class="ruby-constant">Batch</span>.<span class="ruby-identifier">find_all_by_course_id</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:course_name</span>], <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:is_deleted</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>, <span class="ruby-identifier">:is_active</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span> })
417: 
418:     <span class="ruby-identifier">render</span>(<span class="ruby-identifier">:update</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">page</span><span class="ruby-operator">|</span>
419:       <span class="ruby-identifier">page</span>.<span class="ruby-identifier">replace_html</span> <span class="ruby-value str">'update_batch'</span>, <span class="ruby-identifier">:partial=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">'update_batch_ex_result'</span>
420:     <span class="ruby-keyword kw">end</span>
421:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000352" class="method-detail">
        <a name="M000352"></a>

        <div class="method-heading">
          <a href="#M000352" class="method-signature">
          <span class="method-name">update_exam_form</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000352-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000352-source">
<pre>
    <span class="ruby-comment cmt"># File app/controllers/exam_controller.rb, line 8</span>
 8:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">update_exam_form</span>
 9:     <span class="ruby-ivar">@batch</span> = <span class="ruby-constant">Batch</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:batch</span>])
10:     <span class="ruby-ivar">@name</span> = <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:exam_option</span>][<span class="ruby-identifier">:name</span>]
11:     <span class="ruby-ivar">@type</span> = <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:exam_option</span>][<span class="ruby-identifier">:exam_type</span>]
12: 
13:     <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@name</span> <span class="ruby-operator">==</span> <span class="ruby-value str">''</span>
14:       <span class="ruby-ivar">@exam_group</span> = <span class="ruby-constant">ExamGroup</span>.<span class="ruby-identifier">new</span>
15:       <span class="ruby-ivar">@normal_subjects</span> = <span class="ruby-constant">Subject</span>.<span class="ruby-identifier">find_all_by_batch_id</span>(<span class="ruby-ivar">@batch</span>.<span class="ruby-identifier">id</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;no_exams = false AND elective_group_id IS NULL AND is_deleted = false&quot;</span>)
16:       <span class="ruby-ivar">@elective_subjects</span> = []
17:       <span class="ruby-identifier">elective_subjects</span> = <span class="ruby-constant">Subject</span>.<span class="ruby-identifier">find_all_by_batch_id</span>(<span class="ruby-ivar">@batch</span>.<span class="ruby-identifier">id</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;no_exams = false AND elective_group_id IS NOT NULL AND is_deleted = false&quot;</span>)
18:       <span class="ruby-identifier">elective_subjects</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span>
19:         <span class="ruby-identifier">is_assigned</span> = <span class="ruby-constant">StudentsSubject</span>.<span class="ruby-identifier">find_all_by_subject_id</span>(<span class="ruby-identifier">e</span>.<span class="ruby-identifier">id</span>)
20:         <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">is_assigned</span>.<span class="ruby-identifier">empty?</span>
21:           <span class="ruby-ivar">@elective_subjects</span>.<span class="ruby-identifier">push</span> <span class="ruby-identifier">e</span>
22:         <span class="ruby-keyword kw">end</span>
23:       <span class="ruby-keyword kw">end</span>
24:       <span class="ruby-ivar">@all_subjects</span> = <span class="ruby-ivar">@normal_subjects</span><span class="ruby-operator">+</span><span class="ruby-ivar">@elective_subjects</span>
25:       <span class="ruby-ivar">@all_subjects</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">subject</span><span class="ruby-operator">|</span> <span class="ruby-ivar">@exam_group</span>.<span class="ruby-identifier">exams</span>.<span class="ruby-identifier">build</span>(<span class="ruby-identifier">:subject_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">subject</span>.<span class="ruby-identifier">id</span>) }
26:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@type</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'Marks'</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@type</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'MarksAndGrades'</span>
27:         <span class="ruby-identifier">render</span>(<span class="ruby-identifier">:update</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">page</span><span class="ruby-operator">|</span>
28:           <span class="ruby-identifier">page</span>.<span class="ruby-identifier">replace_html</span> <span class="ruby-value str">'exam-form'</span>, <span class="ruby-identifier">:partial=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">'exam_marks_form'</span>
29:           <span class="ruby-identifier">page</span>.<span class="ruby-identifier">replace_html</span> <span class="ruby-value str">'flash'</span>, <span class="ruby-identifier">:text=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">''</span>
30:         <span class="ruby-keyword kw">end</span>
31:       <span class="ruby-keyword kw">else</span>
32:         <span class="ruby-identifier">render</span>(<span class="ruby-identifier">:update</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">page</span><span class="ruby-operator">|</span>
33:           <span class="ruby-identifier">page</span>.<span class="ruby-identifier">replace_html</span> <span class="ruby-value str">'exam-form'</span>, <span class="ruby-identifier">:partial=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">'exam_grade_form'</span>
34:           <span class="ruby-identifier">page</span>.<span class="ruby-identifier">replace_html</span> <span class="ruby-value str">'flash'</span>, <span class="ruby-identifier">:text=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">''</span>
35:         <span class="ruby-keyword kw">end</span>
36:       <span class="ruby-keyword kw">end</span>
37:   
38:     <span class="ruby-keyword kw">else</span>
39:       <span class="ruby-identifier">render</span>(<span class="ruby-identifier">:update</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">page</span><span class="ruby-operator">|</span>
40:         <span class="ruby-identifier">page</span>.<span class="ruby-identifier">replace_html</span> <span class="ruby-value str">'flash'</span>, <span class="ruby-identifier">:text=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">'&lt;div class=&quot;errorExplanation&quot;&gt;&lt;p&gt;Exam name can\'t be blank&lt;/p&gt;&lt;/div&gt;'</span>
41:       <span class="ruby-keyword kw">end</span>
42:     <span class="ruby-keyword kw">end</span>
43:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>


    </div>


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>
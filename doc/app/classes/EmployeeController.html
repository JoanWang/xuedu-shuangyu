<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Class: EmployeeController</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href=".././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Class</strong></td>
          <td class="class-name-in-header">EmployeeController</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>
                <a href="../files/app/controllers/employee_controller_rb.html">
                app/controllers/employee_controller.rb
                </a>
        <br />
            </td>
        </tr>

        <tr class="top-aligned-row">
            <td><strong>Parent:</strong></td>
            <td>
                <a href="ApplicationController.html">
                ApplicationController
               </a>
            </td>
        </tr>
        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">



   </div>

    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">
      <a href="#M000016">add_additional_details</a>&nbsp;&nbsp;
      <a href="#M000013">add_bank_details</a>&nbsp;&nbsp;
      <a href="#M000001">add_category</a>&nbsp;&nbsp;
      <a href="#M000007">add_department</a>&nbsp;&nbsp;
      <a href="#M000010">add_grade</a>&nbsp;&nbsp;
      <a href="#M000050">add_payslip_category</a>&nbsp;&nbsp;
      <a href="#M000004">add_position</a>&nbsp;&nbsp;
      <a href="#M000019">admission1</a>&nbsp;&nbsp;
      <a href="#M000023">admission2</a>&nbsp;&nbsp;
      <a href="#M000026">admission3</a>&nbsp;&nbsp;
      <a href="#M000028">admission3_1</a>&nbsp;&nbsp;
      <a href="#M000031">admission4</a>&nbsp;&nbsp;
      <a href="#M000082">advanced_search</a>&nbsp;&nbsp;
      <a href="#M000094">advanced_search_pdf</a>&nbsp;&nbsp;
      <a href="#M000074">all_employee_leave_applications</a>&nbsp;&nbsp;
      <a href="#M000062">assign_employee</a>&nbsp;&nbsp;
      <a href="#M000033">change_reporting_manager</a>&nbsp;&nbsp;
      <a href="#M000092">change_to_former</a>&nbsp;&nbsp;
      <a href="#M000053">create_monthly_payslip</a>&nbsp;&nbsp;
      <a href="#M000051">create_payslip_category</a>&nbsp;&nbsp;
      <a href="#M000093">delete</a>&nbsp;&nbsp;
      <a href="#M000018">delete_additional_details</a>&nbsp;&nbsp;
      <a href="#M000015">delete_bank_details</a>&nbsp;&nbsp;
      <a href="#M000003">delete_category</a>&nbsp;&nbsp;
      <a href="#M000009">delete_department</a>&nbsp;&nbsp;
      <a href="#M000012">delete_grade</a>&nbsp;&nbsp;
      <a href="#M000056">delete_payslip</a>&nbsp;&nbsp;
      <a href="#M000006">delete_position</a>&nbsp;&nbsp;
      <a href="#M000077">department_payslip</a>&nbsp;&nbsp;
      <a href="#M000079">department_payslip_pdf</a>&nbsp;&nbsp;
      <a href="#M000088">dob_equal_to_update</a>&nbsp;&nbsp;
      <a href="#M000090">dob_greater_than_update</a>&nbsp;&nbsp;
      <a href="#M000089">dob_less_than_update</a>&nbsp;&nbsp;
      <a href="#M000084">doj_equal_to_update</a>&nbsp;&nbsp;
      <a href="#M000086">doj_greater_than_update</a>&nbsp;&nbsp;
      <a href="#M000085">doj_less_than_update</a>&nbsp;&nbsp;
      <a href="#M000021">edit1</a>&nbsp;&nbsp;
      <a href="#M000024">edit2</a>&nbsp;&nbsp;
      <a href="#M000027">edit3</a>&nbsp;&nbsp;
      <a href="#M000030">edit3_1</a>&nbsp;&nbsp;
      <a href="#M000017">edit_additional_details</a>&nbsp;&nbsp;
      <a href="#M000014">edit_bank_details</a>&nbsp;&nbsp;
      <a href="#M000002">edit_category</a>&nbsp;&nbsp;
      <a href="#M000025">edit_contact</a>&nbsp;&nbsp;
      <a href="#M000008">edit_department</a>&nbsp;&nbsp;
      <a href="#M000011">edit_grade</a>&nbsp;&nbsp;
      <a href="#M000022">edit_personal</a>&nbsp;&nbsp;
      <a href="#M000005">edit_position</a>&nbsp;&nbsp;
      <a href="#M000029">edit_privilege</a>&nbsp;&nbsp;
      <a href="#M000081">employee_individual_payslip_pdf</a>&nbsp;&nbsp;
      <a href="#M000048">employees_list</a>&nbsp;&nbsp;
      <a href="#M000066">hr</a>&nbsp;&nbsp;
      <a href="#M000080">individual_payslip_pdf</a>&nbsp;&nbsp;
      <a href="#M000076">leave_list</a>&nbsp;&nbsp;
      <a href="#M000073">leave_management</a>&nbsp;&nbsp;
      <a href="#M000087">list_dob_year</a>&nbsp;&nbsp;
      <a href="#M000083">list_doj_year</a>&nbsp;&nbsp;
      <a href="#M000096">one_click_approve</a>&nbsp;&nbsp;
      <a href="#M000097">one_click_approve_submit</a>&nbsp;&nbsp;
      <a href="#M000070">one_click_payslip_generation</a>&nbsp;&nbsp;
      <a href="#M000072">one_click_payslip_revert</a>&nbsp;&nbsp;
      <a href="#M000095">payslip_approve</a>&nbsp;&nbsp;
      <a href="#M000069">payslip_date_select</a>&nbsp;&nbsp;
      <a href="#M000071">payslip_revert_date_select</a>&nbsp;&nbsp;
      <a href="#M000038">profile</a>&nbsp;&nbsp;
      <a href="#M000044">profile_additional_details</a>&nbsp;&nbsp;
      <a href="#M000041">profile_address</a>&nbsp;&nbsp;
      <a href="#M000043">profile_bank_details</a>&nbsp;&nbsp;
      <a href="#M000042">profile_contact</a>&nbsp;&nbsp;
      <a href="#M000039">profile_general</a>&nbsp;&nbsp;
      <a href="#M000045">profile_payroll_details</a>&nbsp;&nbsp;
      <a href="#M000046">profile_pdf</a>&nbsp;&nbsp;
      <a href="#M000040">profile_personal</a>&nbsp;&nbsp;
      <a href="#M000091">remove</a>&nbsp;&nbsp;
      <a href="#M000063">remove_employee</a>&nbsp;&nbsp;
      <a href="#M000052">remove_new_paylist_category</a>&nbsp;&nbsp;
      <a href="#M000035">search</a>&nbsp;&nbsp;
      <a href="#M000036">search_ajax</a>&nbsp;&nbsp;
      <a href="#M000060">select_department</a>&nbsp;&nbsp;
      <a href="#M000067">select_department_employee</a>&nbsp;&nbsp;
      <a href="#M000037">select_reporting_manager</a>&nbsp;&nbsp;
      <a href="#M000049">show</a>&nbsp;&nbsp;
      <a href="#M000058">subject_assignment</a>&nbsp;&nbsp;
      <a href="#M000064">timetable</a>&nbsp;&nbsp;
      <a href="#M000065">timetable_pdf</a>&nbsp;&nbsp;
      <a href="#M000078">update_employee_payslip</a>&nbsp;&nbsp;
      <a href="#M000068">update_employee_select_list</a>&nbsp;&nbsp;
      <a href="#M000061">update_employees</a>&nbsp;&nbsp;
      <a href="#M000075">update_employees_select</a>&nbsp;&nbsp;
      <a href="#M000055">update_monthly_payslip</a>&nbsp;&nbsp;
      <a href="#M000020">update_positions</a>&nbsp;&nbsp;
      <a href="#M000034">update_reporting_manager_name</a>&nbsp;&nbsp;
      <a href="#M000059">update_subjects</a>&nbsp;&nbsp;
      <a href="#M000047">view_all</a>&nbsp;&nbsp;
      <a href="#M000057">view_attendance</a>&nbsp;&nbsp;
      <a href="#M000054">view_payslip</a>&nbsp;&nbsp;
      <a href="#M000032">view_rep_manager</a>&nbsp;&nbsp;
      </div>
    </div>

  </div>


    <!-- if includes -->

    <div id="section">





      


    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Public Instance methods</h3>

      <div id="method-M000016" class="method-detail">
        <a name="M000016"></a>

        <div class="method-heading">
          <a href="#M000016" class="method-signature">
          <span class="method-name">add_additional_details</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000016-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000016-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 161</span>
161:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_additional_details</span>
162:     <span class="ruby-ivar">@additional_details</span> = <span class="ruby-constant">AdditionalField</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>)
163:     <span class="ruby-ivar">@additional_field</span> = <span class="ruby-constant">AdditionalField</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:additional_field</span>])
164:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">request</span>.<span class="ruby-identifier">post?</span> <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@additional_field</span>.<span class="ruby-identifier">save</span>
165:       <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>] = <span class="ruby-value str">&quot;Additional field created&quot;</span>
166:       <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;employee&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;add_additional_details&quot;</span>
167:     <span class="ruby-keyword kw">end</span>
168:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000013" class="method-detail">
        <a name="M000013"></a>

        <div class="method-heading">
          <a href="#M000013" class="method-signature">
          <span class="method-name">add_bank_details</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000013-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000013-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 132</span>
132:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_bank_details</span>
133:     <span class="ruby-ivar">@bank_details</span> = <span class="ruby-constant">BankField</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>)
134:     <span class="ruby-ivar">@bank_field</span> = <span class="ruby-constant">BankField</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:bank_field</span>])
135:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">request</span>.<span class="ruby-identifier">post?</span> <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@bank_field</span>.<span class="ruby-identifier">save</span>
136:       <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>] = <span class="ruby-value str">&quot;Bank field created&quot;</span>
137:       <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;employee&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;add_bank_details&quot;</span>
138:     <span class="ruby-keyword kw">end</span>
139:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000001" class="method-detail">
        <a name="M000001"></a>

        <div class="method-heading">
          <a href="#M000001" class="method-signature">
          <span class="method-name">add_category</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000001-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000001-source">
<pre>
    <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 7</span>
 7:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_category</span>
 8:     <span class="ruby-ivar">@categories</span> = <span class="ruby-constant">EmployeeCategory</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>)
 9:     <span class="ruby-ivar">@category</span> = <span class="ruby-constant">EmployeeCategory</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:category</span>])
10:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">request</span>.<span class="ruby-identifier">post?</span> <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@category</span>.<span class="ruby-identifier">save</span>
11:       <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>] = <span class="ruby-value str">&quot;Employee category created&quot;</span>
12:       <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;employee&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;add_category&quot;</span>
13:     <span class="ruby-keyword kw">end</span>
14:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000007" class="method-detail">
        <a name="M000007"></a>

        <div class="method-heading">
          <a href="#M000007" class="method-signature">
          <span class="method-name">add_department</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000007-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000007-source">
<pre>
    <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 72</span>
72:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_department</span>
73:     <span class="ruby-ivar">@departments</span> = <span class="ruby-constant">EmployeeDepartment</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>)
74:     <span class="ruby-ivar">@department</span> = <span class="ruby-constant">EmployeeDepartment</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:department</span>])
75:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">request</span>.<span class="ruby-identifier">post?</span> <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@department</span>.<span class="ruby-identifier">save</span>
76:       <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>] = <span class="ruby-value str">&quot;Employee department created&quot;</span>
77:       <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;employee&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;add_department&quot;</span>
78:     <span class="ruby-keyword kw">end</span>
79:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000010" class="method-detail">
        <a name="M000010"></a>

        <div class="method-heading">
          <a href="#M000010" class="method-signature">
          <span class="method-name">add_grade</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000010-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000010-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 102</span>
102:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_grade</span>
103:     <span class="ruby-ivar">@grades</span> = <span class="ruby-constant">EmployeeGrade</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>)
104:     <span class="ruby-ivar">@grade</span> = <span class="ruby-constant">EmployeeGrade</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:grade</span>])
105:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">request</span>.<span class="ruby-identifier">post?</span> <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@grade</span>.<span class="ruby-identifier">save</span>
106:       <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>] = <span class="ruby-value str">&quot;Employee grade created&quot;</span>
107:       <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;employee&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;add_grade&quot;</span>
108:     <span class="ruby-keyword kw">end</span>
109:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000050" class="method-detail">
        <a name="M000050"></a>

        <div class="method-heading">
          <a href="#M000050" class="method-signature">
          <span class="method-name">add_payslip_category</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000050-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000050-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 588</span>
588:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_payslip_category</span>
589:     <span class="ruby-ivar">@employee</span> = <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:emp_id</span>])
590:     <span class="ruby-identifier">render</span> <span class="ruby-identifier">:partial</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;payslip_category_form&quot;</span>
591:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000004" class="method-detail">
        <a name="M000004"></a>

        <div class="method-heading">
          <a href="#M000004" class="method-signature">
          <span class="method-name">add_position</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000004-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000004-source">
<pre>
    <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 38</span>
38:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_position</span>
39:     <span class="ruby-ivar">@positions</span> = <span class="ruby-constant">EmployeePosition</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>)
40:     <span class="ruby-ivar">@categories</span> = <span class="ruby-constant">EmployeeCategory</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;name asc&quot;</span>)
41:     <span class="ruby-ivar">@position</span> = <span class="ruby-constant">EmployeePosition</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:position</span>])
42:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">request</span>.<span class="ruby-identifier">post?</span> <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@position</span>.<span class="ruby-identifier">save</span>
43:       <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>] = <span class="ruby-value str">&quot;Employee position created&quot;</span>
44:       <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;employee&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;add_position&quot;</span>
45:     <span class="ruby-keyword kw">end</span>
46:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000019" class="method-detail">
        <a name="M000019"></a>

        <div class="method-heading">
          <a href="#M000019" class="method-signature">
          <span class="method-name">admission1</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000019-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000019-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 190</span>
190:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">admission1</span>
191:     <span class="ruby-ivar">@user</span> = <span class="ruby-identifier">current_user</span>
192:     <span class="ruby-ivar">@user_name</span> = <span class="ruby-ivar">@user</span>.<span class="ruby-identifier">username</span>
193:     <span class="ruby-ivar">@employee1</span> = <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">find_by_employee_number</span>(<span class="ruby-ivar">@user_name</span>)
194:     <span class="ruby-ivar">@categories</span> = <span class="ruby-constant">EmployeeCategory</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;name asc&quot;</span>)
195:     <span class="ruby-ivar">@positions</span> = []
196:     <span class="ruby-ivar">@grades</span> = <span class="ruby-constant">EmployeeGrade</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;name asc&quot;</span>)
197:     <span class="ruby-ivar">@departments</span> = <span class="ruby-constant">EmployeeDepartment</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;name asc&quot;</span>)
198:     <span class="ruby-ivar">@nationalities</span> = <span class="ruby-constant">Country</span>.<span class="ruby-identifier">all</span>
199:     <span class="ruby-ivar">@employee</span> = <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:employee</span>])
200:     <span class="ruby-ivar">@last_admitted_employee</span> = <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:last</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;employee_number != 'admin'&quot;</span>)
201:     <span class="ruby-ivar">@config</span> = <span class="ruby-constant">Configuration</span>.<span class="ruby-identifier">find_by_config_key</span>(<span class="ruby-value str">'EmployeeNumberAutoIncrement'</span>)
202: 
203:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">request</span>.<span class="ruby-identifier">post?</span>
204: 
205:       <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:employee</span>][<span class="ruby-identifier">:employee_number</span>].<span class="ruby-identifier">to_i</span> <span class="ruby-operator">==</span><span class="ruby-value">0</span>
206:         <span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">employee_number</span>= <span class="ruby-value str">&quot;E&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:employee</span>][<span class="ruby-identifier">:employee_number</span>].<span class="ruby-identifier">to_s</span>
207:       <span class="ruby-keyword kw">end</span>
208: 
209:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">save</span>
210:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:employee</span>][<span class="ruby-identifier">:gender</span>] <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;true&quot;</span>
211:           <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">update</span>(<span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">id</span>, <span class="ruby-identifier">:gender</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>)
212:         <span class="ruby-keyword kw">else</span>
213:           <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">update</span>(<span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">id</span>, <span class="ruby-identifier">:gender</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>)
214:         <span class="ruby-keyword kw">end</span>
215: 
216:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:employee</span>][<span class="ruby-identifier">:status</span>] <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;true&quot;</span>
217:           <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">update</span>(<span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">id</span>, <span class="ruby-identifier">:status</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>)
218:         <span class="ruby-keyword kw">else</span>
219:           <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">update</span>(<span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">id</span>, <span class="ruby-identifier">:status</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>)
220:         <span class="ruby-keyword kw">end</span>
221: 
222:         <span class="ruby-ivar">@user</span> = <span class="ruby-constant">User</span>.<span class="ruby-identifier">new</span>
223:         <span class="ruby-ivar">@user</span>.<span class="ruby-identifier">first_name</span> = <span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">first_name</span>
224:         <span class="ruby-ivar">@user</span>.<span class="ruby-identifier">last_name</span> = <span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">last_name</span>
225:         <span class="ruby-ivar">@user</span>.<span class="ruby-identifier">username</span> = <span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">employee_number</span>.<span class="ruby-identifier">to_s</span>
226:         <span class="ruby-ivar">@user</span>.<span class="ruby-identifier">password</span> = <span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">employee_number</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;123&quot;</span>
227:         <span class="ruby-ivar">@user</span>.<span class="ruby-identifier">role</span> = <span class="ruby-value str">'Employee'</span>
228:         <span class="ruby-ivar">@user</span>.<span class="ruby-identifier">email</span> = <span class="ruby-value str">&quot;noreply&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">employee_number</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;@fedena.com&quot;</span>
229:         <span class="ruby-ivar">@user</span>.<span class="ruby-identifier">save</span>
230:         
231:         <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>] = <span class="ruby-node">&quot;Employee #{@employee.first_name} record saved&quot;</span>
232:         <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;employee&quot;</span> ,<span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;admission2&quot;</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">id</span>
233:       <span class="ruby-keyword kw">end</span>
234:     <span class="ruby-keyword kw">end</span>
235:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000023" class="method-detail">
        <a name="M000023"></a>

        <div class="method-heading">
          <a href="#M000023" class="method-signature">
          <span class="method-name">admission2</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000023-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000023-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 278</span>
278:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">admission2</span>
279:     <span class="ruby-ivar">@countries</span> = <span class="ruby-constant">Country</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>)
280:     <span class="ruby-ivar">@employee</span> = <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
281:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">request</span>.<span class="ruby-identifier">post?</span> <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">update_attributes</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:employee</span>])
282:       <span class="ruby-identifier">sms_setting</span> = <span class="ruby-constant">SmsSetting</span>.<span class="ruby-identifier">new</span>()
283:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">sms_setting</span>.<span class="ruby-identifier">application_sms_active</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">sms_setting</span>.<span class="ruby-identifier">employee_sms_active</span>
284:         <span class="ruby-identifier">recipient</span> = [<span class="ruby-node">&quot;#{@employee.mobile_phone}&quot;</span>]
285:         <span class="ruby-identifier">message</span> = <span class="ruby-node">&quot;Joining Info for #{@employee.first_name}. Username: #{@employee.employee_number}, Password: #{@employee.employee_number}123. Please change your password after logging in.&quot;</span>
286:         <span class="ruby-identifier">sms</span> = <span class="ruby-constant">SmsManager</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">message</span>,<span class="ruby-identifier">recipient</span>)
287:         <span class="ruby-identifier">sms</span>.<span class="ruby-identifier">send_sms</span>
288:       <span class="ruby-keyword kw">end</span>
289:       <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>] = <span class="ruby-node">&quot;address and contact details saved for #{ @employee.first_name}&quot;</span>
290:       <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;admission3&quot;</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">id</span>
291:     <span class="ruby-keyword kw">end</span>
292:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000026" class="method-detail">
        <a name="M000026"></a>

        <div class="method-heading">
          <a href="#M000026" class="method-signature">
          <span class="method-name">admission3</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000026-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000026-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 312</span>
312:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">admission3</span>
313:     <span class="ruby-ivar">@employee</span> = <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
314:     <span class="ruby-ivar">@bank_fields</span> = <span class="ruby-constant">BankField</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>, <span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;status = true&quot;</span>)
315:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@bank_fields</span>.<span class="ruby-identifier">empty?</span>
316:       <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;admission3_1&quot;</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">id</span>
317:     <span class="ruby-keyword kw">end</span>
318:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">request</span>.<span class="ruby-identifier">post?</span>
319:       <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:employee_bank_details</span>].<span class="ruby-identifier">each_pair</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">k</span>, <span class="ruby-identifier">v</span><span class="ruby-operator">|</span>
320:         <span class="ruby-constant">EmployeeBankDetail</span>.<span class="ruby-identifier">create</span>(<span class="ruby-identifier">:employee_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>],
321:           <span class="ruby-identifier">:bank_field_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">k</span>,<span class="ruby-identifier">:bank_info</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">v</span>[<span class="ruby-value str">'bank_info'</span>])
322:       <span class="ruby-keyword kw">end</span>
323:       <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>] = <span class="ruby-node">&quot;Bank details saved for #{@employee.first_name}&quot;</span>
324:       <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;admission3_1&quot;</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">id</span>
325:     <span class="ruby-keyword kw">end</span>
326:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000028" class="method-detail">
        <a name="M000028"></a>

        <div class="method-heading">
          <a href="#M000028" class="method-signature">
          <span class="method-name">admission3_1</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000028-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000028-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 346</span>
346:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">admission3_1</span>
347:     <span class="ruby-ivar">@employee</span> = <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
348:     <span class="ruby-ivar">@additional_fields</span> = <span class="ruby-constant">AdditionalField</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>, <span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;status = true&quot;</span>)
349:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@additional_fields</span>.<span class="ruby-identifier">empty?</span>
350:       <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;edit_privilege&quot;</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">employee_number</span>
351:     <span class="ruby-keyword kw">end</span>
352:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">request</span>.<span class="ruby-identifier">post?</span>
353:       <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:employee_additional_details</span>].<span class="ruby-identifier">each_pair</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">k</span>, <span class="ruby-identifier">v</span><span class="ruby-operator">|</span>
354:         <span class="ruby-constant">EmployeeAdditionalDetail</span>.<span class="ruby-identifier">create</span>(<span class="ruby-identifier">:employee_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>],
355:           <span class="ruby-identifier">:additional_field_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">k</span>,<span class="ruby-identifier">:additional_info</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">v</span>[<span class="ruby-value str">'additional_info'</span>])
356:       <span class="ruby-keyword kw">end</span>
357:       <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>] = <span class="ruby-node">&quot;Bank details saved for #{@employee.first_name}&quot;</span>
358:       <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;edit_privilege&quot;</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">employee_number</span>
359:     <span class="ruby-keyword kw">end</span>
360:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000031" class="method-detail">
        <a name="M000031"></a>

        <div class="method-heading">
          <a href="#M000031" class="method-signature">
          <span class="method-name">admission4</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000031-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000031-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 392</span>
392:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">admission4</span>
393:     <span class="ruby-ivar">@departments</span> = <span class="ruby-constant">EmployeeDepartment</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>)
394:     <span class="ruby-ivar">@categories</span>  = <span class="ruby-constant">EmployeeCategory</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>)
395:     <span class="ruby-ivar">@positions</span>   = <span class="ruby-constant">EmployeePosition</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>)
396:     <span class="ruby-ivar">@grades</span>      = <span class="ruby-constant">EmployeeGrade</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>)
397:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">request</span>.<span class="ruby-identifier">post?</span>
398:       <span class="ruby-ivar">@employee</span> = <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
399:       <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">update</span>(<span class="ruby-ivar">@employee</span>, <span class="ruby-identifier">:reporting_manager_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:employee</span>][<span class="ruby-identifier">:reporting_manager_id</span>])
400:       <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>]=<span class="ruby-value str">&quot;employee reporting manager saved&quot;</span>
401:       <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;payroll&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;manage_payroll&quot;</span>, <span class="ruby-identifier">:id=</span><span class="ruby-operator">&gt;</span><span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">id</span>
402:     <span class="ruby-keyword kw">end</span>
403:   
404:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000082" class="method-detail">
        <a name="M000082"></a>

        <div class="method-heading">
          <a href="#M000082" class="method-signature">
          <span class="method-name">advanced_search</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000082-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000082-source">
<pre>
      <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 1235</span>
1235:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">advanced_search</span>
1236:     <span class="ruby-ivar">@search</span> = <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">search</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:search</span>])
1237:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:search</span>]
1238:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:search</span>][<span class="ruby-identifier">:status_equals</span>]<span class="ruby-operator">==</span><span class="ruby-value str">&quot;true&quot;</span>
1239:         <span class="ruby-ivar">@search</span> = <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">search</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:search</span>])
1240:         <span class="ruby-ivar">@employees1</span> = <span class="ruby-ivar">@search</span>.<span class="ruby-identifier">all</span>
1241:         <span class="ruby-ivar">@employees2</span> = []
1242:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:search</span>][<span class="ruby-identifier">:status_equals</span>]<span class="ruby-operator">==</span><span class="ruby-value str">&quot;false&quot;</span>
1243:         <span class="ruby-ivar">@search</span> = <span class="ruby-constant">ArchivedEmployee</span>.<span class="ruby-identifier">search</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:search</span>])
1244:         <span class="ruby-ivar">@employees1</span> = <span class="ruby-ivar">@search</span>.<span class="ruby-identifier">all</span>
1245:         <span class="ruby-ivar">@employees2</span> = []
1246:       <span class="ruby-keyword kw">else</span>
1247:         <span class="ruby-ivar">@search1</span> = <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">search</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:search</span>]).<span class="ruby-identifier">all</span>
1248:         <span class="ruby-ivar">@search2</span> = <span class="ruby-constant">ArchivedEmployee</span>.<span class="ruby-identifier">search</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:search</span>]).<span class="ruby-identifier">all</span>
1249:         <span class="ruby-ivar">@employees1</span> = <span class="ruby-ivar">@search1</span>
1250:         <span class="ruby-ivar">@employees2</span> = <span class="ruby-ivar">@search2</span>
1251:       <span class="ruby-keyword kw">end</span>
1252:     <span class="ruby-keyword kw">end</span>
1253:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000094" class="method-detail">
        <a name="M000094"></a>

        <div class="method-heading">
          <a href="#M000094" class="method-signature">
          <span class="method-name">advanced_search_pdf</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000094-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000094-source">
<pre>
      <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 1364</span>
1364:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">advanced_search_pdf</span>
1365:     <span class="ruby-ivar">@employee_ids2</span> = <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:result2</span>]
1366:     <span class="ruby-ivar">@employee_ids</span> = <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:result</span>]
1367:     <span class="ruby-ivar">@searched_for</span> = <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:for</span>]
1368:     <span class="ruby-ivar">@status</span> = <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:status</span>]
1369:     <span class="ruby-ivar">@employees1</span> = []
1370:     <span class="ruby-ivar">@employees2</span> = []
1371:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:status</span>] <span class="ruby-operator">==</span> <span class="ruby-value str">'true'</span>
1372:       <span class="ruby-ivar">@employee_ids</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">s</span><span class="ruby-operator">|</span>
1373:         <span class="ruby-identifier">employee</span> = <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">s</span>)
1374:         <span class="ruby-ivar">@employees1</span>.<span class="ruby-identifier">push</span> <span class="ruby-identifier">employee</span>
1375:       <span class="ruby-keyword kw">end</span>
1376:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:status</span>] <span class="ruby-operator">==</span> <span class="ruby-value str">'false'</span>
1377:       <span class="ruby-ivar">@employee_ids</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">s</span><span class="ruby-operator">|</span>
1378:         <span class="ruby-identifier">employee</span> = <span class="ruby-constant">ArchivedEmployee</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">s</span>)
1379:         <span class="ruby-ivar">@employees1</span>.<span class="ruby-identifier">push</span> <span class="ruby-identifier">employee</span>
1380:       <span class="ruby-keyword kw">end</span>
1381:     <span class="ruby-keyword kw">else</span>
1382:       <span class="ruby-ivar">@employee_ids</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">s</span><span class="ruby-operator">|</span>
1383:         <span class="ruby-identifier">employee</span> = <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">s</span>)
1384:         <span class="ruby-ivar">@employees1</span>.<span class="ruby-identifier">push</span> <span class="ruby-identifier">employee</span>
1385:       <span class="ruby-keyword kw">end</span>
1386:       <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@employee_ids2</span>.<span class="ruby-identifier">nil?</span>
1387:         <span class="ruby-ivar">@employee_ids2</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">s</span><span class="ruby-operator">|</span>
1388:           <span class="ruby-identifier">employee</span> = <span class="ruby-constant">ArchivedEmployee</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">s</span>)
1389:           <span class="ruby-ivar">@employees2</span>.<span class="ruby-identifier">push</span> <span class="ruby-identifier">employee</span>
1390:         <span class="ruby-keyword kw">end</span>
1391:       <span class="ruby-keyword kw">end</span>
1392:     <span class="ruby-keyword kw">end</span>
1393:     
1394:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000074" class="method-detail">
        <a name="M000074"></a>

        <div class="method-heading">
          <a href="#M000074" class="method-signature">
          <span class="method-name">all_employee_leave_applications</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000074-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000074-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 970</span>
970:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">all_employee_leave_applications</span>
971: 
972:     <span class="ruby-ivar">@employee</span> = <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
973:     <span class="ruby-ivar">@departments</span> = <span class="ruby-constant">EmployeeDepartment</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>, <span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;name ASC&quot;</span>)
974:     <span class="ruby-ivar">@employees</span> = []
975:     <span class="ruby-identifier">render</span> <span class="ruby-identifier">:partial=</span><span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;all_employee_leave_applications&quot;</span>
976:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000062" class="method-detail">
        <a name="M000062"></a>

        <div class="method-heading">
          <a href="#M000062" class="method-signature">
          <span class="method-name">assign_employee</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000062-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000062-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 795</span>
795:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">assign_employee</span>
796:     <span class="ruby-ivar">@departments</span> = <span class="ruby-constant">EmployeeDepartment</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>)
797:     <span class="ruby-ivar">@subject</span> = <span class="ruby-constant">Subject</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id1</span>])
798:     <span class="ruby-ivar">@employees</span> = <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">find_all_by_employee_department_id</span>(<span class="ruby-constant">Employee</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>]).<span class="ruby-identifier">employee_department_id</span>)
799:     <span class="ruby-constant">EmployeesSubject</span>.<span class="ruby-identifier">create</span>(<span class="ruby-identifier">:employee_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>], <span class="ruby-identifier">:subject_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id1</span>])
800:     <span class="ruby-ivar">@assigned_employee</span> = <span class="ruby-constant">EmployeesSubject</span>.<span class="ruby-identifier">find_all_by_subject_id</span>(<span class="ruby-ivar">@subject</span>.<span class="ruby-identifier">id</span>)
801:     <span class="ruby-identifier">render</span> <span class="ruby-identifier">:partial</span> =<span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;select_department&quot;</span>
802:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000033" class="method-detail">
        <a name="M000033"></a>

        <div class="method-heading">
          <a href="#M000033" class="method-signature">
          <span class="method-name">change_reporting_manager</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000033-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000033-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 412</span>
412:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">change_reporting_manager</span>
413:     <span class="ruby-ivar">@departments</span> = <span class="ruby-constant">EmployeeDepartment</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>)
414:     <span class="ruby-ivar">@categories</span>  = <span class="ruby-constant">EmployeeCategory</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>)
415:     <span class="ruby-ivar">@positions</span>   = <span class="ruby-constant">EmployeePosition</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>)
416:     <span class="ruby-ivar">@grades</span>      = <span class="ruby-constant">EmployeeGrade</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>)
417:     <span class="ruby-ivar">@emp</span> = <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
418:     <span class="ruby-ivar">@reporting_manager</span> = <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">find</span>(<span class="ruby-ivar">@emp</span>.<span class="ruby-identifier">reporting_manager_id</span>).<span class="ruby-identifier">first_name</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@emp</span>.<span class="ruby-identifier">reporting_manager_id</span>.<span class="ruby-identifier">nil?</span>
419:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">request</span>.<span class="ruby-identifier">post?</span>
420:       <span class="ruby-ivar">@employee</span> = <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
421:       <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">update</span>(<span class="ruby-ivar">@employee</span>, <span class="ruby-identifier">:reporting_manager_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:employee</span>][<span class="ruby-identifier">:reporting_manager_id</span>])
422:       <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>]=<span class="ruby-value str">&quot;Reporting manager successfully changed&quot;</span>
423:       <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;profile&quot;</span>, <span class="ruby-identifier">:id=</span><span class="ruby-operator">&gt;</span><span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">id</span>
424:     <span class="ruby-keyword kw">end</span>
425:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000092" class="method-detail">
        <a name="M000092"></a>

        <div class="method-heading">
          <a href="#M000092" class="method-signature">
          <span class="method-name">change_to_former</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000092-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000092-source">
<pre>
      <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 1347</span>
1347:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">change_to_former</span>
1348:     <span class="ruby-ivar">@employee</span> = <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
1349:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">request</span>.<span class="ruby-identifier">post?</span>
1350:       <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>]=<span class="ruby-value str">&quot;Successfully deleted employee!&quot;</span>
1351:       <span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">archive_employee</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:remove</span>][<span class="ruby-identifier">:status_description</span>])
1352:       <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;hr&quot;</span>
1353:     <span class="ruby-keyword kw">end</span>
1354:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000053" class="method-detail">
        <a name="M000053"></a>

        <div class="method-heading">
          <a href="#M000053" class="method-signature">
          <span class="method-name">create_monthly_payslip</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000053-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000053-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 622</span>
622:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">create_monthly_payslip</span>
623:     <span class="ruby-ivar">@new_payslip_category</span> <span class="ruby-operator">==</span> []
624:     <span class="ruby-ivar">@employee</span> = <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
625:     <span class="ruby-ivar">@independent_categories</span> = <span class="ruby-constant">PayrollCategory</span>.<span class="ruby-identifier">find_all_by_payroll_category_id_and_status</span>(<span class="ruby-keyword kw">nil</span>, <span class="ruby-keyword kw">true</span>)
626:     <span class="ruby-ivar">@dependent_categories</span> = <span class="ruby-constant">PayrollCategory</span>.<span class="ruby-identifier">find_all_by_status</span>(<span class="ruby-keyword kw">true</span>, <span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;payroll_category_id != \'\'&quot;</span>)
627:     <span class="ruby-ivar">@employee_additional_categories</span> = <span class="ruby-constant">IndividualPayslipCategory</span>.<span class="ruby-identifier">find_all_by_employee_id</span>(<span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">id</span>, <span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;include_every_month = true&quot;</span>)
628:     <span class="ruby-ivar">@new_payslip_category</span> = <span class="ruby-constant">IndividualPayslipCategory</span>.<span class="ruby-identifier">find_all_by_employee_id_and_salary_date</span>(<span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">id</span>,<span class="ruby-keyword kw">nil</span>)
629:     <span class="ruby-ivar">@user</span> = <span class="ruby-identifier">current_user</span>
630:     <span class="ruby-identifier">privilege</span> = <span class="ruby-constant">Privilege</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">14</span>)
631:     <span class="ruby-identifier">finance_manager</span> = <span class="ruby-identifier">privilege</span>.<span class="ruby-identifier">users</span>
632:     <span class="ruby-identifier">subject</span> = <span class="ruby-value str">&quot; Payslip generated&quot;</span>
633:     <span class="ruby-identifier">body</span> = <span class="ruby-value str">&quot;Payslip has been generated for &quot;</span><span class="ruby-operator">+</span><span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">first_name</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot; &quot;</span><span class="ruby-operator">+</span><span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">last_name</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;. Kindly approve this request&quot;</span>
634:     <span class="ruby-identifier">finance_manager</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span>
635:       <span class="ruby-constant">Reminder</span>.<span class="ruby-identifier">create</span>(<span class="ruby-identifier">:sender=</span><span class="ruby-operator">&gt;</span><span class="ruby-ivar">@user</span>.<span class="ruby-identifier">id</span>, <span class="ruby-identifier">:recipient=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">f</span>.<span class="ruby-identifier">id</span>, <span class="ruby-identifier">:subject=</span><span class="ruby-operator">&gt;</span> <span class="ruby-identifier">subject</span>,
636:         <span class="ruby-identifier">:body</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">body</span>, <span class="ruby-identifier">:is_read=</span><span class="ruby-operator">&gt;</span><span class="ruby-keyword kw">false</span>, <span class="ruby-identifier">:is_deleted_by_sender=</span><span class="ruby-operator">&gt;</span><span class="ruby-keyword kw">false</span>,<span class="ruby-identifier">:is_deleted_by_recipient=</span><span class="ruby-operator">&gt;</span><span class="ruby-keyword kw">false</span>)
637:     <span class="ruby-keyword kw">end</span>
638: 
639:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">request</span>.<span class="ruby-identifier">post?</span>
640:       <span class="ruby-identifier">salary_date</span> = <span class="ruby-constant">Date</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:salary_date</span>])
641:       <span class="ruby-identifier">start_date</span> = <span class="ruby-identifier">salary_date</span> <span class="ruby-operator">-</span> ((<span class="ruby-identifier">salary_date</span>.<span class="ruby-identifier">day</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>).<span class="ruby-identifier">days</span>)
642:       <span class="ruby-identifier">end_date</span> = <span class="ruby-identifier">start_date</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>.<span class="ruby-identifier">month</span>
643:       <span class="ruby-identifier">payslip_exists</span> = <span class="ruby-constant">MonthlyPayslip</span>.<span class="ruby-identifier">find_all_by_employee_id</span>(<span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">id</span>,
644:         <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;salary_date &gt;= ? and salary_date &lt; ?&quot;</span>, <span class="ruby-identifier">start_date</span>, <span class="ruby-identifier">end_date</span>])
645:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">payslip_exists</span> <span class="ruby-operator">==</span> []
646:         <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:manage_payroll</span>].<span class="ruby-identifier">each_pair</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">k</span>, <span class="ruby-identifier">v</span><span class="ruby-operator">|</span>
647:           <span class="ruby-identifier">row_id</span> = <span class="ruby-constant">EmployeeSalaryStructure</span>.<span class="ruby-identifier">find_by_employee_id_and_payroll_category_id</span>(<span class="ruby-ivar">@employee</span>, <span class="ruby-identifier">k</span>)
648:           <span class="ruby-identifier">category_name</span> = <span class="ruby-constant">PayrollCategory</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">k</span>).<span class="ruby-identifier">name</span>
649:           <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">row_id</span>.<span class="ruby-identifier">nil?</span>
650:             <span class="ruby-constant">MonthlyPayslip</span>.<span class="ruby-identifier">create</span>(<span class="ruby-identifier">:salary_date=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">start_date</span>,<span class="ruby-identifier">:employee_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>],
651:               <span class="ruby-identifier">:payroll_category_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">k</span>,<span class="ruby-identifier">:amount</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">v</span>[<span class="ruby-value str">'amount'</span>])
652:           <span class="ruby-keyword kw">else</span>
653:             <span class="ruby-constant">MonthlyPayslip</span>.<span class="ruby-identifier">create</span>(<span class="ruby-identifier">:salary_date=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">start_date</span>,<span class="ruby-identifier">:employee_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>],
654:               <span class="ruby-identifier">:payroll_category_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">k</span>,<span class="ruby-identifier">:amount</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">v</span>[<span class="ruby-value str">'amount'</span>])
655:           <span class="ruby-keyword kw">end</span>
656:         <span class="ruby-keyword kw">end</span>
657:         <span class="ruby-identifier">individual_payslip_category</span> = <span class="ruby-constant">IndividualPayslipCategory</span>.<span class="ruby-identifier">find_all_by_employee_id_and_salary_date</span>(<span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">id</span>,<span class="ruby-keyword kw">nil</span>)
658:         <span class="ruby-identifier">individual_payslip_category</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span>
659:           <span class="ruby-constant">IndividualPayslipCategory</span>.<span class="ruby-identifier">update</span>(<span class="ruby-identifier">c</span>.<span class="ruby-identifier">id</span>, <span class="ruby-identifier">:salary_date=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">start_date</span>)
660:         <span class="ruby-keyword kw">end</span>
661:         <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>] = <span class="ruby-node">&quot;#{@employee.first_name} salary slip generated for #{params[:salary_date]}&quot;</span>
662:         <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;employee&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;profile&quot;</span>, <span class="ruby-identifier">:id=</span><span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">id</span>
663:       <span class="ruby-keyword kw">else</span> <span class="ruby-comment cmt">#else for if payslip_exists == []</span>
664:         <span class="ruby-identifier">individual_payslips_generated</span> = <span class="ruby-constant">IndividualPayslipCategory</span>.<span class="ruby-identifier">find_all_by_employee_id_and_salary_date</span>(<span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">id</span>,<span class="ruby-keyword kw">nil</span>)
665:         <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">individual_payslips_generated</span>.<span class="ruby-identifier">nil?</span>
666:           <span class="ruby-identifier">individual_payslips_generated</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span><span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
667:             <span class="ruby-identifier">i</span>.<span class="ruby-identifier">delete</span>
668:           <span class="ruby-keyword kw">end</span>
669:         <span class="ruby-keyword kw">end</span>
670:         <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>] = <span class="ruby-node">&quot;&lt;b&gt;ERROR:&lt;/b&gt;#{@employee.first_name} salary slip  already generated for #{params[:salary_date]}&quot;</span>
671:         <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;employee&quot;</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;profile&quot;</span>, <span class="ruby-identifier">:id=</span><span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">id</span>
672:       <span class="ruby-keyword kw">end</span>
673:     <span class="ruby-keyword kw">end</span>
674:     
675:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000051" class="method-detail">
        <a name="M000051"></a>

        <div class="method-heading">
          <a href="#M000051" class="method-signature">
          <span class="method-name">create_payslip_category</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000051-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000051-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 593</span>
593:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">create_payslip_category</span>
594:     <span class="ruby-ivar">@employee</span>=<span class="ruby-constant">Employee</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:employee_id</span>])
595:     <span class="ruby-constant">IndividualPayslipCategory</span>.<span class="ruby-identifier">create</span>(<span class="ruby-identifier">:employee_id=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">params</span>[<span class="ruby-identifier">:employee_id</span>],<span class="ruby-identifier">:name=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">params</span>[<span class="ruby-identifier">:name</span>],<span class="ruby-identifier">:amount=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">params</span>[<span class="ruby-identifier">:amount</span>])
596:     <span class="ruby-ivar">@created_category</span> = <span class="ruby-constant">IndividualPayslipCategory</span>.<span class="ruby-identifier">find_by_employee_id_and_name_and_amount</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:employee_id</span>],<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:name</span>],<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:amount</span>])
597:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:is_deduction</span>] <span class="ruby-operator">==</span> <span class="ruby-keyword kw">nil</span>
598:       <span class="ruby-constant">IndividualPayslipCategory</span>.<span class="ruby-identifier">update</span>(<span class="ruby-ivar">@created_category</span>.<span class="ruby-identifier">id</span>, <span class="ruby-identifier">:is_deduction=</span><span class="ruby-operator">&gt;</span><span class="ruby-keyword kw">false</span>)
599:     <span class="ruby-keyword kw">else</span>
600:       <span class="ruby-constant">IndividualPayslipCategory</span>.<span class="ruby-identifier">update</span>(<span class="ruby-ivar">@created_category</span>.<span class="ruby-identifier">id</span>, <span class="ruby-identifier">:is_deduction=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">params</span>[<span class="ruby-identifier">:is_deduction</span>])
601:     <span class="ruby-keyword kw">end</span>
602: 
603:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:include_every_month</span>] <span class="ruby-operator">==</span> <span class="ruby-keyword kw">nil</span>
604:       <span class="ruby-constant">IndividualPayslipCategory</span>.<span class="ruby-identifier">update</span>(<span class="ruby-ivar">@created_category</span>.<span class="ruby-identifier">id</span>, <span class="ruby-identifier">:include_every_month=</span><span class="ruby-operator">&gt;</span><span class="ruby-keyword kw">false</span>)
605:     <span class="ruby-keyword kw">else</span>
606:       <span class="ruby-constant">IndividualPayslipCategory</span>.<span class="ruby-identifier">update</span>(<span class="ruby-ivar">@created_category</span>.<span class="ruby-identifier">id</span>, <span class="ruby-identifier">:include_every_month=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">params</span>[<span class="ruby-identifier">:include_every_month</span>])
607:     <span class="ruby-keyword kw">end</span>
608:     
609:     <span class="ruby-ivar">@new_payslip_category</span> = <span class="ruby-constant">IndividualPayslipCategory</span>.<span class="ruby-identifier">find_all_by_employee_id_and_salary_date</span>(<span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">id</span>,<span class="ruby-keyword kw">nil</span>)
610:     <span class="ruby-identifier">render</span> <span class="ruby-identifier">:partial</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;payslip_category_list&quot;</span>,<span class="ruby-identifier">:locals</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-identifier">:emp_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">id</span>}
611:     
612:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000093" class="method-detail">
        <a name="M000093"></a>

        <div class="method-heading">
          <a href="#M000093" class="method-signature">
          <span class="method-name">delete</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000093-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000093-source">
<pre>
      <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 1356</span>
1356:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">delete</span>
1357:     <span class="ruby-identifier">employee</span> = <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
1358:     <span class="ruby-identifier">user</span> = <span class="ruby-constant">User</span>.<span class="ruby-identifier">destroy_all</span>(<span class="ruby-identifier">:username</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">employee</span>.<span class="ruby-identifier">employee_number</span>) <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">user</span>.<span class="ruby-identifier">nil?</span>
1359:     <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">destroy</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
1360:     <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>] = <span class="ruby-node">&quot;All records have been deleted for employee with employee no. #{employee.employee_number}.&quot;</span>
1361:     <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'user'</span>, <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'dashboard'</span>
1362:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000018" class="method-detail">
        <a name="M000018"></a>

        <div class="method-heading">
          <a href="#M000018" class="method-signature">
          <span class="method-name">delete_additional_details</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000018-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000018-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 177</span>
177:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">delete_additional_details</span>
178:     <span class="ruby-identifier">employees</span> = <span class="ruby-constant">EmployeeAdditionalDetail</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span> ,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-node">&quot;additional_field_id = #{params[:id]}&quot;</span>)
179:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">empty?</span>
180:       <span class="ruby-constant">AdditionalField</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>]).<span class="ruby-identifier">destroy</span>
181:       <span class="ruby-ivar">@additional_details</span> = <span class="ruby-constant">AdditionalField</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>)
182:       <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>]=<span class="ruby-value str">&quot;Successfully deleted!&quot;</span>
183:       <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;add_additional_details&quot;</span>
184:     <span class="ruby-keyword kw">else</span>
185:       <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>]=<span class="ruby-value str">&quot;Unable to delete!&quot;</span>
186:       <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;add_additional_details&quot;</span>
187:     <span class="ruby-keyword kw">end</span>
188:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000015" class="method-detail">
        <a name="M000015"></a>

        <div class="method-heading">
          <a href="#M000015" class="method-signature">
          <span class="method-name">delete_bank_details</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000015-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000015-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 148</span>
148:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">delete_bank_details</span>
149:     <span class="ruby-identifier">employees</span> = <span class="ruby-constant">EmployeeBankDetail</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span> ,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-node">&quot;bank_field_id = #{params[:id]}&quot;</span>)
150:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">empty?</span>
151:       <span class="ruby-constant">BankField</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>]).<span class="ruby-identifier">destroy</span>
152:       <span class="ruby-ivar">@bank_details</span> = <span class="ruby-constant">BankField</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>)
153:       <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>]=<span class="ruby-value str">&quot;Successfully deleted!&quot;</span>
154:       <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;add_bank_details&quot;</span>
155:     <span class="ruby-keyword kw">else</span>
156:       <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>]=<span class="ruby-value str">&quot;Unable to delete!&quot;</span>
157:       <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;add_bank_details&quot;</span>
158:     <span class="ruby-keyword kw">end</span>
159:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000003" class="method-detail">
        <a name="M000003"></a>

        <div class="method-heading">
          <a href="#M000003" class="method-signature">
          <span class="method-name">delete_category</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000003-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000003-source">
<pre>
    <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 24</span>
24:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">delete_category</span>
25:     <span class="ruby-identifier">employees</span> = <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span> ,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-node">&quot;employee_category_id = #{params[:id]}&quot;</span>)
26:     <span class="ruby-identifier">category_position</span> = <span class="ruby-constant">EmployeePosition</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>, <span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-node">&quot;employee_category_id = #{params[:id]}&quot;</span>)
27:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">category_position</span>.<span class="ruby-identifier">empty?</span>
28:       <span class="ruby-constant">EmployeeCategory</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>]).<span class="ruby-identifier">destroy</span>
29:       <span class="ruby-ivar">@categories</span> = <span class="ruby-constant">EmployeeCategory</span>.<span class="ruby-identifier">find</span> <span class="ruby-identifier">:all</span>
30:       <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>]=<span class="ruby-value str">&quot;Successfully deleted!&quot;</span>
31:       <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;add_category&quot;</span>
32:     <span class="ruby-keyword kw">else</span>
33:       <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>]=<span class="ruby-value str">&quot;Unable to delete!&quot;</span>
34:       <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;add_category&quot;</span>
35:     <span class="ruby-keyword kw">end</span>
36:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000009" class="method-detail">
        <a name="M000009"></a>

        <div class="method-heading">
          <a href="#M000009" class="method-signature">
          <span class="method-name">delete_department</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000009-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000009-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 89</span>
 89:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">delete_department</span>
 90:     <span class="ruby-identifier">employees</span> = <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span> ,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-node">&quot;employee_department_id = #{params[:id]}&quot;</span>)
 91:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">empty?</span>
 92:       <span class="ruby-constant">EmployeeDepartment</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>]).<span class="ruby-identifier">destroy</span>
 93:       <span class="ruby-ivar">@departments</span> = <span class="ruby-constant">EmployeeDepartment</span>.<span class="ruby-identifier">find</span> <span class="ruby-identifier">:all</span>
 94:       <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>]=<span class="ruby-value str">&quot;Successfully deleted!&quot;</span>
 95:       <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;add_department&quot;</span>
 96:     <span class="ruby-keyword kw">else</span>
 97:       <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>]=<span class="ruby-value str">&quot;Unable to delete!&quot;</span>
 98:       <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;add_department&quot;</span>
 99:     <span class="ruby-keyword kw">end</span>
100:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000012" class="method-detail">
        <a name="M000012"></a>

        <div class="method-heading">
          <a href="#M000012" class="method-signature">
          <span class="method-name">delete_grade</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000012-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000012-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 119</span>
119:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">delete_grade</span>
120:     <span class="ruby-identifier">employees</span> = <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span> ,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-node">&quot;employee_grade_id = #{params[:id]}&quot;</span>)
121:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">empty?</span>
122:       <span class="ruby-constant">EmployeeGrade</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>]).<span class="ruby-identifier">destroy</span>
123:       <span class="ruby-ivar">@grades</span> = <span class="ruby-constant">EmployeeGrade</span>.<span class="ruby-identifier">find</span> <span class="ruby-identifier">:all</span>
124:       <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>]=<span class="ruby-value str">&quot;Successfully deleted!&quot;</span>
125:       <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;add_grade&quot;</span>
126:     <span class="ruby-keyword kw">else</span>
127:       <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>]=<span class="ruby-value str">&quot;Unable to delete!&quot;</span>
128:       <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;add_grade&quot;</span>
129:     <span class="ruby-keyword kw">end</span>
130:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000056" class="method-detail">
        <a name="M000056"></a>

        <div class="method-heading">
          <a href="#M000056" class="method-signature">
          <span class="method-name">delete_payslip</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000056-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000056-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 738</span>
738:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">delete_payslip</span>
739:     <span class="ruby-ivar">@individual_payslip_category</span>=<span class="ruby-constant">IndividualPayslipCategory</span>.<span class="ruby-identifier">find_all_by_employee_id_and_salary_date</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>],<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id2</span>])
740:     <span class="ruby-ivar">@individual_payslip_category</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">pc</span><span class="ruby-operator">|</span>
741:       <span class="ruby-identifier">pc</span>.<span class="ruby-identifier">destroy</span>
742:     <span class="ruby-keyword kw">end</span>
743:     <span class="ruby-ivar">@monthly_payslip</span> = <span class="ruby-constant">MonthlyPayslip</span>.<span class="ruby-identifier">find_all_by_employee_id_and_salary_date</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>], <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id2</span>])
744:     <span class="ruby-ivar">@monthly_payslip</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">m</span><span class="ruby-operator">|</span>
745:       <span class="ruby-identifier">m</span>.<span class="ruby-identifier">destroy</span>
746:     <span class="ruby-keyword kw">end</span>
747:     <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>]= <span class="ruby-node">&quot;Payslip deleted for #{params[:id2]}&quot;</span>
748:     <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">:controller=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;employee&quot;</span>, <span class="ruby-identifier">:action=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;profile&quot;</span>, <span class="ruby-identifier">:id=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>]
749:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000006" class="method-detail">
        <a name="M000006"></a>

        <div class="method-heading">
          <a href="#M000006" class="method-signature">
          <span class="method-name">delete_position</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000006-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000006-source">
<pre>
    <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 58</span>
58:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">delete_position</span>
59:     <span class="ruby-identifier">employees</span> = <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span> ,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-node">&quot;employee_position_id = #{params[:id]}&quot;</span>)
60: 
61:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">empty?</span>
62:       <span class="ruby-constant">EmployeePosition</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>]).<span class="ruby-identifier">destroy</span>
63:       <span class="ruby-ivar">@positions</span> = <span class="ruby-constant">EmployeePosition</span>.<span class="ruby-identifier">find</span> <span class="ruby-identifier">:all</span>
64:       <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>]=<span class="ruby-value str">&quot;Successfully deleted!&quot;</span>
65:       <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;add_position&quot;</span>
66:     <span class="ruby-keyword kw">else</span>
67:       <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>]=<span class="ruby-value str">&quot;Unable to delete!&quot;</span>
68:       <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;add_position&quot;</span>
69:     <span class="ruby-keyword kw">end</span>
70:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000077" class="method-detail">
        <a name="M000077"></a>

        <div class="method-heading">
          <a href="#M000077" class="method-signature">
          <span class="method-name">department_payslip</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000077-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000077-source">
<pre>
      <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 1004</span>
1004:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">department_payslip</span>
1005:     <span class="ruby-ivar">@departments</span> = <span class="ruby-constant">EmployeeDepartment</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>, <span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;status = true&quot;</span>, <span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;name ASC&quot;</span>)
1006:     <span class="ruby-ivar">@salary_dates</span> = <span class="ruby-constant">MonthlyPayslip</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>, <span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;is_approved = true&quot;</span>,<span class="ruby-identifier">:select</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;distinct salary_date&quot;</span>)
1007:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000079" class="method-detail">
        <a name="M000079"></a>

        <div class="method-heading">
          <a href="#M000079" class="method-signature">
          <span class="method-name">department_payslip_pdf</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
PDF methods
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000079-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000079-source">
<pre>
      <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 1073</span>
1073:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">department_payslip_pdf</span>
1074:     <span class="ruby-ivar">@department</span> = <span class="ruby-constant">EmployeeDepartment</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:department</span>])
1075:     <span class="ruby-ivar">@employees</span> = <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">find_all_by_employee_department_id</span>(<span class="ruby-ivar">@department</span>.<span class="ruby-identifier">id</span>)
1076: 
1077: 
1078:     <span class="ruby-ivar">@currency_type</span> = <span class="ruby-constant">Configuration</span>.<span class="ruby-identifier">find_by_config_key</span>(<span class="ruby-value str">&quot;CurrencyType&quot;</span>).<span class="ruby-identifier">config_value</span>
1079:     <span class="ruby-ivar">@salary_date</span> = <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:salary_date</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:salary_date</span>]
1080:     
1081:     <span class="ruby-comment cmt">#    @monthly_payslips = MonthlyPayslip.find_all_by_salary_date(@salary_date,</span>
1082:     <span class="ruby-comment cmt">#      :conditions=&gt; &quot;employee_id =#{@employee.id}&quot;,</span>
1083:     <span class="ruby-comment cmt">#      :order=&gt; &quot;payroll_category_id ASC&quot;)</span>
1084:     <span class="ruby-comment cmt">#</span>
1085:     <span class="ruby-comment cmt">#    @individual_payslip_category = IndividualPayslipCategory.find_all_by_salary_date(@salary_date,</span>
1086:     <span class="ruby-comment cmt">#      :conditions=&gt;&quot;employee_id =#{@employee.id}&quot;,</span>
1087:     <span class="ruby-comment cmt">#      :order=&gt;&quot;id ASC&quot;)</span>
1088:     <span class="ruby-comment cmt">#    @individual_category_non_deductionable = 0</span>
1089:     <span class="ruby-comment cmt">#    @individual_category_deductionable = 0</span>
1090:     <span class="ruby-comment cmt">#    @individual_payslip_category.each do |pc|</span>
1091:     <span class="ruby-comment cmt">#      unless pc.is_deduction == true</span>
1092:     <span class="ruby-comment cmt">#        @individual_category_non_deductionable = @individual_category_non_deductionable + pc.amount.to_i</span>
1093:     <span class="ruby-comment cmt">#      end</span>
1094:     <span class="ruby-comment cmt">#    end</span>
1095:     <span class="ruby-comment cmt">#</span>
1096:     <span class="ruby-comment cmt">#    @individual_payslip_category.each do |pc|</span>
1097:     <span class="ruby-comment cmt">#      unless pc.is_deduction == false</span>
1098:     <span class="ruby-comment cmt">#        @individual_category_deductionable = @individual_category_deductionable + pc.amount.to_i</span>
1099:     <span class="ruby-comment cmt">#      end</span>
1100:     <span class="ruby-comment cmt">#    end</span>
1101:     <span class="ruby-comment cmt">#</span>
1102:     <span class="ruby-comment cmt">#    @non_deductionable_amount = 0</span>
1103:     <span class="ruby-comment cmt">#    @deductionable_amount = 0</span>
1104:     <span class="ruby-comment cmt">#    @monthly_payslips.each do |mp|</span>
1105:     <span class="ruby-comment cmt">#      category1 = PayrollCategory.find(mp.payroll_category_id)</span>
1106:     <span class="ruby-comment cmt">#      unless category1.is_deduction == true</span>
1107:     <span class="ruby-comment cmt">#        @non_deductionable_amount = @non_deductionable_amount + mp.amount.to_i</span>
1108:     <span class="ruby-comment cmt">#      end</span>
1109:     <span class="ruby-comment cmt">#    end</span>
1110:     <span class="ruby-comment cmt">#</span>
1111:     <span class="ruby-comment cmt">#    @monthly_payslips.each do |mp|</span>
1112:     <span class="ruby-comment cmt">#      category2 = PayrollCategory.find(mp.payroll_category_id)</span>
1113:     <span class="ruby-comment cmt">#      unless category2.is_deduction == false</span>
1114:     <span class="ruby-comment cmt">#        @deductionable_amount = @deductionable_amount + mp.amount.to_i</span>
1115:     <span class="ruby-comment cmt">#      end</span>
1116:     <span class="ruby-comment cmt">#    end</span>
1117:     <span class="ruby-comment cmt">#</span>
1118:     <span class="ruby-comment cmt">#    @net_non_deductionable_amount = @individual_category_non_deductionable + @non_deductionable_amount</span>
1119:     <span class="ruby-comment cmt">#    @net_deductionable_amount = @individual_category_deductionable + @deductionable_amount</span>
1120:     <span class="ruby-comment cmt">#</span>
1121:     <span class="ruby-comment cmt">#    @net_amount = @net_non_deductionable_amount - @net_deductionable_amount</span>
1122:     <span class="ruby-identifier">respond_to</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">format</span><span class="ruby-operator">|</span>
1123:       <span class="ruby-identifier">format</span>.<span class="ruby-identifier">pdf</span> { <span class="ruby-identifier">render</span> <span class="ruby-identifier">:layout</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span> }
1124:     <span class="ruby-keyword kw">end</span>
1125:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000088" class="method-detail">
        <a name="M000088"></a>

        <div class="method-heading">
          <a href="#M000088" class="method-signature">
          <span class="method-name">dob_equal_to_update</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000088-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000088-source">
<pre>
      <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 1316</span>
1316:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">dob_equal_to_update</span>
1317:     <span class="ruby-identifier">year</span> = <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:year</span>]
1318:     <span class="ruby-ivar">@start_date</span> = <span class="ruby-node">&quot;#{year}-01-01&quot;</span>.<span class="ruby-identifier">to_date</span>
1319:     <span class="ruby-ivar">@end_date</span> = <span class="ruby-node">&quot;#{year}-12-31&quot;</span>.<span class="ruby-identifier">to_date</span>
1320:     <span class="ruby-identifier">render</span> <span class="ruby-identifier">:update</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">page</span><span class="ruby-operator">|</span>
1321:       <span class="ruby-identifier">page</span>.<span class="ruby-identifier">replace_html</span> <span class="ruby-value str">'dob_year_hidden'</span>, <span class="ruby-identifier">:partial=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;equal_to_dob_select&quot;</span>
1322:     <span class="ruby-keyword kw">end</span>
1323:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000090" class="method-detail">
        <a name="M000090"></a>

        <div class="method-heading">
          <a href="#M000090" class="method-signature">
          <span class="method-name">dob_greater_than_update</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000090-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000090-source">
<pre>
      <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 1334</span>
1334:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">dob_greater_than_update</span>
1335:     <span class="ruby-identifier">year</span> = <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:year</span>]
1336:     <span class="ruby-ivar">@start_date</span> = <span class="ruby-value str">&quot;2100-01-01&quot;</span>.<span class="ruby-identifier">to_date</span>
1337:     <span class="ruby-ivar">@end_date</span> = <span class="ruby-node">&quot;#{year}-12-31&quot;</span>.<span class="ruby-identifier">to_date</span>
1338:     <span class="ruby-identifier">render</span> <span class="ruby-identifier">:update</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">page</span><span class="ruby-operator">|</span>
1339:       <span class="ruby-identifier">page</span>.<span class="ruby-identifier">replace_html</span> <span class="ruby-value str">'dob_year_hidden'</span>, <span class="ruby-identifier">:partial=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;greater_than_dob_select&quot;</span>
1340:     <span class="ruby-keyword kw">end</span>
1341:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000089" class="method-detail">
        <a name="M000089"></a>

        <div class="method-heading">
          <a href="#M000089" class="method-signature">
          <span class="method-name">dob_less_than_update</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000089-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000089-source">
<pre>
      <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 1325</span>
1325:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">dob_less_than_update</span>
1326:     <span class="ruby-identifier">year</span> = <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:year</span>]
1327:     <span class="ruby-ivar">@start_date</span> = <span class="ruby-value str">&quot;1900-01-01&quot;</span>.<span class="ruby-identifier">to_date</span>
1328:     <span class="ruby-ivar">@end_date</span> = <span class="ruby-node">&quot;#{year}-01-01&quot;</span>.<span class="ruby-identifier">to_date</span>
1329:     <span class="ruby-identifier">render</span> <span class="ruby-identifier">:update</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">page</span><span class="ruby-operator">|</span>
1330:       <span class="ruby-identifier">page</span>.<span class="ruby-identifier">replace_html</span> <span class="ruby-value str">'dob_year_hidden'</span>, <span class="ruby-identifier">:partial=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;less_than_dob_select&quot;</span>
1331:     <span class="ruby-keyword kw">end</span>
1332:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000084" class="method-detail">
        <a name="M000084"></a>

        <div class="method-heading">
          <a href="#M000084" class="method-signature">
          <span class="method-name">doj_equal_to_update</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000084-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000084-source">
<pre>
      <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 1272</span>
1272:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">doj_equal_to_update</span>
1273:     <span class="ruby-identifier">year</span> = <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:year</span>]
1274:     <span class="ruby-ivar">@start_date</span> = <span class="ruby-node">&quot;#{year}-01-01&quot;</span>.<span class="ruby-identifier">to_date</span>
1275:     <span class="ruby-ivar">@end_date</span> = <span class="ruby-node">&quot;#{year}-12-31&quot;</span>.<span class="ruby-identifier">to_date</span>
1276:     <span class="ruby-identifier">render</span> <span class="ruby-identifier">:update</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">page</span><span class="ruby-operator">|</span>
1277:       <span class="ruby-identifier">page</span>.<span class="ruby-identifier">replace_html</span> <span class="ruby-value str">'doj_year_hidden'</span>, <span class="ruby-identifier">:partial=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;equal_to_doj_select&quot;</span>
1278:     <span class="ruby-keyword kw">end</span>
1279:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000086" class="method-detail">
        <a name="M000086"></a>

        <div class="method-heading">
          <a href="#M000086" class="method-signature">
          <span class="method-name">doj_greater_than_update</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000086-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000086-source">
<pre>
      <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 1290</span>
1290:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">doj_greater_than_update</span>
1291:     <span class="ruby-identifier">year</span> = <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:year</span>]
1292:     <span class="ruby-ivar">@start_date</span> = <span class="ruby-value str">&quot;2100-01-01&quot;</span>.<span class="ruby-identifier">to_date</span>
1293:     <span class="ruby-ivar">@end_date</span> = <span class="ruby-node">&quot;#{year}-12-31&quot;</span>.<span class="ruby-identifier">to_date</span>
1294:     <span class="ruby-identifier">render</span> <span class="ruby-identifier">:update</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">page</span><span class="ruby-operator">|</span>
1295:       <span class="ruby-identifier">page</span>.<span class="ruby-identifier">replace_html</span> <span class="ruby-value str">'doj_year_hidden'</span>, <span class="ruby-identifier">:partial=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;greater_than_doj_select&quot;</span>
1296:     <span class="ruby-keyword kw">end</span>
1297:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000085" class="method-detail">
        <a name="M000085"></a>

        <div class="method-heading">
          <a href="#M000085" class="method-signature">
          <span class="method-name">doj_less_than_update</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000085-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000085-source">
<pre>
      <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 1281</span>
1281:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">doj_less_than_update</span>
1282:     <span class="ruby-identifier">year</span> = <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:year</span>]
1283:     <span class="ruby-ivar">@start_date</span> = <span class="ruby-value str">&quot;1900-01-01&quot;</span>.<span class="ruby-identifier">to_date</span>
1284:     <span class="ruby-ivar">@end_date</span> = <span class="ruby-node">&quot;#{year}-01-01&quot;</span>.<span class="ruby-identifier">to_date</span>
1285:     <span class="ruby-identifier">render</span> <span class="ruby-identifier">:update</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">page</span><span class="ruby-operator">|</span>
1286:       <span class="ruby-identifier">page</span>.<span class="ruby-identifier">replace_html</span> <span class="ruby-value str">'doj_year_hidden'</span>, <span class="ruby-identifier">:partial=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;less_than_doj_select&quot;</span>
1287:     <span class="ruby-keyword kw">end</span>
1288:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000021" class="method-detail">
        <a name="M000021"></a>

        <div class="method-heading">
          <a href="#M000021" class="method-signature">
          <span class="method-name">edit1</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000021-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000021-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 245</span>
245:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">edit1</span>
246:     <span class="ruby-ivar">@categories</span> = <span class="ruby-constant">EmployeeCategory</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;name asc&quot;</span>)
247:     <span class="ruby-ivar">@positions</span> = <span class="ruby-constant">EmployeePosition</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>)
248:     <span class="ruby-ivar">@grades</span> = <span class="ruby-constant">EmployeeGrade</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;name asc&quot;</span>)
249:     <span class="ruby-ivar">@departments</span> = <span class="ruby-constant">EmployeeDepartment</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,<span class="ruby-identifier">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;name asc&quot;</span>)
250:     <span class="ruby-ivar">@employee</span> = <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
251:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">request</span>.<span class="ruby-identifier">post?</span> <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">update_attributes</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:employee</span>])
252:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:employee</span>][<span class="ruby-identifier">:gender</span>] <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;true&quot;</span>
253:         <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">update</span>(<span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">id</span>, <span class="ruby-identifier">:gender</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>)
254:       <span class="ruby-keyword kw">else</span>
255:         <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">update</span>(<span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">id</span>, <span class="ruby-identifier">:gender</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>)
256:       <span class="ruby-keyword kw">end</span>
257: 
258:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:employee</span>][<span class="ruby-identifier">:status</span>] <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;true&quot;</span>
259:         <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">update</span>(<span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">id</span>, <span class="ruby-identifier">:status</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>)
260:       <span class="ruby-keyword kw">else</span>
261:         <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">update</span>(<span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">id</span>, <span class="ruby-identifier">:status</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>)
262:       <span class="ruby-keyword kw">end</span>
263: 
264:       <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>] = <span class="ruby-node">&quot;Employee #{@employee.first_name} general information updated&quot;</span>
265:       <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;employee&quot;</span> ,<span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;profile&quot;</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">id</span>
266:     <span class="ruby-keyword kw">end</span>
267:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000024" class="method-detail">
        <a name="M000024"></a>

        <div class="method-heading">
          <a href="#M000024" class="method-signature">
          <span class="method-name">edit2</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000024-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000024-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 294</span>
294:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">edit2</span>
295:     <span class="ruby-ivar">@employee</span> = <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
296:     <span class="ruby-ivar">@countries</span> = <span class="ruby-constant">Country</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>)
297:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">request</span>.<span class="ruby-identifier">post?</span> <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">update_attributes</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:employee</span>])
298:       <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>] = <span class="ruby-node">&quot;Employee address  details saved for #{ @employee.first_name}&quot;</span>
299:       <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;profile&quot;</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">id</span>
300:     <span class="ruby-keyword kw">end</span>
301:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000027" class="method-detail">
        <a name="M000027"></a>

        <div class="method-heading">
          <a href="#M000027" class="method-signature">
          <span class="method-name">edit3</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000027-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000027-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 328</span>
328:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">edit3</span>
329:     <span class="ruby-ivar">@employee</span> = <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
330:     <span class="ruby-ivar">@bank_fields</span> = <span class="ruby-constant">BankField</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>, <span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;status = true&quot;</span>)
331:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">request</span>.<span class="ruby-identifier">post?</span>
332:       <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:employee_bank_details</span>].<span class="ruby-identifier">each_pair</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">k</span>, <span class="ruby-identifier">v</span><span class="ruby-operator">|</span>
333:         <span class="ruby-identifier">row_id</span>= <span class="ruby-constant">EmployeeBankDetail</span>.<span class="ruby-identifier">find_by_employee_id_and_bank_field_id</span>(<span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">id</span>,<span class="ruby-identifier">k</span>)
334:         <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">row_id</span>.<span class="ruby-identifier">nil?</span>
335:           <span class="ruby-identifier">bank_detail</span> = <span class="ruby-constant">EmployeeBankDetail</span>.<span class="ruby-identifier">find_by_employee_id_and_bank_field_id</span>(<span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">id</span>,<span class="ruby-identifier">k</span>)
336:           <span class="ruby-constant">EmployeeBankDetail</span>.<span class="ruby-identifier">update</span>(<span class="ruby-identifier">bank_detail</span>.<span class="ruby-identifier">id</span>,<span class="ruby-identifier">:bank_info</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">v</span>[<span class="ruby-value str">'bank_info'</span>])
337:         <span class="ruby-keyword kw">else</span>
338:           <span class="ruby-constant">EmployeeBankDetail</span>.<span class="ruby-identifier">create</span>(<span class="ruby-identifier">:employee_id=</span><span class="ruby-operator">&gt;</span><span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">id</span>,<span class="ruby-identifier">:bank_field_id=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">k</span>,<span class="ruby-identifier">:bank_info=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">v</span>[<span class="ruby-value str">'bank_info'</span>])
339:         <span class="ruby-keyword kw">end</span>
340:       <span class="ruby-keyword kw">end</span>
341:       <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>] = <span class="ruby-node">&quot;Employee #{@employee.first_name} bank details updated&quot;</span>
342:       <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;profile&quot;</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">id</span>
343:     <span class="ruby-keyword kw">end</span>
344:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000030" class="method-detail">
        <a name="M000030"></a>

        <div class="method-heading">
          <a href="#M000030" class="method-signature">
          <span class="method-name">edit3_1</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000030-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000030-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 374</span>
374:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">edit3_1</span>
375:     <span class="ruby-ivar">@employee</span> = <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
376:     <span class="ruby-ivar">@additional_fields</span> = <span class="ruby-constant">AdditionalField</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>, <span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;status = true&quot;</span>)
377:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">request</span>.<span class="ruby-identifier">post?</span>
378:       <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:employee_additional_details</span>].<span class="ruby-identifier">each_pair</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">k</span>, <span class="ruby-identifier">v</span><span class="ruby-operator">|</span>
379:         <span class="ruby-identifier">row_id</span>= <span class="ruby-constant">EmployeeAdditionalDetail</span>.<span class="ruby-identifier">find_by_employee_id_and_additional_field_id</span>(<span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">id</span>,<span class="ruby-identifier">k</span>)
380:         <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">row_id</span>.<span class="ruby-identifier">nil?</span>
381:           <span class="ruby-identifier">additional_detail</span> = <span class="ruby-constant">EmployeeAdditionalDetail</span>.<span class="ruby-identifier">find_by_employee_id_and_additional_field_id</span>(<span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">id</span>,<span class="ruby-identifier">k</span>)
382:           <span class="ruby-constant">EmployeeAdditionalDetail</span>.<span class="ruby-identifier">update</span>(<span class="ruby-identifier">additional_detail</span>.<span class="ruby-identifier">id</span>,<span class="ruby-identifier">:additional_info</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">v</span>[<span class="ruby-value str">'additional_info'</span>])
383:         <span class="ruby-keyword kw">else</span>
384:           <span class="ruby-constant">EmployeeAdditionalDetail</span>.<span class="ruby-identifier">create</span>(<span class="ruby-identifier">:employee_id=</span><span class="ruby-operator">&gt;</span><span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">id</span>,<span class="ruby-identifier">:additional_field_id=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">k</span>,<span class="ruby-identifier">:additional_info=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">v</span>[<span class="ruby-value str">'additional_info'</span>])
385:         <span class="ruby-keyword kw">end</span>
386:       <span class="ruby-keyword kw">end</span>
387:       <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>] = <span class="ruby-node">&quot;Employee #{@employee.first_name} additional details updated&quot;</span>
388:       <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;profile&quot;</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">id</span>
389:     <span class="ruby-keyword kw">end</span>
390:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000017" class="method-detail">
        <a name="M000017"></a>

        <div class="method-heading">
          <a href="#M000017" class="method-signature">
          <span class="method-name">edit_additional_details</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000017-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000017-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 170</span>
170:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">edit_additional_details</span>
171:     <span class="ruby-ivar">@additional_details</span> = <span class="ruby-constant">AdditionalField</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
172:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">request</span>.<span class="ruby-identifier">post?</span> <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@additional_details</span>.<span class="ruby-identifier">update_attributes</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:additional_details</span>])
173:       <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>] = <span class="ruby-value str">&quot;Additional details updated&quot;</span>
174:       <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;add_additional_details&quot;</span>
175:     <span class="ruby-keyword kw">end</span>
176:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000014" class="method-detail">
        <a name="M000014"></a>

        <div class="method-heading">
          <a href="#M000014" class="method-signature">
          <span class="method-name">edit_bank_details</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000014-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000014-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 141</span>
141:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">edit_bank_details</span>
142:     <span class="ruby-ivar">@bank_details</span> = <span class="ruby-constant">BankField</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
143:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">request</span>.<span class="ruby-identifier">post?</span> <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@bank_details</span>.<span class="ruby-identifier">update_attributes</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:bank_details</span>])
144:       <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>] = <span class="ruby-value str">&quot;Bank details updated&quot;</span>
145:       <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;add_bank_details&quot;</span>
146:     <span class="ruby-keyword kw">end</span>
147:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000002" class="method-detail">
        <a name="M000002"></a>

        <div class="method-heading">
          <a href="#M000002" class="method-signature">
          <span class="method-name">edit_category</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000002-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000002-source">
<pre>
    <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 16</span>
16:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">edit_category</span>
17:     <span class="ruby-ivar">@category</span> = <span class="ruby-constant">EmployeeCategory</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
18:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">request</span>.<span class="ruby-identifier">post?</span> <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@category</span>.<span class="ruby-identifier">update_attributes</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:category</span>])
19:       <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>] = <span class="ruby-value str">&quot;Employee category updated&quot;</span>
20:       <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;add_category&quot;</span>
21:     <span class="ruby-keyword kw">end</span>
22:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000025" class="method-detail">
        <a name="M000025"></a>

        <div class="method-heading">
          <a href="#M000025" class="method-signature">
          <span class="method-name">edit_contact</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000025-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000025-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 303</span>
303:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">edit_contact</span>
304:     <span class="ruby-ivar">@employee</span> = <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
305:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">request</span>.<span class="ruby-identifier">post?</span> <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">update_attributes</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:employee</span>])
306:       <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>] = <span class="ruby-node">&quot;Employee contact details saved for #{ @employee.first_name}&quot;</span>
307:       <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;profile&quot;</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">id</span>
308:     <span class="ruby-keyword kw">end</span>
309:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000008" class="method-detail">
        <a name="M000008"></a>

        <div class="method-heading">
          <a href="#M000008" class="method-signature">
          <span class="method-name">edit_department</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000008-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000008-source">
<pre>
    <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 81</span>
81:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">edit_department</span>
82:     <span class="ruby-ivar">@department</span> = <span class="ruby-constant">EmployeeDepartment</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
83:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">request</span>.<span class="ruby-identifier">post?</span> <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@department</span>.<span class="ruby-identifier">update_attributes</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:department</span>])
84:       <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>] = <span class="ruby-value str">&quot;Employee department updated&quot;</span>
85:       <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;add_department&quot;</span>
86:     <span class="ruby-keyword kw">end</span>
87:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000011" class="method-detail">
        <a name="M000011"></a>

        <div class="method-heading">
          <a href="#M000011" class="method-signature">
          <span class="method-name">edit_grade</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000011-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000011-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 111</span>
111:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">edit_grade</span>
112:     <span class="ruby-ivar">@grade</span> = <span class="ruby-constant">EmployeeGrade</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
113:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">request</span>.<span class="ruby-identifier">post?</span> <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@grade</span>.<span class="ruby-identifier">update_attributes</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:grade</span>])
114:       <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>] = <span class="ruby-value str">&quot;Employee grade updated&quot;</span>
115:       <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;add_grade&quot;</span>
116:     <span class="ruby-keyword kw">end</span>
117:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000022" class="method-detail">
        <a name="M000022"></a>

        <div class="method-heading">
          <a href="#M000022" class="method-signature">
          <span class="method-name">edit_personal</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000022-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000022-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 269</span>
269:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">edit_personal</span>
270:     <span class="ruby-ivar">@nationalities</span> = <span class="ruby-constant">Country</span>.<span class="ruby-identifier">all</span>
271:     <span class="ruby-ivar">@employee</span> = <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
272:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">request</span>.<span class="ruby-identifier">post?</span> <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">update_attributes</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:employee</span>])
273:       <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>] = <span class="ruby-node">&quot;Employee #{@employee.first_name} personal information updated&quot;</span>
274:       <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;employee&quot;</span> ,<span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;profile&quot;</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">id</span>
275:     <span class="ruby-keyword kw">end</span>
276:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000005" class="method-detail">
        <a name="M000005"></a>

        <div class="method-heading">
          <a href="#M000005" class="method-signature">
          <span class="method-name">edit_position</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000005-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000005-source">
<pre>
    <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 48</span>
48:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">edit_position</span>
49:     <span class="ruby-ivar">@categories</span> = <span class="ruby-constant">EmployeeCategory</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>)
50:     <span class="ruby-ivar">@position</span> = <span class="ruby-constant">EmployeePosition</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
51:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">request</span>.<span class="ruby-identifier">post?</span> <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@position</span>.<span class="ruby-identifier">update_attributes</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:position</span>])
52:       <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>] = <span class="ruby-value str">&quot;Employee position updated&quot;</span>
53:       <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;add_position&quot;</span>
54:     <span class="ruby-keyword kw">end</span>
55: 
56:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000029" class="method-detail">
        <a name="M000029"></a>

        <div class="method-heading">
          <a href="#M000029" class="method-signature">
          <span class="method-name">edit_privilege</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000029-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000029-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 362</span>
362:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">edit_privilege</span>
363:     <span class="ruby-ivar">@privileges</span> = <span class="ruby-constant">Privilege</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>)
364:     <span class="ruby-ivar">@user</span> = <span class="ruby-constant">User</span>.<span class="ruby-identifier">find_by_username</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
365:     <span class="ruby-ivar">@employee</span> = <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">find_by_employee_number</span>(<span class="ruby-ivar">@user</span>.<span class="ruby-identifier">username</span>)
366:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">request</span>.<span class="ruby-identifier">post?</span>
367:       <span class="ruby-identifier">new_privileges</span> = <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:user</span>][<span class="ruby-identifier">:privilege_ids</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:user</span>]
368:       <span class="ruby-identifier">new_privileges</span> <span class="ruby-operator">||=</span> []
369:       <span class="ruby-ivar">@user</span>.<span class="ruby-identifier">privileges</span> = <span class="ruby-constant">Privilege</span>.<span class="ruby-identifier">find_all_by_id</span>(<span class="ruby-identifier">new_privileges</span>)
370:       <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'admission4'</span>,<span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">id</span>
371:     <span class="ruby-keyword kw">end</span>
372:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000081" class="method-detail">
        <a name="M000081"></a>

        <div class="method-heading">
          <a href="#M000081" class="method-signature">
          <span class="method-name">employee_individual_payslip_pdf</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000081-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000081-source">
<pre>
      <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 1181</span>
1181:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">employee_individual_payslip_pdf</span>
1182:     <span class="ruby-ivar">@employee</span> = <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
1183:     <span class="ruby-ivar">@department</span> = <span class="ruby-constant">EmployeeDepartment</span>.<span class="ruby-identifier">find</span>(<span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">employee_department_id</span>).<span class="ruby-identifier">name</span>
1184:     <span class="ruby-ivar">@currency_type</span> = <span class="ruby-constant">Configuration</span>.<span class="ruby-identifier">find_by_config_key</span>(<span class="ruby-value str">&quot;CurrencyType&quot;</span>).<span class="ruby-identifier">config_value</span>
1185:     <span class="ruby-ivar">@category</span> = <span class="ruby-constant">EmployeeCategory</span>.<span class="ruby-identifier">find</span>(<span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">employee_category_id</span>).<span class="ruby-identifier">name</span>
1186:     <span class="ruby-ivar">@grade</span> = <span class="ruby-constant">EmployeeGrade</span>.<span class="ruby-identifier">find</span>(<span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">employee_grade_id</span>).<span class="ruby-identifier">name</span>
1187:     <span class="ruby-ivar">@position</span> = <span class="ruby-constant">EmployeePosition</span>.<span class="ruby-identifier">find</span>(<span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">employee_position_id</span>).<span class="ruby-identifier">name</span>
1188:     <span class="ruby-ivar">@salary_date</span> = <span class="ruby-constant">Date</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id2</span>])
1189:     <span class="ruby-ivar">@monthly_payslips</span> = <span class="ruby-constant">MonthlyPayslip</span>.<span class="ruby-identifier">find_all_by_salary_date</span>(<span class="ruby-ivar">@salary_date</span>,
1190:       <span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;employee_id =#{@employee.id}&quot;</span>,
1191:       <span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;payroll_category_id ASC&quot;</span>)
1192: 
1193:     <span class="ruby-ivar">@individual_payslip_category</span> = <span class="ruby-constant">IndividualPayslipCategory</span>.<span class="ruby-identifier">find_all_by_salary_date</span>(<span class="ruby-ivar">@salary_date</span>,
1194:       <span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-node">&quot;employee_id =#{@employee.id}&quot;</span>,
1195:       <span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;id ASC&quot;</span>)
1196:     <span class="ruby-ivar">@individual_category_non_deductionable</span> = <span class="ruby-value">0</span>
1197:     <span class="ruby-ivar">@individual_category_deductionable</span> = <span class="ruby-value">0</span>
1198:     <span class="ruby-ivar">@individual_payslip_category</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">pc</span><span class="ruby-operator">|</span>
1199:       <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">pc</span>.<span class="ruby-identifier">is_deduction</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">true</span>
1200:         <span class="ruby-ivar">@individual_category_non_deductionable</span> = <span class="ruby-ivar">@individual_category_non_deductionable</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">pc</span>.<span class="ruby-identifier">amount</span>.<span class="ruby-identifier">to_i</span>
1201:       <span class="ruby-keyword kw">end</span>
1202:     <span class="ruby-keyword kw">end</span>
1203: 
1204:     <span class="ruby-ivar">@individual_payslip_category</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">pc</span><span class="ruby-operator">|</span>
1205:       <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">pc</span>.<span class="ruby-identifier">is_deduction</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">false</span>
1206:         <span class="ruby-ivar">@individual_category_deductionable</span> = <span class="ruby-ivar">@individual_category_deductionable</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">pc</span>.<span class="ruby-identifier">amount</span>.<span class="ruby-identifier">to_i</span>
1207:       <span class="ruby-keyword kw">end</span>
1208:     <span class="ruby-keyword kw">end</span>
1209: 
1210:     <span class="ruby-ivar">@non_deductionable_amount</span> = <span class="ruby-value">0</span>
1211:     <span class="ruby-ivar">@deductionable_amount</span> = <span class="ruby-value">0</span>
1212:     <span class="ruby-ivar">@monthly_payslips</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">mp</span><span class="ruby-operator">|</span>
1213:       <span class="ruby-identifier">category1</span> = <span class="ruby-constant">PayrollCategory</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">mp</span>.<span class="ruby-identifier">payroll_category_id</span>)
1214:       <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">category1</span>.<span class="ruby-identifier">is_deduction</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">true</span>
1215:         <span class="ruby-ivar">@non_deductionable_amount</span> = <span class="ruby-ivar">@non_deductionable_amount</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">mp</span>.<span class="ruby-identifier">amount</span>.<span class="ruby-identifier">to_i</span>
1216:       <span class="ruby-keyword kw">end</span>
1217:     <span class="ruby-keyword kw">end</span>
1218: 
1219:     <span class="ruby-ivar">@monthly_payslips</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">mp</span><span class="ruby-operator">|</span>
1220:       <span class="ruby-identifier">category2</span> = <span class="ruby-constant">PayrollCategory</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">mp</span>.<span class="ruby-identifier">payroll_category_id</span>)
1221:       <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">category2</span>.<span class="ruby-identifier">is_deduction</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">false</span>
1222:         <span class="ruby-ivar">@deductionable_amount</span> = <span class="ruby-ivar">@deductionable_amount</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">mp</span>.<span class="ruby-identifier">amount</span>.<span class="ruby-identifier">to_i</span>
1223:       <span class="ruby-keyword kw">end</span>
1224:     <span class="ruby-keyword kw">end</span>
1225: 
1226:     <span class="ruby-ivar">@net_non_deductionable_amount</span> = <span class="ruby-ivar">@individual_category_non_deductionable</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@non_deductionable_amount</span>
1227:     <span class="ruby-ivar">@net_deductionable_amount</span> = <span class="ruby-ivar">@individual_category_deductionable</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@deductionable_amount</span>
1228: 
1229:     <span class="ruby-ivar">@net_amount</span> = <span class="ruby-ivar">@net_non_deductionable_amount</span> <span class="ruby-operator">-</span> <span class="ruby-ivar">@net_deductionable_amount</span>
1230: 
1231:     <span class="ruby-identifier">respond_to</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">format</span><span class="ruby-operator">|</span>
1232:       <span class="ruby-identifier">format</span>.<span class="ruby-identifier">pdf</span> { <span class="ruby-identifier">render</span> <span class="ruby-identifier">:layout</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span> }
1233:     <span class="ruby-keyword kw">end</span>
1234:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000048" class="method-detail">
        <a name="M000048"></a>

        <div class="method-heading">
          <a href="#M000048" class="method-signature">
          <span class="method-name">employees_list</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000048-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000048-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 574</span>
574:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">employees_list</span>
575:     <span class="ruby-identifier">department_id</span> = <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:department_id</span>]
576:     <span class="ruby-ivar">@employees</span> = <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">find_all_by_employee_department_id</span>(<span class="ruby-identifier">department_id</span>)
577: 
578:     <span class="ruby-identifier">render</span> <span class="ruby-identifier">:update</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">page</span><span class="ruby-operator">|</span>
579:       <span class="ruby-identifier">page</span>.<span class="ruby-identifier">replace_html</span> <span class="ruby-value str">'employee_list'</span>, <span class="ruby-identifier">:partial</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'employee_view_all_list'</span>, <span class="ruby-identifier">:object</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@employees</span>
580:     <span class="ruby-keyword kw">end</span>
581:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000066" class="method-detail">
        <a name="M000066"></a>

        <div class="method-heading">
          <a href="#M000066" class="method-signature">
          <span class="method-name">hr</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
HR Management special methods&#8230;
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000066-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000066-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 835</span>
835:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">hr</span>
836:     <span class="ruby-identifier">user</span> = <span class="ruby-identifier">current_user</span>
837:     <span class="ruby-ivar">@employee</span> = <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">find_by_employee_number</span>(<span class="ruby-identifier">user</span>.<span class="ruby-identifier">username</span>)
838:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000080" class="method-detail">
        <a name="M000080"></a>

        <div class="method-heading">
          <a href="#M000080" class="method-signature">
          <span class="method-name">individual_payslip_pdf</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000080-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000080-source">
<pre>
      <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 1127</span>
1127:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">individual_payslip_pdf</span>
1128:     <span class="ruby-ivar">@employee</span> = <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
1129:     <span class="ruby-ivar">@department</span> = <span class="ruby-constant">EmployeeDepartment</span>.<span class="ruby-identifier">find</span>(<span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">employee_department_id</span>).<span class="ruby-identifier">name</span>
1130:     <span class="ruby-ivar">@currency_type</span> = <span class="ruby-constant">Configuration</span>.<span class="ruby-identifier">find_by_config_key</span>(<span class="ruby-value str">&quot;CurrencyType&quot;</span>).<span class="ruby-identifier">config_value</span>
1131:     <span class="ruby-ivar">@category</span> = <span class="ruby-constant">EmployeeCategory</span>.<span class="ruby-identifier">find</span>(<span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">employee_category_id</span>).<span class="ruby-identifier">name</span>
1132:     <span class="ruby-ivar">@grade</span> = <span class="ruby-constant">EmployeeGrade</span>.<span class="ruby-identifier">find</span>(<span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">employee_grade_id</span>).<span class="ruby-identifier">name</span>
1133:     <span class="ruby-ivar">@position</span> = <span class="ruby-constant">EmployeePosition</span>.<span class="ruby-identifier">find</span>(<span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">employee_position_id</span>).<span class="ruby-identifier">name</span>
1134:     <span class="ruby-ivar">@salary_date</span> = <span class="ruby-constant">Date</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id2</span>])
1135:     <span class="ruby-ivar">@monthly_payslips</span> = <span class="ruby-constant">MonthlyPayslip</span>.<span class="ruby-identifier">find_all_by_salary_date</span>(<span class="ruby-ivar">@salary_date</span>,
1136:       <span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;employee_id =#{@employee.id}&quot;</span>,
1137:       <span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;payroll_category_id ASC&quot;</span>)
1138: 
1139:     <span class="ruby-ivar">@individual_payslip_category</span> = <span class="ruby-constant">IndividualPayslipCategory</span>.<span class="ruby-identifier">find_all_by_salary_date</span>(<span class="ruby-ivar">@salary_date</span>,
1140:       <span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-node">&quot;employee_id =#{@employee.id}&quot;</span>,
1141:       <span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;id ASC&quot;</span>)
1142:     <span class="ruby-ivar">@individual_category_non_deductionable</span> = <span class="ruby-value">0</span>
1143:     <span class="ruby-ivar">@individual_category_deductionable</span> = <span class="ruby-value">0</span>
1144:     <span class="ruby-ivar">@individual_payslip_category</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">pc</span><span class="ruby-operator">|</span>
1145:       <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">pc</span>.<span class="ruby-identifier">is_deduction</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">true</span>
1146:         <span class="ruby-ivar">@individual_category_non_deductionable</span> = <span class="ruby-ivar">@individual_category_non_deductionable</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">pc</span>.<span class="ruby-identifier">amount</span>.<span class="ruby-identifier">to_i</span>
1147:       <span class="ruby-keyword kw">end</span>
1148:     <span class="ruby-keyword kw">end</span>
1149: 
1150:     <span class="ruby-ivar">@individual_payslip_category</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">pc</span><span class="ruby-operator">|</span>
1151:       <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">pc</span>.<span class="ruby-identifier">is_deduction</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">false</span>
1152:         <span class="ruby-ivar">@individual_category_deductionable</span> = <span class="ruby-ivar">@individual_category_deductionable</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">pc</span>.<span class="ruby-identifier">amount</span>.<span class="ruby-identifier">to_i</span>
1153:       <span class="ruby-keyword kw">end</span>
1154:     <span class="ruby-keyword kw">end</span>
1155: 
1156:     <span class="ruby-ivar">@non_deductionable_amount</span> = <span class="ruby-value">0</span>
1157:     <span class="ruby-ivar">@deductionable_amount</span> = <span class="ruby-value">0</span>
1158:     <span class="ruby-ivar">@monthly_payslips</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">mp</span><span class="ruby-operator">|</span>
1159:       <span class="ruby-identifier">category1</span> = <span class="ruby-constant">PayrollCategory</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">mp</span>.<span class="ruby-identifier">payroll_category_id</span>)
1160:       <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">category1</span>.<span class="ruby-identifier">is_deduction</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">true</span>
1161:         <span class="ruby-ivar">@non_deductionable_amount</span> = <span class="ruby-ivar">@non_deductionable_amount</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">mp</span>.<span class="ruby-identifier">amount</span>.<span class="ruby-identifier">to_i</span>
1162:       <span class="ruby-keyword kw">end</span>
1163:     <span class="ruby-keyword kw">end</span>
1164: 
1165:     <span class="ruby-ivar">@monthly_payslips</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">mp</span><span class="ruby-operator">|</span>
1166:       <span class="ruby-identifier">category2</span> = <span class="ruby-constant">PayrollCategory</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">mp</span>.<span class="ruby-identifier">payroll_category_id</span>)
1167:       <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">category2</span>.<span class="ruby-identifier">is_deduction</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">false</span>
1168:         <span class="ruby-ivar">@deductionable_amount</span> = <span class="ruby-ivar">@deductionable_amount</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">mp</span>.<span class="ruby-identifier">amount</span>.<span class="ruby-identifier">to_i</span>
1169:       <span class="ruby-keyword kw">end</span>
1170:     <span class="ruby-keyword kw">end</span>
1171: 
1172:     <span class="ruby-ivar">@net_non_deductionable_amount</span> = <span class="ruby-ivar">@individual_category_non_deductionable</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@non_deductionable_amount</span>
1173:     <span class="ruby-ivar">@net_deductionable_amount</span> = <span class="ruby-ivar">@individual_category_deductionable</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@deductionable_amount</span>
1174: 
1175:     <span class="ruby-ivar">@net_amount</span> = <span class="ruby-ivar">@net_non_deductionable_amount</span> <span class="ruby-operator">-</span> <span class="ruby-ivar">@net_deductionable_amount</span>
1176: 
1177:     <span class="ruby-identifier">respond_to</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">format</span><span class="ruby-operator">|</span>
1178:       <span class="ruby-identifier">format</span>.<span class="ruby-identifier">pdf</span> { <span class="ruby-identifier">render</span> <span class="ruby-identifier">:layout</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span> }
1179:     <span class="ruby-keyword kw">end</span>
1180:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000076" class="method-detail">
        <a name="M000076"></a>

        <div class="method-heading">
          <a href="#M000076" class="method-signature">
          <span class="method-name">leave_list</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000076-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000076-source">
<pre>
      <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 988</span>
 988:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">leave_list</span>
 989:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:employee_id</span>] <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;&quot;</span>
 990:       <span class="ruby-identifier">render</span> <span class="ruby-identifier">:update</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">page</span><span class="ruby-operator">|</span>
 991:         <span class="ruby-identifier">page</span>.<span class="ruby-identifier">replace_html</span> <span class="ruby-value str">&quot;leave-list&quot;</span>, <span class="ruby-identifier">:text</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;none&quot;</span>
 992:       <span class="ruby-keyword kw">end</span>
 993:       <span class="ruby-keyword kw">return</span>
 994:     <span class="ruby-keyword kw">end</span>
 995:     <span class="ruby-ivar">@employee</span> = <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:emp_id</span>]
 996:     <span class="ruby-ivar">@pending_applied_leaves</span> = <span class="ruby-constant">ApplyLeave</span>.<span class="ruby-identifier">find_all_by_employee_id</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:employee_id</span>], <span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;approved = false AND viewed_by_manager = false&quot;</span>, <span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;start_date DESC&quot;</span>)
 997:     <span class="ruby-ivar">@applied_leaves</span> = <span class="ruby-constant">ApplyLeave</span>.<span class="ruby-identifier">find_all_by_employee_id</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:employee_id</span>], <span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;viewed_by_manager = true&quot;</span>, <span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;start_date DESC&quot;</span>)
 998:     <span class="ruby-ivar">@all_leave_applications</span> = <span class="ruby-constant">ApplyLeave</span>.<span class="ruby-identifier">find_all_by_employee_id</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:employee_id</span>])
 999:     <span class="ruby-identifier">render</span> <span class="ruby-identifier">:update</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">page</span><span class="ruby-operator">|</span>
1000:       <span class="ruby-identifier">page</span>.<span class="ruby-identifier">replace_html</span> <span class="ruby-value str">&quot;leave-list&quot;</span>, <span class="ruby-identifier">:partial</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;leave_list&quot;</span>
1001:     <span class="ruby-keyword kw">end</span>
1002:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000073" class="method-detail">
        <a name="M000073"></a>

        <div class="method-heading">
          <a href="#M000073" class="method-signature">
          <span class="method-name">leave_management</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000073-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000073-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 940</span>
940:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">leave_management</span>
941:     <span class="ruby-identifier">user</span> = <span class="ruby-identifier">current_user</span>
942:     <span class="ruby-ivar">@employee</span> = <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">find_by_employee_number</span>(<span class="ruby-identifier">user</span>.<span class="ruby-identifier">username</span>)
943:     <span class="ruby-ivar">@all_employee</span> = <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>)
944:     <span class="ruby-ivar">@reporting_employees</span> = <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">find_all_by_reporting_manager_id</span>(<span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">id</span>)
945:     <span class="ruby-ivar">@leave_types</span> = <span class="ruby-constant">EmployeeLeaveType</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>)
946:     <span class="ruby-ivar">@total_leave_count</span> = <span class="ruby-value">0</span>
947:     <span class="ruby-ivar">@reporting_employees</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span>
948:       <span class="ruby-ivar">@app_leaves</span> = <span class="ruby-constant">ApplyLeave</span>.<span class="ruby-identifier">count</span>(<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;employee_id =? AND viewed_by_manager =?&quot;</span>, <span class="ruby-identifier">e</span>.<span class="ruby-identifier">id</span>, <span class="ruby-keyword kw">false</span>])
949:       <span class="ruby-ivar">@total_leave_count</span> = <span class="ruby-ivar">@total_leave_count</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@app_leaves</span>
950:     <span class="ruby-keyword kw">end</span>
951:     <span class="ruby-ivar">@all_employee_total_leave_count</span> = <span class="ruby-value">0</span>
952:     <span class="ruby-ivar">@all_employee</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">a</span><span class="ruby-operator">|</span>
953:       <span class="ruby-ivar">@all_emp_app_leaves</span> = <span class="ruby-constant">ApplyLeave</span>.<span class="ruby-identifier">count</span>(<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span>[<span class="ruby-value str">&quot;employee_id =? AND viewed_by_manager =?&quot;</span> , <span class="ruby-identifier">a</span>.<span class="ruby-identifier">id</span>, <span class="ruby-keyword kw">false</span>])
954:       <span class="ruby-ivar">@all_employee_total_leave_count</span> = <span class="ruby-ivar">@all_employee_total_leave_count</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@all_emp_app_leaves</span>
955:     <span class="ruby-keyword kw">end</span>
956: 
957:     <span class="ruby-ivar">@leave_apply</span> = <span class="ruby-constant">ApplyLeave</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:leave_apply</span>])
958:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">request</span>.<span class="ruby-identifier">post?</span> <span class="ruby-keyword kw">and</span> <span class="ruby-ivar">@leave_apply</span>.<span class="ruby-identifier">save</span>
959:       <span class="ruby-constant">ApplyLeave</span>.<span class="ruby-identifier">update</span>(<span class="ruby-ivar">@leave_apply</span>, <span class="ruby-identifier">:approved=</span><span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>, <span class="ruby-identifier">:viewed_by_manager=</span><span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>)
960:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:is_half_day</span>]
961:         <span class="ruby-constant">ApplyLeave</span>.<span class="ruby-identifier">update</span>(<span class="ruby-ivar">@leave_apply</span>, <span class="ruby-identifier">:is_half_day=</span><span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>)
962:       <span class="ruby-keyword kw">else</span>
963:         <span class="ruby-constant">ApplyLeave</span>.<span class="ruby-identifier">update</span>(<span class="ruby-ivar">@leave_apply</span>, <span class="ruby-identifier">:is_half_day=</span><span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>)
964:       <span class="ruby-keyword kw">end</span>
965:       <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>]=<span class="ruby-value str">&quot;Leave application created&quot;</span>
966:       <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;employee&quot;</span>, <span class="ruby-identifier">:action=</span><span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;leave_management&quot;</span>, <span class="ruby-identifier">:id=</span><span class="ruby-operator">&gt;</span><span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">id</span>
967:     <span class="ruby-keyword kw">end</span>
968:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000087" class="method-detail">
        <a name="M000087"></a>

        <div class="method-heading">
          <a href="#M000087" class="method-signature">
          <span class="method-name">list_dob_year</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000087-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000087-source">
<pre>
      <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 1299</span>
1299:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">list_dob_year</span>
1300:     <span class="ruby-identifier">dob_option</span> = <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:dob_option</span>]
1301:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">dob_option</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;equal to&quot;</span>
1302:       <span class="ruby-identifier">render</span> <span class="ruby-identifier">:update</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">page</span><span class="ruby-operator">|</span>
1303:         <span class="ruby-identifier">page</span>.<span class="ruby-identifier">replace_html</span> <span class="ruby-value str">'dob_year'</span>, <span class="ruby-identifier">:partial=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;equal_to_select_dob&quot;</span>
1304:       <span class="ruby-keyword kw">end</span>
1305:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">dob_option</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;less than&quot;</span>
1306:       <span class="ruby-identifier">render</span> <span class="ruby-identifier">:update</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">page</span><span class="ruby-operator">|</span>
1307:         <span class="ruby-identifier">page</span>.<span class="ruby-identifier">replace_html</span> <span class="ruby-value str">'dob_year'</span>, <span class="ruby-identifier">:partial=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;less_than_select_dob&quot;</span>
1308:       <span class="ruby-keyword kw">end</span>
1309:     <span class="ruby-keyword kw">else</span>
1310:       <span class="ruby-identifier">render</span> <span class="ruby-identifier">:update</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">page</span><span class="ruby-operator">|</span>
1311:         <span class="ruby-identifier">page</span>.<span class="ruby-identifier">replace_html</span> <span class="ruby-value str">'dob_year'</span>, <span class="ruby-identifier">:partial=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;greater_than_select_dob&quot;</span>
1312:       <span class="ruby-keyword kw">end</span>
1313:     <span class="ruby-keyword kw">end</span>
1314:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000083" class="method-detail">
        <a name="M000083"></a>

        <div class="method-heading">
          <a href="#M000083" class="method-signature">
          <span class="method-name">list_doj_year</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000083-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000083-source">
<pre>
      <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 1255</span>
1255:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">list_doj_year</span>
1256:     <span class="ruby-identifier">doj_option</span> = <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:doj_option</span>]
1257:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">doj_option</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;equal to&quot;</span>
1258:       <span class="ruby-identifier">render</span> <span class="ruby-identifier">:update</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">page</span><span class="ruby-operator">|</span>
1259:         <span class="ruby-identifier">page</span>.<span class="ruby-identifier">replace_html</span> <span class="ruby-value str">'doj_year'</span>, <span class="ruby-identifier">:partial=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;equal_to_select&quot;</span>
1260:       <span class="ruby-keyword kw">end</span>
1261:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">doj_option</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;less than&quot;</span>
1262:       <span class="ruby-identifier">render</span> <span class="ruby-identifier">:update</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">page</span><span class="ruby-operator">|</span>
1263:         <span class="ruby-identifier">page</span>.<span class="ruby-identifier">replace_html</span> <span class="ruby-value str">'doj_year'</span>, <span class="ruby-identifier">:partial=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;less_than_select&quot;</span>
1264:       <span class="ruby-keyword kw">end</span>
1265:     <span class="ruby-keyword kw">else</span>
1266:       <span class="ruby-identifier">render</span> <span class="ruby-identifier">:update</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">page</span><span class="ruby-operator">|</span>
1267:         <span class="ruby-identifier">page</span>.<span class="ruby-identifier">replace_html</span> <span class="ruby-value str">'doj_year'</span>, <span class="ruby-identifier">:partial=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;greater_than_select&quot;</span>
1268:       <span class="ruby-keyword kw">end</span>
1269:     <span class="ruby-keyword kw">end</span>
1270:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000096" class="method-detail">
        <a name="M000096"></a>

        <div class="method-heading">
          <a href="#M000096" class="method-signature">
          <span class="method-name">one_click_approve</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000096-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000096-source">
<pre>
      <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 1401</span>
1401:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">one_click_approve</span>
1402:     <span class="ruby-ivar">@dates</span> = <span class="ruby-constant">MonthlyPayslip</span>.<span class="ruby-identifier">find_all_by_salary_date</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:salary_date</span>],<span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;is_approved = false&quot;</span>])
1403:     <span class="ruby-ivar">@salary_date</span> = <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:salary_date</span>]
1404:     <span class="ruby-identifier">render</span> <span class="ruby-identifier">:update</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">page</span><span class="ruby-operator">|</span>
1405:       <span class="ruby-identifier">page</span>.<span class="ruby-identifier">replace_html</span> <span class="ruby-value str">&quot;approve&quot;</span>,<span class="ruby-identifier">:partial=</span><span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;one_click_approve&quot;</span>
1406:     <span class="ruby-keyword kw">end</span>
1407:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000097" class="method-detail">
        <a name="M000097"></a>

        <div class="method-heading">
          <a href="#M000097" class="method-signature">
          <span class="method-name">one_click_approve_submit</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000097-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000097-source">
<pre>
      <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 1409</span>
1409:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">one_click_approve_submit</span>
1410:     <span class="ruby-identifier">dates</span> = <span class="ruby-constant">MonthlyPayslip</span>.<span class="ruby-identifier">find_all_by_salary_date</span>(<span class="ruby-constant">Date</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:date</span>]))
1411: 
1412:     <span class="ruby-identifier">dates</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">d</span><span class="ruby-operator">|</span>
1413:       <span class="ruby-identifier">d</span>.<span class="ruby-identifier">approve</span>(<span class="ruby-identifier">current_user</span>.<span class="ruby-identifier">id</span>)
1414:     <span class="ruby-keyword kw">end</span>
1415:     <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">:notice</span>] = <span class="ruby-value str">'Payslip has been approved'</span>
1416:     <span class="ruby-identifier">redirect_to</span> <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;hr&quot;</span>
1417: 
1418:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000070" class="method-detail">
        <a name="M000070"></a>

        <div class="method-heading">
          <a href="#M000070" class="method-signature">
          <span class="method-name">one_click_payslip_generation</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000070-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000070-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 858</span>
858:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">one_click_payslip_generation</span>
859: 
860:     <span class="ruby-ivar">@user</span> = <span class="ruby-identifier">current_user</span>
861:     <span class="ruby-identifier">finance_manager</span> = <span class="ruby-identifier">find_finance_managers</span>
862:     <span class="ruby-identifier">finance</span> = <span class="ruby-constant">Configuration</span>.<span class="ruby-identifier">find_by_config_value</span>(<span class="ruby-value str">&quot;Finance&quot;</span>)
863:     <span class="ruby-identifier">subject</span> = <span class="ruby-value str">&quot; Payslip generated&quot;</span>
864:     <span class="ruby-identifier">body</span> = <span class="ruby-value str">&quot;Payslip has been generated for the particular month. Kindly approve this request&quot;</span>
865:     <span class="ruby-identifier">salary_date</span> = <span class="ruby-constant">Date</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:salary_date</span>])
866:     <span class="ruby-identifier">start_date</span> = <span class="ruby-identifier">salary_date</span> <span class="ruby-operator">-</span> ((<span class="ruby-identifier">salary_date</span>.<span class="ruby-identifier">day</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>).<span class="ruby-identifier">days</span>)
867:     <span class="ruby-identifier">end_date</span> = <span class="ruby-identifier">start_date</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>.<span class="ruby-identifier">month</span>
868:     <span class="ruby-identifier">employees</span> = <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>)
869:     <span class="ruby-keyword kw">unless</span>(<span class="ruby-identifier">finance_manager</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">finance</span>.<span class="ruby-identifier">nil?</span>)
870:       <span class="ruby-identifier">finance_manager</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span>
871:         <span class="ruby-constant">Reminder</span>.<span class="ruby-identifier">create</span>(<span class="ruby-identifier">:sender=</span><span class="ruby-operator">&gt;</span><span class="ruby-ivar">@user</span>.<span class="ruby-identifier">id</span>, <span class="ruby-identifier">:recipient=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">f</span>.<span class="ruby-identifier">id</span>, <span class="ruby-identifier">:subject=</span><span class="ruby-operator">&gt;</span> <span class="ruby-identifier">subject</span>,
872:           <span class="ruby-identifier">:body</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">body</span>, <span class="ruby-identifier">:is_read=</span><span class="ruby-operator">&gt;</span><span class="ruby-keyword kw">false</span>, <span class="ruby-identifier">:is_deleted_by_sender=</span><span class="ruby-operator">&gt;</span><span class="ruby-keyword kw">false</span>,<span class="ruby-identifier">:is_deleted_by_recipient=</span><span class="ruby-operator">&gt;</span><span class="ruby-keyword kw">false</span>)
873:       <span class="ruby-keyword kw">end</span>
874:       <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span><span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span>
875:         <span class="ruby-identifier">payslip_exists</span> = <span class="ruby-constant">MonthlyPayslip</span>.<span class="ruby-identifier">find_all_by_employee_id</span>(<span class="ruby-identifier">e</span>.<span class="ruby-identifier">id</span>,
876:           <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;salary_date &gt;= ? and salary_date &lt; ?&quot;</span>, <span class="ruby-identifier">start_date</span>, <span class="ruby-identifier">end_date</span>])
877:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">payslip_exists</span> <span class="ruby-operator">==</span> []
878:           <span class="ruby-identifier">salary_structure</span> = <span class="ruby-constant">EmployeeSalaryStructure</span>.<span class="ruby-identifier">find_all_by_employee_id</span>(<span class="ruby-identifier">e</span>.<span class="ruby-identifier">id</span>)
879:           <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">salary_structure</span> <span class="ruby-operator">==</span> []
880:             <span class="ruby-identifier">salary_structure</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">ss</span><span class="ruby-operator">|</span>
881:               <span class="ruby-constant">MonthlyPayslip</span>.<span class="ruby-identifier">create</span>(<span class="ruby-identifier">:salary_date=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">start_date</span>,
882:                 <span class="ruby-identifier">:employee_id=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">e</span>.<span class="ruby-identifier">id</span>,
883:                 <span class="ruby-identifier">:payroll_category_id=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">ss</span>.<span class="ruby-identifier">payroll_category_id</span>,
884:                 <span class="ruby-identifier">:amount=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">ss</span>.<span class="ruby-identifier">amount</span>,<span class="ruby-identifier">:is_approved</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>,<span class="ruby-identifier">:approver</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">nil</span>)
885:             <span class="ruby-keyword kw">end</span>
886:           <span class="ruby-keyword kw">end</span>
887:         <span class="ruby-keyword kw">end</span>
888:       <span class="ruby-keyword kw">end</span>
889:     <span class="ruby-keyword kw">else</span>
890:       <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span><span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span>
891:         <span class="ruby-identifier">payslip_exists</span> = <span class="ruby-constant">MonthlyPayslip</span>.<span class="ruby-identifier">find_all_by_employee_id</span>(<span class="ruby-identifier">e</span>.<span class="ruby-identifier">id</span>,
892:           <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;salary_date &gt;= ? and salary_date &lt; ?&quot;</span>, <span class="ruby-identifier">start_date</span>, <span class="ruby-identifier">end_date</span>])
893:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">payslip_exists</span> <span class="ruby-operator">==</span> []
894:           <span class="ruby-identifier">salary_structure</span> = <span class="ruby-constant">EmployeeSalaryStructure</span>.<span class="ruby-identifier">find_all_by_employee_id</span>(<span class="ruby-identifier">e</span>.<span class="ruby-identifier">id</span>)
895:           <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">salary_structure</span> <span class="ruby-operator">==</span> []
896:             <span class="ruby-identifier">salary_structure</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">ss</span><span class="ruby-operator">|</span>
897:               <span class="ruby-constant">MonthlyPayslip</span>.<span class="ruby-identifier">create</span>(<span class="ruby-identifier">:salary_date=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">start_date</span>,
898:                 <span class="ruby-identifier">:employee_id=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">e</span>.<span class="ruby-identifier">id</span>,
899:                 <span class="ruby-identifier">:payroll_category_id=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">ss</span>.<span class="ruby-identifier">payroll_category_id</span>,
900:                 <span class="ruby-identifier">:amount=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">ss</span>.<span class="ruby-identifier">amount</span>,<span class="ruby-identifier">:is_approved</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>,<span class="ruby-identifier">:approver</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@user</span>.<span class="ruby-identifier">id</span>)
901:             <span class="ruby-keyword kw">end</span>
902:           <span class="ruby-keyword kw">end</span>
903:         <span class="ruby-keyword kw">end</span>
904:       <span class="ruby-keyword kw">end</span>
905:     <span class="ruby-keyword kw">end</span>
906:     <span class="ruby-identifier">render</span> <span class="ruby-identifier">:text</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;&lt;p&gt;Salary slip generated for the month: #{salary_date.strftime(&quot;%B&quot;)}.&lt;br/&gt;&lt;b&gt;NOTE:&lt;/b&gt; Employees whose salary was generated manually, their salary slip was not generated by this process.&lt;/p&gt;&quot;</span>
907:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000072" class="method-detail">
        <a name="M000072"></a>

        <div class="method-heading">
          <a href="#M000072" class="method-signature">
          <span class="method-name">one_click_payslip_revert</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000072-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000072-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 914</span>
914:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">one_click_payslip_revert</span>
915:     <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:one_click_payslip</span>][<span class="ruby-identifier">:salary_date</span>] <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;&quot;</span>
916:       <span class="ruby-identifier">salary_date</span> = <span class="ruby-constant">Date</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:one_click_payslip</span>][<span class="ruby-identifier">:salary_date</span>])
917:       <span class="ruby-identifier">start_date</span> = <span class="ruby-identifier">salary_date</span> <span class="ruby-operator">-</span> ((<span class="ruby-identifier">salary_date</span>.<span class="ruby-identifier">day</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>).<span class="ruby-identifier">days</span>)
918:       <span class="ruby-identifier">end_date</span> = <span class="ruby-identifier">start_date</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>.<span class="ruby-identifier">month</span>
919:       <span class="ruby-identifier">employees</span> = <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>)
920:       <span class="ruby-identifier">employees</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span><span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span>
921:         <span class="ruby-identifier">payslip_record</span> = <span class="ruby-constant">MonthlyPayslip</span>.<span class="ruby-identifier">find_all_by_employee_id</span>(<span class="ruby-identifier">e</span>.<span class="ruby-identifier">id</span>,
922:           <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;salary_date &gt;= ? and salary_date &lt; ?&quot;</span>, <span class="ruby-identifier">start_date</span>, <span class="ruby-identifier">end_date</span>])
923:         <span class="ruby-identifier">payslip_record</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">pr</span><span class="ruby-operator">|</span>
924:           <span class="ruby-identifier">pr</span>.<span class="ruby-identifier">destroy</span>
925:         <span class="ruby-keyword kw">end</span>
926:         <span class="ruby-identifier">individual_payslip_record</span> = <span class="ruby-constant">IndividualPayslipCategory</span>.<span class="ruby-identifier">find_all_by_employee_id</span>(<span class="ruby-identifier">e</span>.<span class="ruby-identifier">id</span>,
927:           <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;salary_date &gt;= ? and salary_date &lt; ?&quot;</span>, <span class="ruby-identifier">start_date</span>, <span class="ruby-identifier">end_date</span>])
928:         <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">individual_payslip_record</span>.<span class="ruby-identifier">nil?</span>
929:           <span class="ruby-identifier">individual_payslip_record</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span><span class="ruby-operator">|</span><span class="ruby-identifier">ipr</span><span class="ruby-operator">|</span>
930:             <span class="ruby-identifier">ipr</span>.<span class="ruby-identifier">destroy</span>
931:           <span class="ruby-keyword kw">end</span>
932:         <span class="ruby-keyword kw">end</span>
933:       <span class="ruby-keyword kw">end</span>
934:       <span class="ruby-identifier">render</span> <span class="ruby-identifier">:text=</span><span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;&lt;p&gt;Salary slip reverted for the month: #{salary_date.strftime(&quot;%B&quot;)}.&lt;/p&gt;&quot;</span>
935:     <span class="ruby-keyword kw">else</span>
936:       <span class="ruby-identifier">render</span> <span class="ruby-identifier">:text=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;&lt;p&gt;Please select a month...&lt;/p&gt;&quot;</span>
937:     <span class="ruby-keyword kw">end</span>
938:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000095" class="method-detail">
        <a name="M000095"></a>

        <div class="method-heading">
          <a href="#M000095" class="method-signature">
          <span class="method-name">payslip_approve</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000095-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000095-source">
<pre>
      <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 1397</span>
1397:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">payslip_approve</span>
1398:     <span class="ruby-ivar">@salary_dates</span> = <span class="ruby-constant">MonthlyPayslip</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>, <span class="ruby-identifier">:select</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;distinct salary_date&quot;</span>)
1399:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000069" class="method-detail">
        <a name="M000069"></a>

        <div class="method-heading">
          <a href="#M000069" class="method-signature">
          <span class="method-name">payslip_date_select</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000069-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000069-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 854</span>
854:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">payslip_date_select</span>
855:     <span class="ruby-identifier">render</span> <span class="ruby-identifier">:partial=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;one_click_payslip_date&quot;</span>
856:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000071" class="method-detail">
        <a name="M000071"></a>

        <div class="method-heading">
          <a href="#M000071" class="method-signature">
          <span class="method-name">payslip_revert_date_select</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000071-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000071-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 909</span>
909:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">payslip_revert_date_select</span>
910:     <span class="ruby-ivar">@salary_dates</span> = <span class="ruby-constant">MonthlyPayslip</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>, <span class="ruby-identifier">:select</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;distinct salary_date&quot;</span>)
911:     <span class="ruby-identifier">render</span> <span class="ruby-identifier">:partial=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;one_click_payslip_revert_date&quot;</span>
912:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000038" class="method-detail">
        <a name="M000038"></a>

        <div class="method-heading">
          <a href="#M000038" class="method-signature">
          <span class="method-name">profile</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000038-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000038-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 469</span>
469:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">profile</span>
470:     <span class="ruby-ivar">@current_user</span> = <span class="ruby-identifier">current_user</span>
471:     <span class="ruby-ivar">@employee</span> = <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
472:     <span class="ruby-ivar">@new_reminder_count</span> = <span class="ruby-constant">Reminder</span>.<span class="ruby-identifier">find_all_by_recipient</span>(<span class="ruby-ivar">@current_user</span>.<span class="ruby-identifier">id</span>, <span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;is_read = false&quot;</span>)
473:     <span class="ruby-ivar">@gender</span> = <span class="ruby-value str">&quot;Male&quot;</span>
474:     <span class="ruby-ivar">@gender</span> = <span class="ruby-value str">&quot;Female&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">gender</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">false</span>
475:     <span class="ruby-ivar">@status</span> = <span class="ruby-value str">&quot;Active&quot;</span>
476:     <span class="ruby-ivar">@status</span> = <span class="ruby-value str">&quot;Inactive&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">status</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">false</span>
477:     <span class="ruby-ivar">@reporting_manager</span> = <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">find</span>(<span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">reporting_manager_id</span>).<span class="ruby-identifier">first_name</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">reporting_manager_id</span>.<span class="ruby-identifier">nil?</span>
478:     <span class="ruby-identifier">exp_years</span> = <span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">experience_year</span>
479:     <span class="ruby-identifier">exp_months</span> = <span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">experience_month</span>
480:     <span class="ruby-identifier">date</span> = <span class="ruby-constant">Date</span>.<span class="ruby-identifier">today</span>
481:     <span class="ruby-identifier">total_current_exp_days</span> = (<span class="ruby-identifier">date</span><span class="ruby-operator">-</span><span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">joining_date</span>).<span class="ruby-identifier">to_i</span>
482:     <span class="ruby-identifier">current_years</span> = <span class="ruby-identifier">total_current_exp_days</span><span class="ruby-operator">/</span><span class="ruby-value">365</span>
483:     <span class="ruby-identifier">rem</span> = <span class="ruby-identifier">total_current_exp_days</span><span class="ruby-operator">%</span><span class="ruby-value">365</span>
484:     <span class="ruby-identifier">current_months</span> = <span class="ruby-identifier">rem</span><span class="ruby-operator">/</span><span class="ruby-value">30</span>
485:     <span class="ruby-ivar">@total_years</span> = <span class="ruby-identifier">exp_years</span><span class="ruby-operator">+</span><span class="ruby-identifier">current_years</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">exp_years</span>.<span class="ruby-identifier">nil?</span>
486:     <span class="ruby-ivar">@total_months</span> = <span class="ruby-identifier">exp_months</span><span class="ruby-operator">+</span><span class="ruby-identifier">current_months</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">exp_months</span>.<span class="ruby-identifier">nil?</span>
487:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000044" class="method-detail">
        <a name="M000044"></a>

        <div class="method-heading">
          <a href="#M000044" class="method-signature">
          <span class="method-name">profile_additional_details</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000044-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000044-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 531</span>
531:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">profile_additional_details</span>
532:     <span class="ruby-ivar">@employee</span> = <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
533:     <span class="ruby-ivar">@additional_details</span> = <span class="ruby-constant">EmployeeAdditionalDetail</span>.<span class="ruby-identifier">find_all_by_employee_id</span>(<span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">id</span>)
534:     <span class="ruby-identifier">render</span> <span class="ruby-identifier">:partial</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;additional_details&quot;</span>
535:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000041" class="method-detail">
        <a name="M000041"></a>

        <div class="method-heading">
          <a href="#M000041" class="method-signature">
          <span class="method-name">profile_address</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000041-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000041-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 513</span>
513:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">profile_address</span>
514:     <span class="ruby-ivar">@employee</span> = <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
515:     <span class="ruby-ivar">@home_country</span> = <span class="ruby-constant">Country</span>.<span class="ruby-identifier">find</span>(<span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">home_country_id</span>).<span class="ruby-identifier">name</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">home_country_id</span>.<span class="ruby-identifier">nil?</span>
516:     <span class="ruby-ivar">@office_country</span> = <span class="ruby-constant">Country</span>.<span class="ruby-identifier">find</span>(<span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">office_country_id</span>).<span class="ruby-identifier">name</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">office_country_id</span>.<span class="ruby-identifier">nil?</span>
517:     <span class="ruby-identifier">render</span> <span class="ruby-identifier">:partial</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;address&quot;</span>
518:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000043" class="method-detail">
        <a name="M000043"></a>

        <div class="method-heading">
          <a href="#M000043" class="method-signature">
          <span class="method-name">profile_bank_details</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000043-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000043-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 525</span>
525:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">profile_bank_details</span>
526:     <span class="ruby-ivar">@employee</span> = <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
527:     <span class="ruby-ivar">@bank_details</span> = <span class="ruby-constant">EmployeeBankDetail</span>.<span class="ruby-identifier">find_all_by_employee_id</span>(<span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">id</span>)
528:     <span class="ruby-identifier">render</span> <span class="ruby-identifier">:partial</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;bank_details&quot;</span>
529:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000042" class="method-detail">
        <a name="M000042"></a>

        <div class="method-heading">
          <a href="#M000042" class="method-signature">
          <span class="method-name">profile_contact</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000042-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000042-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 520</span>
520:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">profile_contact</span>
521:     <span class="ruby-ivar">@employee</span> = <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
522:     <span class="ruby-identifier">render</span> <span class="ruby-identifier">:partial</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;contact&quot;</span>
523:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000039" class="method-detail">
        <a name="M000039"></a>

        <div class="method-heading">
          <a href="#M000039" class="method-signature">
          <span class="method-name">profile_general</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000039-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000039-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 489</span>
489:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">profile_general</span>
490:     <span class="ruby-ivar">@employee</span> = <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
491:     <span class="ruby-ivar">@gender</span> = <span class="ruby-value str">&quot;Male&quot;</span>
492:     <span class="ruby-ivar">@gender</span> = <span class="ruby-value str">&quot;Female&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">gender</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">false</span>
493:     <span class="ruby-ivar">@status</span> = <span class="ruby-value str">&quot;Active&quot;</span>
494:     <span class="ruby-ivar">@status</span> = <span class="ruby-value str">&quot;Inactive&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">status</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">false</span>
495:     <span class="ruby-ivar">@reporting_manager</span> = <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">find</span>(<span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">reporting_manager_id</span>).<span class="ruby-identifier">first_name</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">reporting_manager_id</span>.<span class="ruby-identifier">nil?</span>
496:     <span class="ruby-identifier">exp_years</span> = <span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">experience_year</span>
497:     <span class="ruby-identifier">exp_months</span> = <span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">experience_month</span>
498:     <span class="ruby-identifier">date</span> = <span class="ruby-constant">Date</span>.<span class="ruby-identifier">today</span>
499:     <span class="ruby-identifier">total_current_exp_days</span> = (<span class="ruby-identifier">date</span><span class="ruby-operator">-</span><span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">joining_date</span>).<span class="ruby-identifier">to_i</span>
500:     <span class="ruby-identifier">current_years</span> = <span class="ruby-identifier">total_current_exp_days</span><span class="ruby-operator">/</span><span class="ruby-value">365</span>
501:     <span class="ruby-identifier">rem</span> = <span class="ruby-identifier">total_current_exp_days</span><span class="ruby-operator">%</span><span class="ruby-value">365</span>
502:     <span class="ruby-identifier">current_months</span> = <span class="ruby-identifier">rem</span><span class="ruby-operator">/</span><span class="ruby-value">30</span>
503:     <span class="ruby-ivar">@total_years</span> = <span class="ruby-identifier">exp_years</span><span class="ruby-operator">+</span><span class="ruby-identifier">current_years</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">exp_years</span>.<span class="ruby-identifier">nil?</span>
504:     <span class="ruby-ivar">@total_months</span> = <span class="ruby-identifier">exp_months</span><span class="ruby-operator">+</span><span class="ruby-identifier">current_months</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">exp_months</span>.<span class="ruby-identifier">nil?</span>
505:     <span class="ruby-identifier">render</span> <span class="ruby-identifier">:partial</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;general&quot;</span>
506:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000045" class="method-detail">
        <a name="M000045"></a>

        <div class="method-heading">
          <a href="#M000045" class="method-signature">
          <span class="method-name">profile_payroll_details</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000045-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000045-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 538</span>
538:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">profile_payroll_details</span>
539:     <span class="ruby-ivar">@currency_type</span> = <span class="ruby-constant">Configuration</span>.<span class="ruby-identifier">find_by_config_key</span>(<span class="ruby-value str">&quot;CurrencyType&quot;</span>).<span class="ruby-identifier">config_value</span>
540:     <span class="ruby-ivar">@employee</span> = <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
541:     <span class="ruby-ivar">@payroll_details</span> = <span class="ruby-constant">EmployeeSalaryStructure</span>.<span class="ruby-identifier">find_all_by_employee_id</span>(<span class="ruby-ivar">@employee</span>, <span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;payroll_category_id ASC&quot;</span>)
542:     <span class="ruby-identifier">render</span> <span class="ruby-identifier">:partial</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;payroll_details&quot;</span>
543:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000046" class="method-detail">
        <a name="M000046"></a>

        <div class="method-heading">
          <a href="#M000046" class="method-signature">
          <span class="method-name">profile_pdf</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000046-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000046-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 545</span>
545:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">profile_pdf</span>
546:     <span class="ruby-ivar">@employee</span> = <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
547:     <span class="ruby-ivar">@gender</span> = <span class="ruby-value str">&quot;Male&quot;</span>
548:     <span class="ruby-ivar">@gender</span> = <span class="ruby-value str">&quot;Female&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">gender</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">false</span>
549:     <span class="ruby-ivar">@status</span> = <span class="ruby-value str">&quot;Active&quot;</span>
550:     <span class="ruby-ivar">@status</span> = <span class="ruby-value str">&quot;Inactive&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">status</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">false</span>
551:     <span class="ruby-ivar">@reporting_manager</span> = <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">find</span>(<span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">reporting_manager_id</span>).<span class="ruby-identifier">first_name</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">reporting_manager_id</span>.<span class="ruby-identifier">nil?</span>
552:     <span class="ruby-identifier">exp_years</span> = <span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">experience_year</span>
553:     <span class="ruby-identifier">exp_months</span> = <span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">experience_month</span>
554:     <span class="ruby-identifier">date</span> = <span class="ruby-constant">Date</span>.<span class="ruby-identifier">today</span>
555:     <span class="ruby-identifier">total_current_exp_days</span> = (<span class="ruby-identifier">date</span><span class="ruby-operator">-</span><span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">joining_date</span>).<span class="ruby-identifier">to_i</span>
556:     <span class="ruby-identifier">current_years</span> = <span class="ruby-identifier">total_current_exp_days</span><span class="ruby-operator">/</span><span class="ruby-value">365</span>
557:     <span class="ruby-identifier">rem</span> = <span class="ruby-identifier">total_current_exp_days</span><span class="ruby-operator">%</span><span class="ruby-value">365</span>
558:     <span class="ruby-identifier">current_months</span> = <span class="ruby-identifier">rem</span><span class="ruby-operator">/</span><span class="ruby-value">30</span>
559:     <span class="ruby-ivar">@total_years</span> = <span class="ruby-identifier">exp_years</span><span class="ruby-operator">+</span><span class="ruby-identifier">current_years</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">exp_years</span>.<span class="ruby-identifier">nil?</span>
560:     <span class="ruby-ivar">@total_months</span> = <span class="ruby-identifier">exp_months</span><span class="ruby-operator">+</span><span class="ruby-identifier">current_months</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">exp_months</span>.<span class="ruby-identifier">nil?</span>
561:     <span class="ruby-ivar">@home_country</span> = <span class="ruby-constant">Country</span>.<span class="ruby-identifier">find</span>(<span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">home_country_id</span>).<span class="ruby-identifier">name</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">home_country_id</span>.<span class="ruby-identifier">nil?</span>
562:     <span class="ruby-ivar">@office_country</span> = <span class="ruby-constant">Country</span>.<span class="ruby-identifier">find</span>(<span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">office_country_id</span>).<span class="ruby-identifier">name</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">office_country_id</span>.<span class="ruby-identifier">nil?</span>
563:     <span class="ruby-ivar">@bank_details</span> = <span class="ruby-constant">EmployeeBankDetail</span>.<span class="ruby-identifier">find_all_by_employee_id</span>(<span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">id</span>)
564:     <span class="ruby-ivar">@additional_details</span> = <span class="ruby-constant">EmployeeAdditionalDetail</span>.<span class="ruby-identifier">find_all_by_employee_id</span>(<span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">id</span>)
565:     <span class="ruby-identifier">respond_to</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">format</span><span class="ruby-operator">|</span>
566:       <span class="ruby-identifier">format</span>.<span class="ruby-identifier">pdf</span> { <span class="ruby-identifier">render</span> <span class="ruby-identifier">:layout</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span> }
567:     <span class="ruby-keyword kw">end</span>
568:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000040" class="method-detail">
        <a name="M000040"></a>

        <div class="method-heading">
          <a href="#M000040" class="method-signature">
          <span class="method-name">profile_personal</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000040-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000040-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 508</span>
508:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">profile_personal</span>
509:     <span class="ruby-ivar">@employee</span> = <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
510:     <span class="ruby-identifier">render</span> <span class="ruby-identifier">:partial</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;personal&quot;</span>
511:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000091" class="method-detail">
        <a name="M000091"></a>

        <div class="method-heading">
          <a href="#M000091" class="method-signature">
          <span class="method-name">remove</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000091-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000091-source">
<pre>
      <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 1343</span>
1343:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">remove</span>
1344:     <span class="ruby-ivar">@employee</span> = <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
1345:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000063" class="method-detail">
        <a name="M000063"></a>

        <div class="method-heading">
          <a href="#M000063" class="method-signature">
          <span class="method-name">remove_employee</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000063-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000063-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 804</span>
804:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">remove_employee</span>
805:     <span class="ruby-ivar">@departments</span> = <span class="ruby-constant">EmployeeDepartment</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>)
806:     <span class="ruby-ivar">@subject</span> = <span class="ruby-constant">Subject</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id1</span>])
807:     <span class="ruby-ivar">@employees</span> = <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">find_all_by_employee_department_id</span>(<span class="ruby-constant">Employee</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>]).<span class="ruby-identifier">employee_department_id</span>)
808:     <span class="ruby-constant">EmployeesSubject</span>.<span class="ruby-identifier">find_by_employee_id_and_subject_id</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>], <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id1</span>]).<span class="ruby-identifier">destroy</span>
809:     <span class="ruby-ivar">@assigned_employee</span> = <span class="ruby-constant">EmployeesSubject</span>.<span class="ruby-identifier">find_all_by_subject_id</span>(<span class="ruby-ivar">@subject</span>.<span class="ruby-identifier">id</span>)
810:     <span class="ruby-identifier">render</span> <span class="ruby-identifier">:partial</span> =<span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;select_department&quot;</span>
811:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000052" class="method-detail">
        <a name="M000052"></a>

        <div class="method-heading">
          <a href="#M000052" class="method-signature">
          <span class="method-name">remove_new_paylist_category</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000052-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000052-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 614</span>
614:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">remove_new_paylist_category</span>
615:     <span class="ruby-identifier">removal_category</span> = <span class="ruby-constant">IndividualPayslipCategory</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
616:     <span class="ruby-identifier">employee</span> = <span class="ruby-identifier">removal_category</span>.<span class="ruby-identifier">employee_id</span>
617:     <span class="ruby-identifier">removal_category</span>.<span class="ruby-identifier">destroy</span>
618:     <span class="ruby-ivar">@new_payslip_category</span> = <span class="ruby-constant">IndividualPayslipCategory</span>.<span class="ruby-identifier">find_all_by_employee_id_and_salary_date</span>(<span class="ruby-identifier">employee</span>,<span class="ruby-keyword kw">nil</span>)
619:     <span class="ruby-identifier">render</span> <span class="ruby-identifier">:partial</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;list_payslip_category&quot;</span>
620:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000035" class="method-detail">
        <a name="M000035"></a>

        <div class="method-heading">
          <a href="#M000035" class="method-signature">
          <span class="method-name">search</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000035-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000035-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 432</span>
432:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">search</span>
433:     <span class="ruby-ivar">@departments</span> = <span class="ruby-constant">EmployeeDepartment</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>)
434:     <span class="ruby-ivar">@categories</span>  = <span class="ruby-constant">EmployeeCategory</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>)
435:     <span class="ruby-ivar">@positions</span>   = <span class="ruby-constant">EmployeePosition</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>)
436:     <span class="ruby-ivar">@grades</span>      = <span class="ruby-constant">EmployeeGrade</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>)
437:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000036" class="method-detail">
        <a name="M000036"></a>

        <div class="method-heading">
          <a href="#M000036" class="method-signature">
          <span class="method-name">search_ajax</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000036-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000036-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 439</span>
439:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">search_ajax</span>
440:     <span class="ruby-identifier">other_conditions</span> = <span class="ruby-value str">&quot;&quot;</span>
441:     <span class="ruby-identifier">other_conditions</span> <span class="ruby-operator">+=</span> <span class="ruby-node">&quot; AND employee_department_id = '#{params[:employee_department_id]}'&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:employee_department_id</span>] <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;&quot;</span>
442:     <span class="ruby-identifier">other_conditions</span> <span class="ruby-operator">+=</span> <span class="ruby-node">&quot; AND employee_category_id = '#{params[:employee_category_id]}'&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:employee_category_id</span>] <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;&quot;</span>
443:     <span class="ruby-identifier">other_conditions</span> <span class="ruby-operator">+=</span> <span class="ruby-node">&quot; AND employee_position_id = '#{params[:employee_position_id]}'&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:employee_position_id</span>] <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;&quot;</span>
444:     <span class="ruby-identifier">other_conditions</span> <span class="ruby-operator">+=</span> <span class="ruby-node">&quot; AND employee_grade_id = '#{params[:employee_grade_id]}'&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:employee_grade_id</span>] <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;&quot;</span>
445:     <span class="ruby-ivar">@employee</span> = <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,
446:       <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;(first_name LIKE \&quot;#{params[:query]}%\&quot;
447:                        OR middle_name LIKE \&quot;#{params[:query]}%\&quot;
448:                        OR last_name LIKE \&quot;#{params[:query]}%\&quot;
449:                        OR (concat(first_name, \&quot; \&quot;, last_name) LIKE \&quot;#{params[:query]}%\&quot;))&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">other_conditions</span>,
450:       <span class="ruby-identifier">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;first_name asc&quot;</span>) <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:query</span>] <span class="ruby-operator">==</span> <span class="ruby-value str">''</span>
451:     <span class="ruby-identifier">render</span> <span class="ruby-identifier">:layout</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>
452:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000060" class="method-detail">
        <a name="M000060"></a>

        <div class="method-heading">
          <a href="#M000060" class="method-signature">
          <span class="method-name">select_department</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000060-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000060-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 778</span>
778:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">select_department</span>
779:     <span class="ruby-ivar">@subject</span> = <span class="ruby-constant">Subject</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:subject_id</span>])
780:     <span class="ruby-ivar">@assigned_employee</span> = <span class="ruby-constant">EmployeesSubject</span>.<span class="ruby-identifier">find_all_by_subject_id</span>(<span class="ruby-ivar">@subject</span>.<span class="ruby-identifier">id</span>)
781:     <span class="ruby-ivar">@departments</span> = <span class="ruby-constant">EmployeeDepartment</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>)
782:     <span class="ruby-identifier">render</span> <span class="ruby-identifier">:update</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">page</span><span class="ruby-operator">|</span>
783:       <span class="ruby-identifier">page</span>.<span class="ruby-identifier">replace_html</span> <span class="ruby-value str">'department-select'</span>, <span class="ruby-identifier">:partial</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'select_department'</span>
784:     <span class="ruby-keyword kw">end</span>
785:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000067" class="method-detail">
        <a name="M000067"></a>

        <div class="method-heading">
          <a href="#M000067" class="method-signature">
          <span class="method-name">select_department_employee</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000067-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000067-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 840</span>
840:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">select_department_employee</span>
841:     <span class="ruby-ivar">@departments</span> = <span class="ruby-constant">EmployeeDepartment</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>, <span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;name ASC&quot;</span>)
842:     <span class="ruby-ivar">@employees</span> = []
843:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000037" class="method-detail">
        <a name="M000037"></a>

        <div class="method-heading">
          <a href="#M000037" class="method-signature">
          <span class="method-name">select_reporting_manager</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000037-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000037-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 454</span>
454:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">select_reporting_manager</span>
455:     <span class="ruby-identifier">other_conditions</span> = <span class="ruby-value str">&quot;&quot;</span>
456:     <span class="ruby-identifier">other_conditions</span> <span class="ruby-operator">+=</span> <span class="ruby-node">&quot; AND employee_department_id = '#{params[:employee_department_id]}'&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:employee_department_id</span>] <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;&quot;</span>
457:     <span class="ruby-identifier">other_conditions</span> <span class="ruby-operator">+=</span> <span class="ruby-node">&quot; AND employee_category_id = '#{params[:employee_category_id]}'&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:employee_category_id</span>] <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;&quot;</span>
458:     <span class="ruby-identifier">other_conditions</span> <span class="ruby-operator">+=</span> <span class="ruby-node">&quot; AND employee_position_id = '#{params[:employee_position_id]}'&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:employee_position_id</span>] <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;&quot;</span>
459:     <span class="ruby-identifier">other_conditions</span> <span class="ruby-operator">+=</span> <span class="ruby-node">&quot; AND employee_grade_id = '#{params[:employee_grade_id]}'&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:employee_grade_id</span>] <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;&quot;</span>
460:     <span class="ruby-ivar">@employee</span> = <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>,
461:       <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;(first_name LIKE \&quot;#{params[:query]}%\&quot;
462:                        OR middle_name LIKE \&quot;#{params[:query]}%\&quot;
463:                        OR last_name LIKE \&quot;#{params[:query]}%\&quot;
464:                        OR (concat(first_name, \&quot; \&quot;, last_name) LIKE \&quot;#{params[:query]}%\&quot;))&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">other_conditions</span>,
465:       <span class="ruby-identifier">:order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;first_name asc&quot;</span>) <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:query</span>] <span class="ruby-operator">==</span> <span class="ruby-value str">''</span>
466:     <span class="ruby-identifier">render</span> <span class="ruby-identifier">:layout</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>
467:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000049" class="method-detail">
        <a name="M000049"></a>

        <div class="method-heading">
          <a href="#M000049" class="method-signature">
          <span class="method-name">show</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000049-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000049-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 583</span>
583:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">show</span>
584:     <span class="ruby-ivar">@employee</span> = <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
585:     <span class="ruby-identifier">send_data</span>(<span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">photo_data</span>, <span class="ruby-identifier">:type</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">photo_content_type</span>, <span class="ruby-identifier">:filename</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">photo_filename</span>, <span class="ruby-identifier">:disposition</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'inline'</span>)
586:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000058" class="method-detail">
        <a name="M000058"></a>

        <div class="method-heading">
          <a href="#M000058" class="method-signature">
          <span class="method-name">subject_assignment</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000058-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000058-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 764</span>
764:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">subject_assignment</span>
765:     <span class="ruby-ivar">@batches</span> = <span class="ruby-constant">Batch</span>.<span class="ruby-identifier">active</span>
766:     <span class="ruby-ivar">@subjects</span> = []
767:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000064" class="method-detail">
        <a name="M000064"></a>

        <div class="method-heading">
          <a href="#M000064" class="method-signature">
          <span class="method-name">timetable</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000064-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000064-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 813</span>
813:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">timetable</span>
814:     <span class="ruby-ivar">@employee</span> = <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
815:     <span class="ruby-ivar">@tte</span> = <span class="ruby-constant">TimetableEntry</span>.<span class="ruby-identifier">find_all_by_employee_id</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
816:     <span class="ruby-ivar">@timetable</span> = <span class="ruby-constant">TimetableEntry</span>.<span class="ruby-identifier">find_all_by_employee_id</span>(<span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">id</span>)
817:     <span class="ruby-ivar">@period_timing</span> = <span class="ruby-constant">ClassTiming</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;is_break = false&quot;</span>)
818:     <span class="ruby-ivar">@day</span> = <span class="ruby-constant">Weekday</span>.<span class="ruby-identifier">all</span>(<span class="ruby-identifier">:select</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;DISTINCT(weekday)&quot;</span>)
819:     <span class="ruby-ivar">@weekday</span> = [<span class="ruby-value str">&quot;Sun&quot;</span>, <span class="ruby-value str">&quot;Mon&quot;</span>, <span class="ruby-value str">&quot;Tue&quot;</span>,<span class="ruby-value str">&quot;Wed&quot;</span>, <span class="ruby-value str">&quot;Thu&quot;</span>, <span class="ruby-value str">&quot;Fri&quot;</span>, <span class="ruby-value str">&quot;Sat&quot;</span>]
820:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000065" class="method-detail">
        <a name="M000065"></a>

        <div class="method-heading">
          <a href="#M000065" class="method-signature">
          <span class="method-name">timetable_pdf</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000065-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000065-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 822</span>
822:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">timetable_pdf</span>
823:     <span class="ruby-ivar">@employee</span> = <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
824:     <span class="ruby-ivar">@tte</span> = <span class="ruby-constant">TimetableEntry</span>.<span class="ruby-identifier">find_all_by_employee_id</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
825:     <span class="ruby-ivar">@timetable</span> = <span class="ruby-constant">TimetableEntry</span>.<span class="ruby-identifier">find_all_by_employee_id</span>(<span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">id</span>)
826:     <span class="ruby-ivar">@period_timing</span> = <span class="ruby-constant">ClassTiming</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;is_break = false&quot;</span>)
827:     <span class="ruby-ivar">@day</span> = <span class="ruby-constant">Weekday</span>.<span class="ruby-identifier">all</span>(<span class="ruby-identifier">:select</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;DISTINCT(weekday)&quot;</span>)
828:     <span class="ruby-ivar">@weekday</span> = [<span class="ruby-value str">&quot;Mon&quot;</span>, <span class="ruby-value str">&quot;Tue&quot;</span>,<span class="ruby-value str">&quot;Wed&quot;</span>, <span class="ruby-value str">&quot;Thu&quot;</span>, <span class="ruby-value str">&quot;Fri&quot;</span>, <span class="ruby-value str">&quot;Sat&quot;</span>, <span class="ruby-value str">&quot;Sun&quot;</span>]
829:     <span class="ruby-identifier">respond_to</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">format</span><span class="ruby-operator">|</span>
830:       <span class="ruby-identifier">format</span>.<span class="ruby-identifier">pdf</span> { <span class="ruby-identifier">render</span> <span class="ruby-identifier">:layout</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span> }
831:     <span class="ruby-keyword kw">end</span>
832:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000078" class="method-detail">
        <a name="M000078"></a>

        <div class="method-heading">
          <a href="#M000078" class="method-signature">
          <span class="method-name">update_employee_payslip</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000078-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000078-source">
<pre>
      <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 1009</span>
1009:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">update_employee_payslip</span>
1010:     <span class="ruby-ivar">@department</span> = <span class="ruby-constant">EmployeeDepartment</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:department_id</span>]) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:department_id</span>]
1011:     <span class="ruby-ivar">@department</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">EmployeeDepartment</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:payslip</span>][<span class="ruby-identifier">:department_id</span>])
1012:     <span class="ruby-ivar">@employee</span> = <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:employee</span>]) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:employee</span>]
1013:     <span class="ruby-ivar">@employee</span> <span class="ruby-operator">||=</span> <span class="ruby-ivar">@department</span>.<span class="ruby-identifier">employees</span>.<span class="ruby-identifier">first</span>
1014:     <span class="ruby-ivar">@prev_employee</span> = <span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">previous_employee</span>
1015:     <span class="ruby-ivar">@next_employee</span> = <span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">next_employee</span>
1016:     <span class="ruby-ivar">@currency_type</span> = <span class="ruby-constant">Configuration</span>.<span class="ruby-identifier">find_by_config_key</span>(<span class="ruby-value str">&quot;CurrencyType&quot;</span>).<span class="ruby-identifier">config_value</span>
1017:     <span class="ruby-ivar">@salary_date</span> = <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:salary_date</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:salary_date</span>]
1018:     <span class="ruby-ivar">@salary_date</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:payslip</span>][<span class="ruby-identifier">:salary_date</span>]
1019:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@salary_date</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;&quot;</span>
1020:       <span class="ruby-identifier">render</span> <span class="ruby-identifier">:update</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">page</span><span class="ruby-operator">|</span>
1021:         <span class="ruby-identifier">page</span>.<span class="ruby-identifier">replace_html</span> <span class="ruby-value str">&quot;payslip_view&quot;</span>, <span class="ruby-identifier">:text</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;&quot;</span>
1022:       <span class="ruby-keyword kw">end</span>
1023:       <span class="ruby-keyword kw">return</span>
1024:     <span class="ruby-keyword kw">end</span>
1025:     <span class="ruby-ivar">@monthly_payslips</span> = <span class="ruby-constant">MonthlyPayslip</span>.<span class="ruby-identifier">find_all_by_salary_date</span>(<span class="ruby-ivar">@salary_date</span>,
1026:       <span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;employee_id =#{@employee.id}&quot;</span>,
1027:       <span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;payroll_category_id ASC&quot;</span>)
1028: 
1029:     <span class="ruby-ivar">@individual_payslip_category</span> = <span class="ruby-constant">IndividualPayslipCategory</span>.<span class="ruby-identifier">find_all_by_salary_date</span>(<span class="ruby-ivar">@salary_date</span>,
1030:       <span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-node">&quot;employee_id =#{@employee.id}&quot;</span>,
1031:       <span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;id ASC&quot;</span>)
1032:     <span class="ruby-ivar">@individual_category_non_deductionable</span> = <span class="ruby-value">0</span>
1033:     <span class="ruby-ivar">@individual_category_deductionable</span> = <span class="ruby-value">0</span>
1034:     <span class="ruby-ivar">@individual_payslip_category</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">pc</span><span class="ruby-operator">|</span>
1035:       <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">pc</span>.<span class="ruby-identifier">is_deduction</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">true</span>
1036:         <span class="ruby-ivar">@individual_category_non_deductionable</span> = <span class="ruby-ivar">@individual_category_non_deductionable</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">pc</span>.<span class="ruby-identifier">amount</span>.<span class="ruby-identifier">to_i</span>
1037:       <span class="ruby-keyword kw">end</span>
1038:     <span class="ruby-keyword kw">end</span>
1039: 
1040:     <span class="ruby-ivar">@individual_payslip_category</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">pc</span><span class="ruby-operator">|</span>
1041:       <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">pc</span>.<span class="ruby-identifier">is_deduction</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">false</span>
1042:         <span class="ruby-ivar">@individual_category_deductionable</span> = <span class="ruby-ivar">@individual_category_deductionable</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">pc</span>.<span class="ruby-identifier">amount</span>.<span class="ruby-identifier">to_i</span>
1043:       <span class="ruby-keyword kw">end</span>
1044:     <span class="ruby-keyword kw">end</span>
1045: 
1046:     <span class="ruby-ivar">@non_deductionable_amount</span> = <span class="ruby-value">0</span>
1047:     <span class="ruby-ivar">@deductionable_amount</span> = <span class="ruby-value">0</span>
1048:     <span class="ruby-ivar">@monthly_payslips</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">mp</span><span class="ruby-operator">|</span>
1049:       <span class="ruby-identifier">category1</span> = <span class="ruby-constant">PayrollCategory</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">mp</span>.<span class="ruby-identifier">payroll_category_id</span>)
1050:       <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">category1</span>.<span class="ruby-identifier">is_deduction</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">true</span>
1051:         <span class="ruby-ivar">@non_deductionable_amount</span> = <span class="ruby-ivar">@non_deductionable_amount</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">mp</span>.<span class="ruby-identifier">amount</span>.<span class="ruby-identifier">to_i</span>
1052:       <span class="ruby-keyword kw">end</span>
1053:     <span class="ruby-keyword kw">end</span>
1054: 
1055:     <span class="ruby-ivar">@monthly_payslips</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">mp</span><span class="ruby-operator">|</span>
1056:       <span class="ruby-identifier">category2</span> = <span class="ruby-constant">PayrollCategory</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">mp</span>.<span class="ruby-identifier">payroll_category_id</span>)
1057:       <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">category2</span>.<span class="ruby-identifier">is_deduction</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">false</span>
1058:         <span class="ruby-ivar">@deductionable_amount</span> = <span class="ruby-ivar">@deductionable_amount</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">mp</span>.<span class="ruby-identifier">amount</span>.<span class="ruby-identifier">to_i</span>
1059:       <span class="ruby-keyword kw">end</span>
1060:     <span class="ruby-keyword kw">end</span>
1061: 
1062:     <span class="ruby-ivar">@net_non_deductionable_amount</span> = <span class="ruby-ivar">@individual_category_non_deductionable</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@non_deductionable_amount</span>
1063:     <span class="ruby-ivar">@net_deductionable_amount</span> = <span class="ruby-ivar">@individual_category_deductionable</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@deductionable_amount</span>
1064: 
1065:     <span class="ruby-ivar">@net_amount</span> = <span class="ruby-ivar">@net_non_deductionable_amount</span> <span class="ruby-operator">-</span> <span class="ruby-ivar">@net_deductionable_amount</span>
1066:     <span class="ruby-identifier">render</span> <span class="ruby-identifier">:update</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">page</span><span class="ruby-operator">|</span>
1067:       <span class="ruby-identifier">page</span>.<span class="ruby-identifier">replace_html</span> <span class="ruby-value str">&quot;payslip&quot;</span>, <span class="ruby-identifier">:partial</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;update_employee_payslip&quot;</span>
1068:     <span class="ruby-keyword kw">end</span>
1069:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000068" class="method-detail">
        <a name="M000068"></a>

        <div class="method-heading">
          <a href="#M000068" class="method-signature">
          <span class="method-name">update_employee_select_list</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000068-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000068-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 845</span>
845:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">update_employee_select_list</span>
846:     <span class="ruby-identifier">department_id</span> = <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:department_id</span>]
847:     <span class="ruby-ivar">@employees</span> = <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">find_all_by_employee_department_id</span>(<span class="ruby-identifier">department_id</span>)
848: 
849:     <span class="ruby-identifier">render</span> <span class="ruby-identifier">:update</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">page</span><span class="ruby-operator">|</span>
850:       <span class="ruby-identifier">page</span>.<span class="ruby-identifier">replace_html</span> <span class="ruby-value str">'employees_select_list'</span>, <span class="ruby-identifier">:partial</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'employee_select_list'</span>, <span class="ruby-identifier">:object</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@employees</span>
851:     <span class="ruby-keyword kw">end</span>
852:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000061" class="method-detail">
        <a name="M000061"></a>

        <div class="method-heading">
          <a href="#M000061" class="method-signature">
          <span class="method-name">update_employees</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000061-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000061-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 787</span>
787:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">update_employees</span>
788:     <span class="ruby-ivar">@subject</span> = <span class="ruby-constant">Subject</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:subject_id</span>])
789:     <span class="ruby-ivar">@employees</span> = <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">find_all_by_employee_department_id</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:department_id</span>])
790:     <span class="ruby-identifier">render</span> <span class="ruby-identifier">:update</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">page</span><span class="ruby-operator">|</span>
791:       <span class="ruby-identifier">page</span>.<span class="ruby-identifier">replace_html</span> <span class="ruby-value str">'employee-list'</span>, <span class="ruby-identifier">:partial</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'employee_list'</span>
792:     <span class="ruby-keyword kw">end</span>
793:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000075" class="method-detail">
        <a name="M000075"></a>

        <div class="method-heading">
          <a href="#M000075" class="method-signature">
          <span class="method-name">update_employees_select</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000075-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000075-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 978</span>
978:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">update_employees_select</span>
979:     <span class="ruby-ivar">@employee</span> = <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:emp_id</span>]
980:     <span class="ruby-identifier">department_id</span> = <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:department_id</span>]
981:     <span class="ruby-ivar">@employees</span> = <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">find_all_by_employee_department_id</span>(<span class="ruby-identifier">department_id</span>)
982: 
983:     <span class="ruby-identifier">render</span> <span class="ruby-identifier">:update</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">page</span><span class="ruby-operator">|</span>
984:       <span class="ruby-identifier">page</span>.<span class="ruby-identifier">replace_html</span> <span class="ruby-value str">'employees_select'</span>, <span class="ruby-identifier">:partial</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'employee_select'</span>, <span class="ruby-identifier">:object</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@employees</span>
985:     <span class="ruby-keyword kw">end</span>
986:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000055" class="method-detail">
        <a name="M000055"></a>

        <div class="method-heading">
          <a href="#M000055" class="method-signature">
          <span class="method-name">update_monthly_payslip</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000055-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000055-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 683</span>
683:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">update_monthly_payslip</span>
684:     <span class="ruby-ivar">@currency_type</span> = <span class="ruby-constant">Configuration</span>.<span class="ruby-identifier">find_by_config_key</span>(<span class="ruby-value str">&quot;CurrencyType&quot;</span>).<span class="ruby-identifier">config_value</span>
685:     <span class="ruby-ivar">@salary_date</span> = <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:salary_date</span>]
686:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">:salary_date</span>] <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;&quot;</span>
687:       <span class="ruby-identifier">render</span> <span class="ruby-identifier">:update</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">page</span><span class="ruby-operator">|</span>
688:         <span class="ruby-identifier">page</span>.<span class="ruby-identifier">replace_html</span> <span class="ruby-value str">&quot;payslip_view&quot;</span>, <span class="ruby-identifier">:text</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;&quot;</span>
689:       <span class="ruby-keyword kw">end</span>
690:       <span class="ruby-keyword kw">return</span>
691:     <span class="ruby-keyword kw">end</span>
692:     <span class="ruby-ivar">@monthly_payslips</span> = <span class="ruby-constant">MonthlyPayslip</span>.<span class="ruby-identifier">find_all_by_salary_date</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:salary_date</span>],
693:       <span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;employee_id =#{params[:emp_id]}&quot;</span>,
694:       <span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;payroll_category_id ASC&quot;</span>)
695: 
696:     <span class="ruby-ivar">@individual_payslip_category</span> = <span class="ruby-constant">IndividualPayslipCategory</span>.<span class="ruby-identifier">find_all_by_salary_date</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:salary_date</span>],
697:       <span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-node">&quot;employee_id =#{params[:emp_id]}&quot;</span>,
698:       <span class="ruby-identifier">:order=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;id ASC&quot;</span>)
699:     <span class="ruby-ivar">@individual_category_non_deductionable</span> = <span class="ruby-value">0</span>
700:     <span class="ruby-ivar">@individual_category_deductionable</span> = <span class="ruby-value">0</span>
701:     <span class="ruby-ivar">@individual_payslip_category</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">pc</span><span class="ruby-operator">|</span>
702:       <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">pc</span>.<span class="ruby-identifier">is_deduction</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">true</span>
703:         <span class="ruby-ivar">@individual_category_non_deductionable</span> = <span class="ruby-ivar">@individual_category_non_deductionable</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">pc</span>.<span class="ruby-identifier">amount</span>.<span class="ruby-identifier">to_i</span>
704:       <span class="ruby-keyword kw">end</span>
705:     <span class="ruby-keyword kw">end</span>
706: 
707:     <span class="ruby-ivar">@individual_payslip_category</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">pc</span><span class="ruby-operator">|</span>
708:       <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">pc</span>.<span class="ruby-identifier">is_deduction</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">false</span>
709:         <span class="ruby-ivar">@individual_category_deductionable</span> = <span class="ruby-ivar">@individual_category_deductionable</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">pc</span>.<span class="ruby-identifier">amount</span>.<span class="ruby-identifier">to_i</span>
710:       <span class="ruby-keyword kw">end</span>
711:     <span class="ruby-keyword kw">end</span>
712: 
713:     <span class="ruby-ivar">@non_deductionable_amount</span> = <span class="ruby-value">0</span>
714:     <span class="ruby-ivar">@deductionable_amount</span> = <span class="ruby-value">0</span>
715:     <span class="ruby-ivar">@monthly_payslips</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">mp</span><span class="ruby-operator">|</span>
716:       <span class="ruby-identifier">category1</span> = <span class="ruby-constant">PayrollCategory</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">mp</span>.<span class="ruby-identifier">payroll_category_id</span>)
717:       <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">category1</span>.<span class="ruby-identifier">is_deduction</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">true</span>
718:         <span class="ruby-ivar">@non_deductionable_amount</span> = <span class="ruby-ivar">@non_deductionable_amount</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">mp</span>.<span class="ruby-identifier">amount</span>.<span class="ruby-identifier">to_i</span>
719:       <span class="ruby-keyword kw">end</span>
720:     <span class="ruby-keyword kw">end</span>
721: 
722:     <span class="ruby-ivar">@monthly_payslips</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">mp</span><span class="ruby-operator">|</span>
723:       <span class="ruby-identifier">category2</span> = <span class="ruby-constant">PayrollCategory</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">mp</span>.<span class="ruby-identifier">payroll_category_id</span>)
724:       <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">category2</span>.<span class="ruby-identifier">is_deduction</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">false</span>
725:         <span class="ruby-ivar">@deductionable_amount</span> = <span class="ruby-ivar">@deductionable_amount</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">mp</span>.<span class="ruby-identifier">amount</span>.<span class="ruby-identifier">to_i</span>
726:       <span class="ruby-keyword kw">end</span>
727:     <span class="ruby-keyword kw">end</span>
728: 
729:     <span class="ruby-ivar">@net_non_deductionable_amount</span> = <span class="ruby-ivar">@individual_category_non_deductionable</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@non_deductionable_amount</span>
730:     <span class="ruby-ivar">@net_deductionable_amount</span> = <span class="ruby-ivar">@individual_category_deductionable</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@deductionable_amount</span>
731: 
732:     <span class="ruby-ivar">@net_amount</span> = <span class="ruby-ivar">@net_non_deductionable_amount</span> <span class="ruby-operator">-</span> <span class="ruby-ivar">@net_deductionable_amount</span>
733:     <span class="ruby-identifier">render</span> <span class="ruby-identifier">:update</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">page</span><span class="ruby-operator">|</span>
734:       <span class="ruby-identifier">page</span>.<span class="ruby-identifier">replace_html</span> <span class="ruby-value str">&quot;payslip_view&quot;</span>, <span class="ruby-identifier">:partial</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;view_payslip&quot;</span>
735:     <span class="ruby-keyword kw">end</span>
736:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000020" class="method-detail">
        <a name="M000020"></a>

        <div class="method-heading">
          <a href="#M000020" class="method-signature">
          <span class="method-name">update_positions</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000020-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000020-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 237</span>
237:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">update_positions</span>
238:     <span class="ruby-identifier">category</span> = <span class="ruby-constant">EmployeeCategory</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:category_id</span>])
239:     <span class="ruby-ivar">@positions</span> = <span class="ruby-constant">EmployeePosition</span>.<span class="ruby-identifier">find_all_by_employee_category_id</span>(<span class="ruby-identifier">category</span>.<span class="ruby-identifier">id</span>)
240:     <span class="ruby-identifier">render</span> <span class="ruby-identifier">:update</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">page</span><span class="ruby-operator">|</span>
241:       <span class="ruby-identifier">page</span>.<span class="ruby-identifier">replace_html</span> <span class="ruby-value str">'positions1'</span>, <span class="ruby-identifier">:partial</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'positions'</span>, <span class="ruby-identifier">:object</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@positions</span>  
242:     <span class="ruby-keyword kw">end</span>
243:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000034" class="method-detail">
        <a name="M000034"></a>

        <div class="method-heading">
          <a href="#M000034" class="method-signature">
          <span class="method-name">update_reporting_manager_name</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000034-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000034-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 427</span>
427:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">update_reporting_manager_name</span>
428:     <span class="ruby-identifier">employee</span> = <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:employee_reporting_manager_id</span>])
429:     <span class="ruby-identifier">render</span> <span class="ruby-identifier">:text</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">employee</span>.<span class="ruby-identifier">first_name</span> <span class="ruby-operator">+</span> <span class="ruby-value str">' '</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">employee</span>.<span class="ruby-identifier">last_name</span>
430:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000059" class="method-detail">
        <a name="M000059"></a>

        <div class="method-heading">
          <a href="#M000059" class="method-signature">
          <span class="method-name">update_subjects</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000059-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000059-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 769</span>
769:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">update_subjects</span>
770:     <span class="ruby-identifier">batch</span> = <span class="ruby-constant">Batch</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:batch_id</span>])
771:     <span class="ruby-ivar">@subjects</span> = <span class="ruby-constant">Subject</span>.<span class="ruby-identifier">find_all_by_batch_id</span>(<span class="ruby-identifier">batch</span>.<span class="ruby-identifier">id</span>,<span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;is_deleted=false&quot;</span>)
772: 
773:     <span class="ruby-identifier">render</span> <span class="ruby-identifier">:update</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">page</span><span class="ruby-operator">|</span>
774:       <span class="ruby-identifier">page</span>.<span class="ruby-identifier">replace_html</span> <span class="ruby-value str">'subjects1'</span>, <span class="ruby-identifier">:partial</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'subjects'</span>, <span class="ruby-identifier">:object</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@subjects</span>
775:     <span class="ruby-keyword kw">end</span>
776:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000047" class="method-detail">
        <a name="M000047"></a>

        <div class="method-heading">
          <a href="#M000047" class="method-signature">
          <span class="method-name">view_all</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000047-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000047-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 570</span>
570:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">view_all</span>
571:     <span class="ruby-ivar">@departments</span> = <span class="ruby-constant">EmployeeDepartment</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>)
572:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000057" class="method-detail">
        <a name="M000057"></a>

        <div class="method-heading">
          <a href="#M000057" class="method-signature">
          <span class="method-name">view_attendance</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000057-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000057-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 751</span>
751:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">view_attendance</span>
752:     <span class="ruby-ivar">@employee</span> = <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
753:     <span class="ruby-ivar">@attendance_report</span> = <span class="ruby-constant">EmployeeAttendance</span>.<span class="ruby-identifier">find_all_by_employee_id</span>(<span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">id</span>)
754:     <span class="ruby-ivar">@leave_types</span> = <span class="ruby-constant">EmployeeLeaveType</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">:all</span>, <span class="ruby-identifier">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;status = true&quot;</span>)
755: 
756:     <span class="ruby-ivar">@total_leaves</span> = <span class="ruby-value">0</span>
757:     <span class="ruby-ivar">@leave_types</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">lt</span><span class="ruby-operator">|</span>
758:       <span class="ruby-identifier">leave_count</span> = <span class="ruby-constant">EmployeeAttendance</span>.<span class="ruby-identifier">find_all_by_employee_id_and_employee_leave_type_id</span>(<span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">id</span>,<span class="ruby-identifier">lt</span>.<span class="ruby-identifier">id</span>).<span class="ruby-identifier">size</span>
759:       <span class="ruby-ivar">@total_leaves</span> = <span class="ruby-ivar">@total_leaves</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">leave_count</span>
760:     <span class="ruby-keyword kw">end</span>
761:     <span class="ruby-identifier">render</span> <span class="ruby-identifier">:partial</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;attendance_report&quot;</span>
762:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000054" class="method-detail">
        <a name="M000054"></a>

        <div class="method-heading">
          <a href="#M000054" class="method-signature">
          <span class="method-name">view_payslip</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000054-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000054-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 677</span>
677:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">view_payslip</span>
678:     <span class="ruby-ivar">@employee</span> = <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
679:     <span class="ruby-ivar">@salary_dates</span> = <span class="ruby-constant">MonthlyPayslip</span>.<span class="ruby-identifier">find_all_by_employee_id</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>], <span class="ruby-identifier">:conditions=</span><span class="ruby-operator">&gt;</span><span class="ruby-value str">&quot;is_approved = true&quot;</span>,<span class="ruby-identifier">:select</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;distinct salary_date&quot;</span>)
680:     <span class="ruby-identifier">render</span> <span class="ruby-identifier">:partial</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;select_dates&quot;</span>
681:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000032" class="method-detail">
        <a name="M000032"></a>

        <div class="method-heading">
          <a href="#M000032" class="method-signature">
          <span class="method-name">view_rep_manager</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000032-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000032-source">
<pre>
     <span class="ruby-comment cmt"># File app/controllers/employee_controller.rb, line 406</span>
406:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">view_rep_manager</span>
407:     <span class="ruby-ivar">@employee</span>= <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-identifier">:id</span>])
408:     <span class="ruby-ivar">@reporting_manager</span> = <span class="ruby-constant">Employee</span>.<span class="ruby-identifier">find</span>(<span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">reporting_manager_id</span>).<span class="ruby-identifier">first_name</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@employee</span>.<span class="ruby-identifier">reporting_manager_id</span>.<span class="ruby-identifier">nil?</span>
409:     <span class="ruby-identifier">render</span> <span class="ruby-identifier">:partial</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;view_rep_manager&quot;</span>
410:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>


    </div>


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>